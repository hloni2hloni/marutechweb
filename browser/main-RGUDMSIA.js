var xS=Object.defineProperty,PS=Object.defineProperties;var OS=Object.getOwnPropertyDescriptors;var e_=Object.getOwnPropertySymbols;var kS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable;var t_=(n,e,t)=>e in n?xS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,R=(n,e)=>{for(var t in e||={})kS.call(e,t)&&t_(n,t,e[t]);if(e_)for(var t of e_(e))FS.call(e,t)&&t_(n,t,e[t]);return n},Z=(n,e)=>PS(n,OS(e));var k=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(d){i(d)}},s=u=>{try{c(t.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var Wd;function cc(){return Wd}function Yt(n){let e=Wd;return Wd=n,e}var n_=Symbol("NotFound");function ri(n){return n===n_||n?.name==="\u0275NotFound"}var Xe=null,uc=!1,Kd=1,LS=null,et=Symbol("SIGNAL");function J(n){let e=Xe;return Xe=n,e}function hc(){return Xe}var ii={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oi(n){if(uc)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(n);let e=Xe.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Xe.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Xe.producers,t!==void 0&&t.producer===n)){Xe.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Xe&&(!r||jS(i,Xe)))return;let o=ai(Xe),s={producer:n,consumer:Xe,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Xe.producersTail=s,e!==void 0?e.nextProducer=s:Xe.producers=s,o&&s_(n,s)}function r_(){Kd++}function pc(n){if(!(ai(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Kd)){if(!n.producerMustRecompute(n)&&!rs(n)){fc(n);return}n.producerRecomputeValue(n),fc(n)}}function Qd(n){if(n.consumers===void 0)return;let e=uc;uc=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||VS(r)}}finally{uc=e}}function Yd(){return Xe?.consumerAllowSignalWrites!==!1}function VS(n){n.dirty=!0,Qd(n),n.consumerMarkedDirty?.(n)}function fc(n){n.dirty=!1,n.lastCleanEpoch=Kd}function si(n){return n&&i_(n),J(n)}function i_(n){n.producersTail=void 0,n.recomputing=!0}function ns(n,e){J(e),n&&o_(n)}function o_(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ai(n))do t=Zd(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function rs(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(pc(t),r!==t.version))return!0}return!1}function is(n){if(ai(n)){let e=n.producers;for(;e!==void 0;)e=Zd(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function s_(n,e){let t=n.consumersTail,r=ai(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)s_(i.producer,i)}function Zd(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ai(e)){let o=e.producers;for(;o!==void 0;)o=Zd(o)}return t}function ai(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function gc(n){LS?.(n)}function jS(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function mc(n,e){return Object.is(n,e)}function yc(n,e){let t=Object.create(BS);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(pc(t),oi(t),t.value===ts)throw t.error;return t.value};return r[et]=t,gc(t),r}var lc=Symbol("UNSET"),dc=Symbol("COMPUTING"),ts=Symbol("ERRORED"),BS=Z(R({},ii),{value:lc,dirty:!0,error:null,equal:mc,kind:"computed",producerMustRecompute(n){return n.value===lc||n.value===dc},producerRecomputeValue(n){if(n.value===dc)throw new Error("");let e=n.value;n.value=dc;let t=si(n),r,i=!1;try{r=n.computation(),J(null),i=e!==lc&&e!==ts&&r!==ts&&n.equal(e,r)}catch(o){r=ts,n.error=o}finally{ns(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function US(){throw new Error}var a_=US;function c_(n){a_(n)}function Jd(n){a_=n}var $S=null;function Xd(n,e){let t=Object.create(vc);t.value=n,e!==void 0&&(t.equal=e);let r=()=>u_(t);return r[et]=t,gc(t),[r,s=>ci(t,s),s=>ef(t,s)]}function u_(n){return oi(n),n.value}function ci(n,e){Yd()||c_(n),n.equal(n.value,e)||(n.value=e,HS(n))}function ef(n,e){Yd()||c_(n),ci(n,e(n.value))}var vc=Z(R({},ii),{equal:mc,value:void 0,kind:"signal"});function HS(n){n.version++,r_(),Qd(n),$S?.(n)}function K(n){return typeof n=="function"}function ui(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var _c=ui(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function os(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof _c?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{l_(o)}catch(s){e=e??[],s instanceof _c?e=[...e,...s.errors]:e.push(s)}}if(e)throw new _c(e)}}add(e){var t;if(e&&e!==this)if(this.closed)l_(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&os(t,e)}remove(e){let{_finalizers:t}=this;t&&os(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var tf=Me.EMPTY;function Ec(n){return n instanceof Me||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function l_(n){K(n)?n():n.unsubscribe()}var Vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var li={setTimeout(n,e,...t){let{delegate:r}=li;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=li;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wc(n){li.setTimeout(()=>{let{onUnhandledError:e}=Vt;if(e)e(n);else throw n})}function ss(){}var d_=nf("C",void 0,void 0);function f_(n){return nf("E",void 0,n)}function h_(n){return nf("N",n,void 0)}function nf(n,e,t){return{kind:n,value:e,error:t}}var Dr=null;function di(n){if(Vt.useDeprecatedSynchronousErrorHandling){let e=!Dr;if(e&&(Dr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Dr;if(Dr=null,t)throw r}}else n()}function p_(n){Vt.useDeprecatedSynchronousErrorHandling&&Dr&&(Dr.errorThrown=!0,Dr.error=n)}var br=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ec(e)&&e.add(this)):this.destination=GS}static create(e,t,r){return new fi(e,t,r)}next(e){this.isStopped?of(h_(e),this):this._next(e)}error(e){this.isStopped?of(f_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?of(d_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zS=Function.prototype.bind;function rf(n,e){return zS.call(n,e)}var sf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ic(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ic(r)}else Ic(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ic(t)}}},fi=class extends br{constructor(e,t,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Vt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rf(e.next,o),error:e.error&&rf(e.error,o),complete:e.complete&&rf(e.complete,o)}):i=e}this.destination=new sf(i)}};function Ic(n){Vt.useDeprecatedSynchronousErrorHandling?p_(n):wc(n)}function qS(n){throw n}function of(n,e){let{onStoppedNotification:t}=Vt;t&&li.setTimeout(()=>t(n,e))}var GS={closed:!0,next:ss,error:qS,complete:ss};var hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(n){return n}function af(...n){return cf(n)}function cf(n){return n.length===0?Et:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var oe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=KS(t)?t:new fi(t,r,i);return di(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=g_(r),new r((i,o)=>{let s=new fi({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[hi](){return this}pipe(...t){return cf(t)(this)}toPromise(t){return t=g_(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function g_(n){var e;return(e=n??Vt.Promise)!==null&&e!==void 0?e:Promise}function WS(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function KS(n){return n&&n instanceof br||WS(n)&&Ec(n)}function uf(n){return K(n?.lift)}function ae(n){return e=>{if(uf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function re(n,e,t,r,i){return new lf(n,e,t,r,i)}var lf=class extends br{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pi(){return ae((n,e)=>{let t=null;n._refCount++;let r=re(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var gi=class extends oe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,uf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let t=this.getSubject();e.add(this.source.subscribe(re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return pi()(this)}};var m_=ui(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Dc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new m_}next(t){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?tf:(this.currentObservers=null,o.push(t),new Me(()=>{this.currentObservers=null,os(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new oe;return t.source=this,t}}return n.create=(e,t)=>new Dc(e,t),n})(),Dc=class extends Le{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:tf}};var We=class extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var dt=new oe(n=>n.complete());function y_(n){return n&&K(n.schedule)}function v_(n){return n[n.length-1]}function bc(n){return K(v_(n))?n.pop():void 0}function zn(n){return y_(v_(n))?n.pop():void 0}function E_(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(h){try{d(r.next(h))}catch(g){s(g)}}function u(h){try{d(r.throw(h))}catch(g){s(g)}}function d(h){h.done?o(h.value):i(h.value).then(c,u)}d((r=r.apply(n,e||[])).next())})}function __(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(n){return this instanceof Cr?(this.v=n,this):new Cr(n)}function w_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,g)}}function c(_,S){r[_]&&(i[_]=function(N){return new Promise(function(M,L){o.push([_,N,M,L])>1||u(_,N)})},S&&(i[_]=S(i[_])))}function u(_,S){try{d(r[_](S))}catch(N){m(o[0][3],N)}}function d(_){_.value instanceof Cr?Promise.resolve(_.value.v).then(h,g):m(o[0][2],_)}function h(_){u("next",_)}function g(_){u("throw",_)}function m(_,S){_(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function I_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __=="function"?__(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(d){o({value:d,done:c})},s)}}var Cc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tc(n){return K(n?.then)}function Sc(n){return K(n[hi])}function Ac(n){return Symbol.asyncIterator&&K(n?.[Symbol.asyncIterator])}function Mc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rc=QS();function Nc(n){return K(n?.[Rc])}function xc(n){return w_(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Cr(t.read());if(i)return yield Cr(void 0);yield yield Cr(r)}}finally{t.releaseLock()}})}function Pc(n){return K(n?.getReader)}function Re(n){if(n instanceof oe)return n;if(n!=null){if(Sc(n))return YS(n);if(Cc(n))return ZS(n);if(Tc(n))return JS(n);if(Ac(n))return D_(n);if(Nc(n))return XS(n);if(Pc(n))return e0(n)}throw Mc(n)}function YS(n){return new oe(e=>{let t=n[hi]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZS(n){return new oe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function JS(n){return new oe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wc)})}function XS(n){return new oe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function D_(n){return new oe(e=>{t0(n,e).catch(t=>e.error(t))})}function e0(n){return D_(xc(n))}function t0(n,e){var t,r,i,o;return E_(this,void 0,void 0,function*(){try{for(t=I_(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function ft(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Oc(n,e=0){return ae((t,r)=>{t.subscribe(re(r,i=>ft(r,n,()=>r.next(i),e),()=>ft(r,n,()=>r.complete(),e),i=>ft(r,n,()=>r.error(i),e)))})}function kc(n,e=0){return ae((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function b_(n,e){return Re(n).pipe(kc(e),Oc(e))}function C_(n,e){return Re(n).pipe(kc(e),Oc(e))}function T_(n,e){return new oe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function S_(n,e){return new oe(t=>{let r;return ft(t,e,()=>{r=n[Rc](),ft(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Fc(n,e){if(!n)throw new Error("Iterable cannot be null");return new oe(t=>{ft(t,e,()=>{let r=n[Symbol.asyncIterator]();ft(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function A_(n,e){return Fc(xc(n),e)}function M_(n,e){if(n!=null){if(Sc(n))return b_(n,e);if(Cc(n))return T_(n,e);if(Tc(n))return C_(n,e);if(Ac(n))return Fc(n,e);if(Nc(n))return S_(n,e);if(Pc(n))return A_(n,e)}throw Mc(n)}function Ce(n,e){return e?M_(n,e):Re(n)}function G(...n){let e=zn(n);return Ce(n,e)}function mi(n,e){let t=K(n)?n:()=>n,r=i=>i.error(t());return new oe(e?i=>e.schedule(r,0,i):r)}function df(n){return!!n&&(n instanceof oe||K(n.lift)&&K(n.subscribe))}var dn=ui(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return ae((t,r)=>{let i=0;t.subscribe(re(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:n0}=Array;function r0(n,e){return n0(e)?n(...e):n(e)}function Lc(n){return ie(e=>r0(n,e))}var{isArray:i0}=Array,{getPrototypeOf:o0,prototype:s0,keys:a0}=Object;function Vc(n){if(n.length===1){let e=n[0];if(i0(e))return{args:e,keys:null};if(c0(e)){let t=a0(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function c0(n){return n&&typeof n=="object"&&o0(n)===s0}function jc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Bc(...n){let e=zn(n),t=bc(n),{args:r,keys:i}=Vc(n);if(r.length===0)return Ce([],e);let o=new oe(u0(r,e,i?s=>jc(i,s):Et));return t?o.pipe(Lc(t)):o}function u0(n,e,t=Et){return r=>{R_(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)R_(e,()=>{let d=Ce(n[u],e),h=!1;d.subscribe(re(r,g=>{o[u]=g,h||(h=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function R_(n,e,t){n?ft(t,n,e):e()}function N_(n,e,t,r,i,o,s,c){let u=[],d=0,h=0,g=!1,m=()=>{g&&!u.length&&!d&&e.complete()},_=N=>d<r?S(N):u.push(N),S=N=>{o&&e.next(N),d++;let M=!1;Re(t(N,h++)).subscribe(re(e,L=>{i?.(L),o?_(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;u.length&&d<r;){let L=u.shift();s?ft(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(re(e,_,()=>{g=!0,m()})),()=>{c?.()}}function Ve(n,e,t=1/0){return K(e)?Ve((r,i)=>ie((o,s)=>e(r,o,i,s))(Re(n(r,i))),t):(typeof e=="number"&&(t=e),ae((r,i)=>N_(r,i,n,t)))}function x_(n=1/0){return Ve(Et,n)}function P_(){return x_(1)}function yi(...n){return P_()(Ce(n,zn(n)))}function as(n){return new oe(e=>{Re(n()).subscribe(e)})}function ff(...n){let e=bc(n),{args:t,keys:r}=Vc(n),i=new oe(o=>{let{length:s}=t;if(!s){o.complete();return}let c=new Array(s),u=s,d=s;for(let h=0;h<s;h++){let g=!1;Re(t[h]).subscribe(re(o,m=>{g||(g=!0,d--),c[h]=m},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?jc(r,c):c),o.complete())}))}});return e?i.pipe(Lc(e)):i}function St(n,e){return ae((t,r)=>{let i=0;t.subscribe(re(r,o=>n.call(e,o,i++)&&r.next(o)))})}function qn(n){return ae((e,t)=>{let r=null,i=!1,o;r=e.subscribe(re(t,void 0,void 0,s=>{o=Re(n(s,qn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function O_(n,e,t,r,i){return(o,s)=>{let c=t,u=e,d=0;o.subscribe(re(s,h=>{let g=d++;u=c?n(u,h,g):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function vi(n,e){return K(e)?Ve(n,e,1):Ve(n,1)}function Gn(n){return ae((e,t)=>{let r=!1;e.subscribe(re(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fn(n){return n<=0?()=>dt:ae((e,t)=>{let r=0;e.subscribe(re(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uc(n=l0){return ae((e,t)=>{let r=!1;e.subscribe(re(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function l0(){return new dn}function cs(n){return ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Et,fn(1),t?Gn(e):Uc(()=>new dn))}function _i(n){return n<=0?()=>dt:ae((e,t)=>{let r=[];e.subscribe(re(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function hf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Et,_i(1),t?Gn(e):Uc(()=>new dn))}function pf(n,e){return ae(O_(n,e,arguments.length>=2,!0))}function gf(...n){let e=zn(n);return ae((t,r)=>{(e?yi(n,t,e):yi(n,t)).subscribe(r)})}function ht(n,e){return ae((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(re(r,u=>{i?.unsubscribe();let d=0,h=o++;Re(n(u,h)).subscribe(i=re(r,g=>r.next(e?e(u,g,h,d++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function $c(n){return ae((e,t)=>{Re(n).subscribe(re(t,()=>t.complete(),ss)),!t.closed&&e.subscribe(t)})}function He(n,e,t){let r=K(n)||e||t?{next:n,error:e,complete:t}:n;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(re(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Et}function k_(n){let e=J(null);try{return n()}finally{J(e)}}var Gc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(Sf(e,t)),this.code=e}};function d0(n){return`NG0${Math.abs(n)}`}function Sf(n,e){return`${d0(n)}${e?": "+e:""}`}function pe(n){for(let e in n)if(n[e]===pe)return e;throw Error("")}function V_(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function gn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(gn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Af(n,e){return n?e?`${n} ${e}`:n:e||""}var f0=pe({__forward_ref__:pe});function Kn(n){return n.__forward_ref__=Kn,n.toString=function(){return gn(this())},n}function Ke(n){return Mf(n)?n():n}function Mf(n){return typeof n=="function"&&n.hasOwnProperty(f0)&&n.__forward_ref__===Kn}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mn(n){return{providers:n.providers||[],imports:n.imports||[]}}function fs(n){return h0(n,Wc)}function Rf(n){return fs(n)!==null}function h0(n,e){return n.hasOwnProperty(e)&&n[e]||null}function p0(n){let e=n?.[Wc]??null;return e||null}function yf(n){return n&&n.hasOwnProperty(zc)?n[zc]:null}var Wc=pe({\u0275prov:pe}),zc=pe({\u0275inj:pe}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nf(n){return n&&!!n.\u0275providers}var xf=pe({\u0275cmp:pe}),Pf=pe({\u0275dir:pe}),Of=pe({\u0275pipe:pe}),kf=pe({\u0275mod:pe}),ls=pe({\u0275fac:pe}),xr=pe({__NG_ELEMENT_ID__:pe}),F_=pe({__NG_ENV_ID__:pe});function Kc(n){return typeof n=="string"?n:n==null?"":String(n)}function j_(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Kc(n)}var B_=pe({ngErrorCode:pe}),g0=pe({ngErrorMessage:pe}),m0=pe({ngTokenPath:pe});function Ff(n,e){return U_("",-200,e)}function Qc(n,e){throw new V(-201,!1)}function U_(n,e,t){let r=new V(e,n);return r[B_]=e,r[g0]=n,t&&(r[m0]=t),r}function y0(n){return n[B_]}var vf;function $_(){return vf}function wt(n){let e=vf;return vf=n,e}function Lf(n,e,t){let r=fs(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Qc(n,"Injector")}var v0={},Tr=v0,_0="__NG_DI_FLAG__",_f=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Sr(t)||0;try{return this.injector.get(e,r&8?null:Tr,r)}catch(i){if(ri(i))return i;throw i}}};function E0(n,e=0){let t=cc();if(t===void 0)throw new V(-203,!1);if(t===null)return Lf(n,void 0,e);{let r=w0(e),i=t.retrieve(n,r);if(ri(i)){if(r.optional)return null;throw i}return i}}function X(n,e=0){return($_()||E0)(Ke(n),e)}function x(n,e){return X(n,Sr(e))}function Sr(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function w0(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Ef(n){let e=[];for(let t=0;t<n.length;t++){let r=Ke(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=I0(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(X(i,o))}else e.push(X(r))}return e}function I0(n){return n[_0]}function Ar(n,e){let t=n.hasOwnProperty(ls);return t?n[ls]:null}function Yc(n,e){n.forEach(t=>Array.isArray(t)?Yc(t,e):e(t))}function Vf(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hs(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function H_(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function z_(n,e,t){let r=wi(n,e);return r>=0?n[r|1]=t:(r=~r,H_(n,r,e,t)),r}function Zc(n,e){let t=wi(n,e);if(t>=0)return n[t|1]}function wi(n,e){return D0(n,e,1)}function D0(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Qn={},It=[],yn=new $(""),jf=new $("",-1),Bf=new $(""),ds=class{get(e,t=Tr){if(t===Tr){let i=U_("",-201);throw i.name="\u0275NotFound",i}return t}};function Uf(n){return n[kf]||null}function Yn(n){return n[xf]||null}function $f(n){return n[Pf]||null}function q_(n){return n[Of]||null}function Pr(n){return{\u0275providers:n}}function G_(n){return Pr([{provide:yn,multi:!0,useValue:n}])}function W_(...n){return{\u0275providers:Hf(!0,n),\u0275fromNgModule:!0}}function Hf(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Yc(e,s=>{let c=s;qc(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&K_(i,o),t}function K_(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];zf(i,o=>{e(o,r)})}}function qc(n,e,t,r){if(n=Ke(n),!n)return!1;let i=null,o=yf(n),s=!o&&Yn(n);if(!o&&!s){let u=n.ngModule;if(o=yf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)qc(d,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let d;try{Yc(o.imports,h=>{qc(h,e,t,r)&&(d||=[],d.push(h))})}finally{}d!==void 0&&K_(d,e)}if(!c){let d=Ar(i)||(()=>new i);e({provide:i,useFactory:d,deps:It},i),e({provide:Bf,useValue:i,multi:!0},i),e({provide:yn,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let d=n;zf(u,h=>{e(h,d)})}}else return!1;return i!==n&&n.providers!==void 0}function zf(n,e){for(let t of n)Nf(t)&&(t=t.\u0275providers),Array.isArray(t)?zf(t,e):e(t)}var b0=pe({provide:String,useValue:pe});function Q_(n){return n!==null&&typeof n=="object"&&b0 in n}function C0(n){return!!(n&&n.useExisting)}function T0(n){return!!(n&&n.useFactory)}function Mr(n){return typeof n=="function"}function Y_(n){return!!n.useClass}var ps=new $(""),Hc={},L_={},mf;function gs(){return mf===void 0&&(mf=new ds),mf}var Qe=class{},Rr=class extends Qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,If(e,s=>this.processProvider(s)),this.records.set(jf,Ei(void 0,this)),i.has("environment")&&this.records.set(Qe,Ei(void 0,this));let o=this.records.get(ps);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bf,It,{self:!0}))}retrieve(e,t){let r=Sr(t)||0;try{return this.get(e,Tr,r)}catch(i){if(ri(i))return i;throw i}}destroy(){us(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return us(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){us(this);let t=Yt(this),r=wt(void 0),i;try{return e()}finally{Yt(t),wt(r)}}get(e,t=Tr,r){if(us(this),e.hasOwnProperty(F_))return e[F_](this);let i=Sr(r),o,s=Yt(this),c=wt(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let h=N0(e)&&fs(e);h&&this.injectableDefInScope(h)?d=Ei(wf(e),Hc):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let u=i&2?gs():this.parent;return t=i&8&&t===Tr?null:t,u.get(e,t)}catch(u){let d=y0(u);throw d===-200||d===-201?new V(d,null):u}finally{wt(c),Yt(s)}}resolveInjectorInitializers(){let e=J(null),t=Yt(this),r=wt(void 0),i;try{let o=this.get(yn,It,{self:!0});for(let s of o)s()}finally{Yt(t),wt(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(gn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ke(e);let t=Mr(e)?e:Ke(e&&e.provide),r=A0(e);if(!Mr(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ei(void 0,Hc,!0),i.factory=()=>Ef(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=J(null);try{if(t.value===L_)throw Ff(gn(e));return t.value===Hc&&(t.value=L_,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&R0(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ke(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wf(n){let e=fs(n),t=e!==null?e.factory:Ar(n);if(t!==null)return t;if(n instanceof $)throw new V(204,!1);if(n instanceof Function)return S0(n);throw new V(204,!1)}function S0(n){if(n.length>0)throw new V(204,!1);let t=p0(n);return t!==null?()=>t.factory(n):()=>new n}function A0(n){if(Q_(n))return Ei(void 0,n.useValue);{let e=qf(n);return Ei(e,Hc)}}function qf(n,e,t){let r;if(Mr(n)){let i=Ke(n);return Ar(i)||wf(i)}else if(Q_(n))r=()=>Ke(n.useValue);else if(T0(n))r=()=>n.useFactory(...Ef(n.deps||[]));else if(C0(n))r=(i,o)=>X(Ke(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ke(n&&(n.useClass||n.provide));if(M0(n))r=()=>new i(...Ef(n.deps));else return Ar(i)||wf(i)}return r}function us(n){if(n.destroyed)throw new V(205,!1)}function Ei(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function M0(n){return!!n.deps}function R0(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function N0(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function If(n,e){for(let t of n)Array.isArray(t)?If(t,e):t&&Nf(t)?If(t.\u0275providers,e):e(t)}function at(n,e){let t;n instanceof Rr?(us(n),t=n):t=new _f(n);let r,i=Yt(t),o=wt(void 0);try{return e()}finally{Yt(i),wt(o)}}function Z_(){return $_()!==void 0||cc()!=null}var Bt=0,ee=1,Q=2,Ye=3,At=4,Mt=5,ms=6,Ii=7,pt=8,Zn=9,Jt=10,Te=11,Di=12,Gf=13,bi=14,Rt=15,Or=16,kr=17,Fr=18,ys=19,Wf=20,pn=21,Jc=22,vs=23,Dt=24,Xc=25,_s=26,bt=27,J_=1;var Jn=7,Es=8,ws=9,gt=10;function Xt(n){return Array.isArray(n)&&typeof n[J_]=="object"}function Ut(n){return Array.isArray(n)&&n[J_]===!0}function Kf(n){return(n.flags&4)!==0}function Xn(n){return n.componentOffset>-1}function Is(n){return(n.flags&1)===1}function en(n){return!!n.template}function Ci(n){return(n[Q]&512)!==0}function Lr(n){return(n[Q]&256)===256}var X_="svg",eE="math";function Nt(n){for(;Array.isArray(n);)n=n[Bt];return n}function Qf(n,e){return Nt(e[n])}function tn(n,e){return Nt(e[n.index])}function eu(n,e){return n.data[e]}function xt(n,e){let t=e[n];return Xt(t)?t:t[Bt]}function tu(n){return(n[Q]&128)===128}function tE(n){return Ut(n[Ye])}function Ds(n,e){return e==null?null:n[e]}function Yf(n){n[kr]=0}function Zf(n){n[Q]&1024||(n[Q]|=1024,tu(n)&&Cs(n))}function bs(n){return!!(n[Q]&9216||n[Dt]?.dirty)}function nu(n){n[Jt].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),bs(n)&&Cs(n)}function Cs(n){n[Jt].changeDetectionScheduler?.notify(0);let e=Wn(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!tu(e)));)e=Wn(e)}function Jf(n,e){if(Lr(n))throw new V(911,!1);n[pn]===null&&(n[pn]=[]),n[pn].push(e)}function nE(n,e){if(n[pn]===null)return;let t=n[pn].indexOf(e);t!==-1&&n[pn].splice(t,1)}function Wn(n){let e=n[Ye];return Ut(e)?e[Ye]:e}function rE(n){return n[Ii]??=[]}function iE(n){return n.cleanup??=[]}var fe={lFrame:EE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Df=!1;function oE(){return fe.lFrame.elementDepthCount}function sE(){fe.lFrame.elementDepthCount++}function aE(){fe.lFrame.elementDepthCount--}function Xf(){return fe.bindingsEnabled}function cE(){return fe.skipHydrationRootTNode!==null}function uE(n){return fe.skipHydrationRootTNode===n}function lE(){fe.skipHydrationRootTNode=null}function we(){return fe.lFrame.lView}function Pt(){return fe.lFrame.tView}function mt(){let n=eh();for(;n!==null&&n.type===64;)n=n.parent;return n}function eh(){return fe.lFrame.currentTNode}function dE(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ti(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function th(){return fe.lFrame.isParent}function fE(){fe.lFrame.isParent=!1}function nh(){return Df}function rh(n){let e=Df;return Df=n,e}function hE(n){return fe.lFrame.bindingIndex=n}function ru(){return fe.lFrame.bindingIndex++}function pE(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function gE(){return fe.lFrame.inI18n}function mE(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,iu(e)}function yE(){return fe.lFrame.currentDirectiveIndex}function iu(n){fe.lFrame.currentDirectiveIndex=n}function vE(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ih(n){fe.lFrame.currentQueryIndex=n}function x0(n){let e=n[ee];return e.type===2?e.declTNode:e.type===1?n[Mt]:null}function oh(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=x0(o),i===null||(o=o[bi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=_E();return r.currentTNode=e,r.lView=n,!0}function ou(n){let e=_E(),t=n[ee];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _E(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?EE(n):e}function EE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function wE(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sh=wE;function su(){let n=wE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vr(){return fe.lFrame.selectedIndex}function er(n){fe.lFrame.selectedIndex=n}function ah(){let n=fe.lFrame;return eu(n.tView,n.selectedIndex)}function IE(){return fe.lFrame.currentNamespace}var DE=!0;function au(){return DE}function cu(n){DE=n}function bf(n,e=null,t=null,r){let i=ch(n,e,t,r);return i.resolveInjectorInitializers(),i}function ch(n,e=null,t=null,r,i=new Set){let o=[t||It,W_(n)];return r=r||(typeof n=="object"?void 0:gn(n)),new Rr(o,e||gs(),r||null,i)}var jt=class n{static THROW_IF_NOT_FOUND=Tr;static NULL=new ds;static create(e,t){if(Array.isArray(e))return bf({name:""},t,e,"");{let r=e.name??"";return bf({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>X(jf)});static __NG_ELEMENT_ID__=-1},ze=new $(""),tr=(()=>{class n{static __NG_ELEMENT_ID__=P0;static __NG_ENV_ID__=t=>t}return n})(),Cf=class extends tr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Lr(this._lView)}onDestroy(e){let t=this._lView;return Jf(t,e),()=>nE(t,e)}};function P0(){return new Cf(we())}var Zt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ot=new $("",{providedIn:"root",factory:()=>{let n=x(Qe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Zt),e.handleError(t))}}}),bE={provide:yn,useValue:()=>void x(Zt),multi:!0},O0=new $("",{providedIn:"root",factory:()=>{let n=x(ze).defaultView;if(!n)return;let e=x(Ot),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),x(tr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function uh(){return Pr([G_(()=>void x(O0))])}function lh(n){return typeof n=="function"&&n[et]!==void 0}function nn(n,e){let[t,r,i]=Xd(n,e?.equal),o=t,s=o[et];return o.set=r,o.update=i,o.asReadonly=CE.bind(o),o}function CE(){let n=this[et];if(n.readonlyFn===void 0){let e=()=>this();e[et]=n,n.readonlyFn=e}return n.readonlyFn}function dh(n){return lh(n)&&typeof n.set=="function"}var Nr=class{},Ts=new $("",{providedIn:"root",factory:()=>!1});var fh=new $(""),hh=new $(""),vn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new We(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ss(...n){}var ph=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Tf})}return n})(),Tf=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Os(n){return{toString:n}.toString()}function W0(n){return typeof n=="function"}var hu=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iw(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Oi=(()=>{let n=()=>ow;return n.ngInherit=!0,n})();function ow(n){return n.type.prototype.ngOnChanges&&(n.setInput=Q0),K0}function K0(){let n=aw(this),e=n?.current;if(e){let t=n.previous;if(t===Qn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Q0(n,e,t,r,i){let o=this.declaredInputs[r],s=aw(n)||Y0(n,{previous:Qn,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[o];c[o]=new hu(d&&d.currentValue,t,u===Qn),iw(n,e,i,t)}var sw="__ngSimpleChanges__";function aw(n){return n[sw]||null}function Y0(n,e){return n[sw]=e}var TE=[];var ve=function(n,e=null,t){for(let r=0;r<TE.length;r++){let i=TE[r];i(n,e,t)}};function Z0(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ow(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function cw(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function lu(n,e,t){uw(n,e,3,t)}function du(n,e,t,r){(n[Q]&3)===t&&uw(n,e,t,r)}function gh(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function uw(n,e,t,r){let i=r!==void 0?n[kr]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[kr]+=65536),(c<o||o==-1)&&(J0(n,t,e,u),n[kr]=(n[kr]&4294901760)+u+2),u++}function SE(n,e){ve(4,n,e);let t=J(null);try{e.call(n)}finally{J(t),ve(5,n,e)}}function J0(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Q]>>14<n[kr]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,SE(c,o)):SE(c,o)}var Ai=-1,Br=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function X0(n){return(n.flags&8)!==0}function eA(n){return(n.flags&16)!==0}function tA(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];rA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function nA(n){return n===3||n===4||n===6}function rA(n){return n.charCodeAt(0)===64}function Rs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?AE(n,t,i,null,e[++r]):AE(n,t,i,null,null))}}return n}function AE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function lw(n){return n!==Ai}function pu(n){return n&32767}function iA(n){return n>>16}function gu(n,e){let t=iA(n),r=e;for(;t>0;)r=r[bi],t--;return r}var Ch=!0;function ME(n){let e=Ch;return Ch=n,e}var oA=256,dw=oA-1,fw=5,sA=0,rn={};function aA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xr)&&(r=t[xr]),r==null&&(r=t[xr]=sA++);let i=r&dw,o=1<<i;e.data[n+(i>>fw)]|=o}function mu(n,e){let t=hw(n,e);if(t!==-1)return t;let r=e[ee];r.firstCreatePass&&(n.injectorIndex=e.length,mh(r.data,n),mh(e,null),mh(r.blueprint,null));let i=zh(n,e),o=n.injectorIndex;if(lw(i)){let s=pu(i),c=gu(i,e),u=c[ee].data;for(let d=0;d<8;d++)e[o+d]=c[s+d]|u[s+d]}return e[o+8]=i,o}function mh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function zh(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=vw(i),r===null)return Ai;if(t++,i=i[bi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ai}function Th(n,e,t){aA(n,e,t)}function pw(n,e,t){if(t&8||n!==void 0)return n;Qc(e,"NodeInjector")}function gw(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Zn],o=wt(void 0);try{return i?i.get(e,r,t&8):Lf(e,r,t&8)}finally{wt(o)}}return pw(r,e,t)}function mw(n,e,t,r=0,i){if(n!==null){if(e[Q]&2048&&!(r&2)){let s=fA(n,e,t,r,rn);if(s!==rn)return s}let o=yw(n,e,t,r,rn);if(o!==rn)return o}return gw(e,t,r,i)}function yw(n,e,t,r,i){let o=lA(t);if(typeof o=="function"){if(!oh(e,n,r))return r&1?pw(i,t,r):gw(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Qc(t);else return s}finally{sh()}}else if(typeof o=="number"){let s=null,c=hw(n,e),u=Ai,d=r&1?e[Rt][Mt]:null;for((c===-1||r&4)&&(u=c===-1?zh(n,e):e[c+8],u===Ai||!NE(r,!1)?c=-1:(s=e[ee],c=pu(u),e=gu(u,e)));c!==-1;){let h=e[ee];if(RE(o,c,h.data)){let g=cA(c,e,t,s,r,d);if(g!==rn)return g}u=e[c+8],u!==Ai&&NE(r,e[ee].data[c+8]===d)&&RE(o,c,e)?(s=h,c=pu(u),e=gu(u,e)):c=-1}}return i}function cA(n,e,t,r,i,o){let s=e[ee],c=s.data[n+8],u=r==null?Xn(c)&&Ch:r!=s&&(c.type&3)!==0,d=i&1&&o===c,h=uA(c,s,t,u,d);return h!==null?yu(e,s,h,c,i):rn}function uA(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,d=n.directiveEnd,h=o>>20,g=r?c:c+h,m=i?c+h:d;for(let _=g;_<m;_++){let S=s[_];if(_<u&&t===S||_>=u&&S.type===t)return _}if(i){let _=s[u];if(_&&en(_)&&_.type===t)return u}return null}function yu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Br){let c=o;if(c.resolving){let _=j_(s[t]);throw Ff(_)}let u=ME(c.canSeeViewProviders);c.resolving=!0;let d=s[t].type||s[t],h,g=c.injectImpl?wt(c.injectImpl):null,m=oh(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Z0(t,s[t],e)}finally{g!==null&&wt(g),ME(u),c.resolving=!1,sh()}}return o}function lA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xr)?n[xr]:void 0;return typeof e=="number"?e>=0?e&dw:dA:e}function RE(n,e,t){let r=1<<n;return!!(t[e+(n>>fw)]&r)}function NE(n,e){return!(n&2)&&!(n&1&&e)}var jr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return mw(this._tNode,this._lView,e,Sr(r),t)}};function dA(){return new jr(mt(),we())}function ki(n){return Os(()=>{let e=n.prototype.constructor,t=e[ls]||Sh(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ls]||Sh(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sh(n){return Mf(n)?()=>{let e=Sh(Ke(n));return e&&e()}:Ar(n)}function fA(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!Ci(s);){let c=yw(o,s,t,r|2,rn);if(c!==rn)return c;let u=o.parent;if(!u){let d=s[Wf];if(d){let h=d.get(t,rn,r);if(h!==rn)return h}u=vw(s),s=s[bi]}o=u}return i}function vw(n){let e=n[ee],t=e.type;return t===2?e.declTNode:t===1?n[Mt]:null}function hA(){return Au(mt(),we())}function Au(n,e){return new Fi(tn(n,e))}var Fi=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=hA}return n})();function _w(n){return(n.flags&128)===128}var qh=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(qh||{}),Ew=new Map,pA=0;function gA(){return pA++}function mA(n){Ew.set(n[ys],n)}function Ah(n){Ew.delete(n[ys])}var xE="__ngContext__";function Mi(n,e){Xt(e)?(n[xE]=e[ys],mA(e)):n[xE]=e}function ww(n){return Dw(n[Di])}function Iw(n){return Dw(n[At])}function Dw(n){for(;n!==null&&!Ut(n);)n=n[At];return n}var Mh;function Gh(n){Mh=n}function bw(){if(Mh!==void 0)return Mh;if(typeof document<"u")return document;throw new V(210,!1)}var Mu=new $("",{providedIn:"root",factory:()=>yA}),yA="ng",Ru=new $(""),Li=new $("",{providedIn:"platform",factory:()=>"unknown"});var Nu=new $("",{providedIn:"root",factory:()=>bw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vA="h",_A="b";var Cw=!1,Tw=new $("",{providedIn:"root",factory:()=>Cw});var EA=(n,e,t,r)=>{};function wA(n,e,t,r){EA(n,e,t,r)}function Wh(n){return(n.flags&32)===32}var IA=()=>null;function Sw(n,e,t=!1){return IA(n,e,t)}function Aw(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];ih(o),c.contentQueries(2,e[s],s)}}}finally{J(r)}}}function Rh(n,e,t){ih(0);let r=J(null);try{e(n,t)}finally{J(r)}}function Mw(n,e,t){if(Kf(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{J(r)}}}var _n=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(_n||{});var vu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gc})`}};function Kh(n){return n instanceof vu?n.changingThisBreaksApplicationSecurity:n}function Rw(n,e){let t=Nw(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Gc})`)}return t===e}function Nw(n){return n instanceof vu&&n.getTypeName()||null}var DA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xw(n){return n=String(n),n.match(DA)?n:"unsafe:"+n}var Qh=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Qh||{});function Yh(n){let e=bA();return e?e.sanitize(Qh.URL,n)||"":Rw(n,"URL")?Kh(n):xw(Kc(n))}function bA(){let n=we();return n&&n[Jt].sanitizer}function Pw(n){return n instanceof Function?n():n}function CA(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Ow="ng-template";function TA(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CA(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Zh(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Zh(n){return n.type===4&&n.value!==Ow}function SA(n,e,t){let r=n.type===4&&!t?Ow:n.value;return e===r}function AA(n,e,t){let r=4,i=n.attrs,o=i!==null?NA(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!$t(r)&&!$t(u))return!1;if(s&&$t(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!SA(n,u,t)||u===""&&e.length===1){if($t(r))return!1;s=!0}}else if(r&8){if(i===null||!TA(n,i,u,t)){if($t(r))return!1;s=!0}}else{let d=e[++c],h=MA(u,i,Zh(n),t);if(h===-1){if($t(r))return!1;s=!0;continue}if(d!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&d!==g){if($t(r))return!1;s=!0}}}}return $t(r)||s}function $t(n){return(n&1)===0}function MA(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xA(e,n)}function RA(n,e,t=!1){for(let r=0;r<e.length;r++)if(AA(n,e[r],t))return!0;return!1}function NA(n){for(let e=0;e<n.length;e++){let t=n[e];if(nA(t))return e}return n.length}function xA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function PE(n,e){return n?":not("+e.trim()+")":e}function PA(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$t(s)&&(e+=PE(o,i),i=""),r=s,o=o||!$t(r);t++}return i!==""&&(e+=PE(o,i)),e}function OA(n){return n.map(PA).join(",")}function kA(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!$t(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var rr={};function FA(n,e){return n.createText(e)}function LA(n,e,t){n.setValue(e,t)}function kw(n,e,t){return n.createElement(e,t)}function _u(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Fw(n,e,t){n.appendChild(e,t)}function OE(n,e,t,r,i){r!==null?_u(n,e,t,r,i):Fw(n,e,t)}function VA(n,e,t,r){n.removeChild(null,e,t,r)}function jA(n,e,t){n.setAttribute(e,"style",t)}function BA(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Lw(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&tA(n,e,r),i!==null&&BA(n,e,i),o!==null&&jA(n,e,o)}function Jh(n,e,t,r,i,o,s,c,u,d,h){let g=bt+r,m=g+i,_=UA(g,m),S=typeof d=="function"?d():d;return _[ee]={type:n,blueprint:_,template:t,queries:null,viewQuery:c,declTNode:e,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function UA(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:rr);return t}function $A(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Jh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xh(n,e,t,r,i,o,s,c,u,d,h){let g=e.blueprint.slice();return g[Bt]=i,g[Q]=r|4|128|8|64|1024,(d!==null||n&&n[Q]&2048)&&(g[Q]|=2048),Yf(g),g[Ye]=g[bi]=n,g[pt]=t,g[Jt]=s||n&&n[Jt],g[Te]=c||n&&n[Te],g[Zn]=u||n&&n[Zn]||null,g[Mt]=o,g[ys]=gA(),g[ms]=h,g[Wf]=d,g[Rt]=e.type==2?n[Rt]:g,g}function HA(n,e,t){let r=tn(e,n),i=$A(t),o=n[Jt].rendererFactory,s=ep(n,Xh(n,i,null,Vw(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Vw(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jw(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ep(n,e){return n[Di]?n[Gf][At]=e:n[Di]=e,n[Gf]=e,e}function xe(n=1){Bw(Pt(),we(),Vr()+n,!1)}function Bw(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&lu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&du(e,o,0,t)}er(t)}var xu=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(xu||{});function Nh(n,e,t,r){let i=J(null);try{let[o,s,c]=n.inputs[t],u=null;(s&xu.SignalBased)!==0&&(u=e[o][et]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):iw(e,u,o,r)}finally{J(i)}}var En=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(En||{}),zA;function tp(n,e){return zA(n,e)}var Ri=new Set,np=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(np||{}),ks=new $(""),kE=new Set;function Pu(n){kE.has(n)||(kE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Uw=!1,xh=class extends Le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Z_()&&(this.destroyRef=x(tr,{optional:!0})??void 0,this.pendingTasks=x(vn,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ne=xh;function $w(n){let e,t;function r(){n=Ss;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function FE(n){return queueMicrotask(()=>n()),()=>{n=Ss}}var rp="isAngularZone",Eu=rp+"_ID",qA=0,je=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ne(!1);onMicrotaskEmpty=new Ne(!1);onStable=new Ne(!1);onError=new Ne(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Uw}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rp)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,GA,Ss,Ss);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},GA={};function ip(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function WA(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$w(()=>{n.callbackScheduled=!1,Ph(n),n.isCheckStableRunning=!0,ip(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ph(n)}function KA(n){let e=()=>{WA(n)},t=qA++;n._inner=n._inner.fork({name:"angular",properties:{[rp]:!0,[Eu]:t,[Eu+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(QA(u))return r.invokeTask(o,s,c,u);try{return LE(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),VE(n)}},onInvoke:(r,i,o,s,c,u,d)=>{try{return LE(n),r.invoke(o,s,c,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!YA(u)&&e(),VE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ph(n),ip(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ph(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function LE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VE(n){n._nesting--,ip(n)}var wu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ne;onMicrotaskEmpty=new Ne;onStable=new Ne;onError=new Ne;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function QA(n){return Hw(n,"__ignore_ng_zone__")}function YA(n){return Hw(n,"__scheduler_tick__")}function Hw(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var zw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();var ZA=new $("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function qw(n,e){let t=n.get(ZA);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function JA(n,e){for(let[t,r]of e)qw(n,r.animateFns)}function jE(n,e,t,r){let i=n?.[_s]?.enter;e!==null&&i&&i.has(t.index)&&JA(r,i)}function Si(n,e,t,r,i,o,s,c){if(i!=null){let u,d=!1;Ut(i)?u=i:Xt(i)&&(d=!0,i=i[Bt]);let h=Nt(i);n===0&&r!==null?(jE(c,r,o,t),s==null?Fw(e,r,h):_u(e,r,h,s||null,!0)):n===1&&r!==null?(jE(c,r,o,t),_u(e,r,h,s||null,!0)):n===2?BE(c,o,t,g=>{VA(e,h,d,g)}):n===3&&BE(c,o,t,()=>{e.destroyNode(h)}),u!=null&&dM(e,n,t,u,o,r,s)}}function XA(n,e){Gw(n,e),e[Bt]=null,e[Mt]=null}function eM(n,e,t,r,i,o){r[Bt]=i,r[Mt]=e,Ou(n,r,t,1,i,o)}function Gw(n,e){e[Jt].changeDetectionScheduler?.notify(9),Ou(n,e,e[Te],2,null,null)}function tM(n){let e=n[Di];if(!e)return yh(n[ee],n);for(;e;){let t=null;if(Xt(e))t=e[Di];else{let r=e[gt];r&&(t=r)}if(!t){for(;e&&!e[At]&&e!==n;)Xt(e)&&yh(e[ee],e),e=e[Ye];e===null&&(e=n),Xt(e)&&yh(e[ee],e),t=e&&e[At]}e=t}}function op(n,e){let t=n[ws],r=t.indexOf(e);t.splice(r,1)}function Ww(n,e){if(Lr(e))return;let t=e[Te];t.destroyNode&&Ou(n,e,t,3,null,null),tM(e)}function yh(n,e){if(Lr(e))return;let t=J(null);try{e[Q]&=-129,e[Q]|=256,e[Dt]&&is(e[Dt]),iM(n,e),rM(n,e),e[ee].type===1&&e[Te].destroy();let r=e[Or];if(r!==null&&Ut(e[Ye])){r!==e[Ye]&&op(r,e);let i=e[Fr];i!==null&&i.detachView(n)}Ah(e)}finally{J(t)}}function BE(n,e,t,r){let i=n?.[_s];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Ri.add(n),qw(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s)for(let u=0;u<s.animateFns.length;u++){let d=s.animateFns[u],{promise:h}=d();c.push(h)}i.running=Promise.allSettled(c),nM(n,r)}else n&&Ri.delete(n),r(!1)})}function nM(n,e){let t=n[_s]?.running;if(t){t.then(()=>{n[_s].running=void 0,Ri.delete(n),e(!0)});return}e(!1)}function rM(n,e){let t=n.cleanup,r=e[Ii];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[Ii]=null);let i=e[pn];if(i!==null){e[pn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[vs];if(o!==null){e[vs]=null;for(let s of o)s.destroy()}}function iM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Br)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];ve(4,c,u);try{u.call(c)}finally{ve(5,c,u)}}else{ve(4,i,o);try{o.call(i)}finally{ve(5,i,o)}}}}}function oM(n,e,t){return sM(n,e.parent,t)}function sM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Bt];if(Xn(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return tn(r,t)}function aM(n,e,t){return uM(n,e,t)}function cM(n,e,t){return n.type&40?tn(n,t):null}var uM=cM,UE;function sp(n,e,t,r){let i=oM(n,r,e),o=e[Te],s=r.parent||e[Mt],c=aM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)OE(o,i,t[u],c,!1);else OE(o,i,t,c,!1);UE!==void 0&&UE(o,r,e,t,i)}function As(n,e){if(e!==null){let t=e.type;if(t&3)return tn(e,n);if(t&4)return Oh(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return As(n,r);{let i=n[e.index];return Ut(i)?Oh(-1,i):Nt(i)}}else{if(t&128)return As(n,e.next);if(t&32)return tp(e,n)()||Nt(n[e.index]);{let r=Kw(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wn(n[Rt]);return As(i,r)}else return As(n,e.next)}}}return null}function Kw(n,e){if(e!==null){let r=n[Rt][Mt],i=e.projection;return r.projection[i]}return null}function Oh(n,e){let t=gt+n+1;if(t<e.length){let r=e[t],i=r[ee].firstChild;if(i!==null)return As(r,i)}return e[Jn]}function ap(n,e,t,r,i,o,s){for(;t!=null;){let c=r[Zn];if(t.type===128){t=t.next;continue}let u=r[t.index],d=t.type;if(s&&e===0&&(u&&Mi(Nt(u),r),t.flags|=2),!Wh(t))if(d&8)ap(n,e,t.child,r,i,o,!1),Si(e,n,c,i,u,t,o,r);else if(d&32){let h=tp(t,r),g;for(;g=h();)Si(e,n,c,i,g,t,o,r);Si(e,n,c,i,u,t,o,r)}else d&16?lM(n,e,r,t,i,o):Si(e,n,c,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Ou(n,e,t,r,i,o){ap(t,r,n.firstChild,e,i,o,!1)}function lM(n,e,t,r,i,o){let s=t[Rt],u=s[Mt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let h=u[d];Si(e,n,t[Zn],i,h,r,o,t)}else{let d=u,h=s[Ye];_w(r)&&(d.flags|=128),ap(n,e,d,h,i,o,!0)}}function dM(n,e,t,r,i,o,s){let c=r[Jn],u=Nt(r);c!==u&&Si(e,n,t,o,c,i,s);for(let d=gt;d<r.length;d++){let h=r[d];Ou(h[ee],h,n,e,o,c)}}function fM(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:En.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=En.Important),n.setStyle(t,r,i,o))}}function Qw(n,e,t,r,i){let o=Vr(),s=r&2;try{er(-1),s&&e.length>bt&&Bw(n,e,bt,!1),ve(s?2:0,i,t),t(r,i)}finally{er(o),ve(s?3:1,i,t)}}function cp(n,e,t){_M(n,e,t),(t.flags&64)===64&&EM(n,e,t)}function Yw(n,e,t=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function hM(n,e,t,r){let o=r.get(Tw,Cw)||t===_n.ShadowDom,s=n.selectRootElement(e,o);return pM(s),s}function pM(n){gM(n)}var gM=()=>null;function mM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Zw(n,e,t,r,i,o){let s=e[ee];if(up(n,s,e,t,r)){Xn(n)&&vM(e,n.index);return}n.type&3&&(t=mM(t)),yM(n,e,t,r,i,o)}function yM(n,e,t,r,i,o){if(n.type&3){let s=tn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function vM(n,e){let t=xt(e,n);t[Q]&16||(t[Q]|=64)}function _M(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Xn(t)&&HA(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||mu(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=yu(e,n,s,t);if(Mi(u,e),o!==null&&IM(e,s-r,u,c,t,o),en(c)){let d=xt(t.index,e);d[pt]=yu(e,n,s,t)}}}function EM(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=yE();try{er(o);for(let c=r;c<i;c++){let u=n.data[c],d=e[c];iu(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&wM(u,d)}}finally{er(-1),iu(s)}}function wM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Jw(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];RA(e,o.selectors,!1)&&(r??=[],en(o)?r.unshift(o):r.push(o))}return r}function IM(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];Nh(r,t,u,d)}}function DM(n,e,t,r,i){let o=bt+t,s=e[ee],c=i(s,e,n,r,t);e[o]=c,Ti(n,!0);let u=n.type===2;return u?(Lw(e[Te],c,n),(oE()===0||Is(n))&&Mi(c,e),sE()):Mi(c,e),au()&&(!u||!Wh(n))&&sp(s,e,c,n),n}function bM(n){let e=n;return th()?fE():(e=e.parent,Ti(e,!1)),e}function CM(n,e){let t=n[Zn];if(!t)return;let r;try{r=t.get(Ot,null)}catch{r=null}r?.(e)}function up(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],h=s[u+1],g=e.data[d];Nh(g,t[d],h,i),c=!0}if(o)for(let u of o){let d=t[u],h=e.data[u];Nh(h,d,r,i),c=!0}return c}function TM(n,e){let t=xt(e,n),r=t[ee];SM(r,t);let i=t[Bt];i!==null&&t[ms]===null&&(t[ms]=Sw(i,t[Zn])),ve(18),lp(r,t,t[pt]),ve(19,t[pt])}function SM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function lp(n,e,t){ou(e);try{let r=n.viewQuery;r!==null&&Rh(1,r,t);let i=n.template;i!==null&&Qw(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Fr]?.finishViewCreation(n),n.staticContentQueries&&Aw(n,e),n.staticViewQueries&&Rh(2,n.viewQuery,t);let o=n.components;o!==null&&AM(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,su()}}function AM(n,e){for(let t=0;t<e.length;t++)TM(n,e[t])}function MM(n,e,t,r){let i=J(null);try{let o=e.tView,c=n[Q]&4096?4096:16,u=Xh(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[Or]=d;let h=n[Fr];return h!==null&&(u[Fr]=h.createEmbeddedView(o)),lp(o,u,t),u}finally{J(i)}}function $E(n,e){return!e||e.firstChild===null||_w(n)}function Ns(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Nt(o)),Ut(o)&&Xw(o,r);let s=t.type;if(s&8)Ns(n,e,t.child,r);else if(s&32){let c=tp(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=Kw(e,t);if(Array.isArray(c))r.push(...c);else{let u=Wn(e[Rt]);Ns(u[ee],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Xw(n,e){for(let t=gt;t<n.length;t++){let r=n[t],i=r[ee].firstChild;i!==null&&Ns(r[ee],r,i,e)}n[Jn]!==n[Bt]&&e.push(n[Jn])}function eI(n){if(n[Xc]!==null){for(let e of n[Xc])e.impl.addSequence(e);n[Xc].length=0}}var tI=[];function RM(n){return n[Dt]??NM(n)}function NM(n){let e=tI.pop()??Object.create(PM);return e.lView=n,e}function xM(n){n.lView[Dt]!==n&&(n.lView=null,tI.push(n))}var PM=Z(R({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Cs(n.lView)},consumerOnSignalRead(){this.lView[Dt]=this}});function OM(n){let e=n[Dt]??Object.create(kM);return e.lView=n,e}var kM=Z(R({},ii),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Wn(n.lView);for(;e&&!nI(e[ee]);)e=Wn(e);e&&Zf(e)},consumerOnSignalRead(){this.lView[Dt]=this}});function nI(n){return n.type!==2}function rI(n){if(n[vs]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[vs])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Q]&8192)}}var FM=100;function iI(n,e=0){let r=n[Jt].rendererFactory,i=!1;i||r.begin?.();try{LM(n,e)}finally{i||r.end?.()}}function LM(n,e){let t=nh();try{rh(!0),kh(n,e);let r=0;for(;bs(n);){if(r===FM)throw new V(103,!1);r++,kh(n,1)}}finally{rh(t)}}function VM(n,e,t,r){if(Lr(e))return;let i=e[Q],o=!1,s=!1;ou(e);let c=!0,u=null,d=null;o||(nI(n)?(d=RM(e),u=si(d)):hc()===null?(c=!1,d=OM(e),u=si(d)):e[Dt]&&(is(e[Dt]),e[Dt]=null));try{Yf(e),hE(n.bindingStartIndex),t!==null&&Qw(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&lu(e,_,null)}else{let _=n.preOrderHooks;_!==null&&du(e,_,0,null),gh(e,0)}if(s||jM(e),rI(e),oI(e,0),n.contentQueries!==null&&Aw(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&lu(e,_)}else{let _=n.contentHooks;_!==null&&du(e,_,1),gh(e,1)}UM(n,e);let g=n.components;g!==null&&aI(e,g,0);let m=n.viewQuery;if(m!==null&&Rh(2,m,r),!o)if(h){let _=n.viewCheckHooks;_!==null&&lu(e,_)}else{let _=n.viewHooks;_!==null&&du(e,_,2),gh(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Jc]){for(let _ of e[Jc])_();e[Jc]=null}o||(eI(e),e[Q]&=-73)}catch(h){throw o||Cs(e),h}finally{d!==null&&(ns(d,u),c&&xM(d)),su()}}function oI(n,e){for(let t=ww(n);t!==null;t=Iw(t))for(let r=gt;r<t.length;r++){let i=t[r];sI(i,e)}}function jM(n){for(let e=ww(n);e!==null;e=Iw(e)){if(!(e[Q]&2))continue;let t=e[ws];for(let r=0;r<t.length;r++){let i=t[r];Zf(i)}}}function BM(n,e,t){ve(18);let r=xt(e,n);sI(r,t),ve(19,r[pt])}function sI(n,e){tu(n)&&kh(n,e)}function kh(n,e){let r=n[ee],i=n[Q],o=n[Dt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&rs(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)VM(r,n,r.template,n[pt]);else if(i&8192){let c=J(null);try{rI(n),oI(n,1);let u=r.components;u!==null&&aI(n,u,1),eI(n)}finally{J(c)}}}function aI(n,e,t){for(let r=0;r<e.length;r++)BM(n,e[r],t)}function UM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)er(~i);else{let o=i,s=t[++r],c=t[++r];mE(s,o);let u=e[o];ve(24,u),c(2,u),ve(25,u)}}}finally{er(-1)}}function dp(n,e){let t=nh()?64:1088;for(n[Jt].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Wn(n);if(Ci(n)&&!r)return n;n=r}return null}function cI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function $M(n,e,t,r=!0){let i=e[ee];if(HM(i,e,n,t),r){let s=Oh(t,n),c=e[Te],u=c.parentNode(n[Jn]);u!==null&&eM(i,n[Mt],c,e,u,s)}let o=e[ms];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Fh(n,e){if(n.length<=gt)return;let t=gt+e,r=n[t];if(r){let i=r[Or];i!==null&&i!==n&&op(i,r),e>0&&(n[t-1][At]=r[At]);let o=hs(n,gt+e);XA(r[ee],r);let s=o[Fr];s!==null&&s.detachView(o[ee]),r[Ye]=null,r[At]=null,r[Q]&=-129}return r}function HM(n,e,t,r){let i=gt+r,o=t.length;r>0&&(t[i-1][At]=e),r<o-gt?(e[At]=t[i],Vf(t,gt+r,e)):(t.push(e),e[At]=null),e[Ye]=t;let s=e[Or];s!==null&&t!==s&&uI(s,e);let c=e[Fr];c!==null&&c.insertView(n),nu(e),e[Q]|=128}function uI(n,e){let t=n[ws],r=e[Ye];if(Xt(r))n[Q]|=2;else{let i=r[Ye][Rt];e[Rt]!==i&&(n[Q]|=2)}t===null?n[ws]=[e]:t.push(e)}var nr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ee];return Ns(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return Lr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(Ut(e)){let t=e[Es],r=t?t.indexOf(this):-1;r>-1&&(Fh(e,r),hs(t,r))}this._attachedToViewContainer=!1}Ww(this._lView[ee],this._lView)}onDestroy(e){Jf(this._lView,e)}markForCheck(){dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){nu(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,iI(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ci(this._lView),t=this._lView[Or];t!==null&&!e&&op(t,this._lView),Gw(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Ci(this._lView),r=this._lView[Or];r!==null&&!t&&uI(r,this._lView),nu(this._lView)}};var ku=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=zM;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=MM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new nr(o)}}return n})();function zM(){return qM(mt(),we())}function qM(n,e){return n.type&4?new ku(e,n,Au(n,e)):null}function fp(n,e,t,r,i){let o=n.data[e];if(o===null)o=GM(n,e,t,r,i),gE()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=dE();o.injectorIndex=s===null?-1:s.injectorIndex}return Ti(o,!0),o}function GM(n,e,t,r,i){let o=eh(),s=th(),c=s?o:o&&o.parent,u=n.data[e]=KM(n,c,t,e,r,i);return WM(n,u,o,s),u}function WM(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function KM(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return cE()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var pH=new RegExp(`^(\\d+)*(${_A}|${vA})*(.*)`);var QM=()=>null;function HE(n,e){return QM(n,e)}var lI=class{},Fu=class{},Lh=class{resolveComponentFactory(e){throw new V(917,!1)}},Fs=class{static NULL=new Lh},Ur=class{},Ls=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>YM()}return n})();function YM(){let n=we(),e=mt(),t=xt(e.index,n);return(Xt(t)?t:n)[Te]}var dI=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var fu={},Vh=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,fu,r);return i!==fu||t===fu?i:this.parentInjector.get(e,t,r)}};function zE(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Af(i,c);else if(o==2){let u=c,d=e[++s];r=Af(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ee(n,e=0){let t=we();if(t===null)return X(n,e);let r=mt();return mw(r,t,Ke(n),e)}function fI(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,d=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,d]=h.resolveHostDirectives(s);break}XM(n,e,t,c,o,u,d)}o!==null&&r!==null&&ZM(t,r,o)}function ZM(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function JM(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function XM(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let _=r[m];!u&&en(_)&&(u=!0,JM(n,t,m)),Th(mu(t,e),n,_.type)}oR(t,n.data.length,c);for(let m=0;m<c;m++){let _=r[m];_.providersResolver&&_.providersResolver(_)}let d=!1,h=!1,g=jw(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let _=r[m];if(t.mergedAttrs=Rs(t.mergedAttrs,_.hostAttrs),tR(n,t,e,g,_),iR(g,_,i),s!==null&&s.has(_)){let[N,M]=s.get(_);t.directiveToIndex.set(_.type,[g,N+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,g);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let S=_.type.prototype;!d&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}eR(n,t,o)}function eR(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qE(0,e,i,r),qE(1,e,i,r),WE(e,r,!1);else{let o=t.get(i);GE(0,e,o,r),GE(1,e,o,r),WE(e,r,!0)}}}function qE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),hI(e,o)}}function GE(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),hI(e,s)}}function hI(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function WE(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Zh(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let d=i[u];for(let h of d)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let d=o[u];for(let h=0;h<d.length;h+=2)if(d[h]===e){s??=[],s.push(d[h+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function tR(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ar(i.type,!0)),s=new Br(o,en(i),Ee,null);n.blueprint[r]=s,t[r]=s,nR(n,e,r,jw(n,t,i.hostVars,rr),i)}function nR(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;rR(s)!=c&&s.push(c),s.push(t,r,o)}}function rR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;en(e)&&(t[""]=n)}}function oR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function pI(n,e,t,r,i,o,s,c){let u=e[ee],d=u.consts,h=Ds(d,s),g=fp(u,n,t,r,h);return o&&fI(u,e,g,Ds(d,c),i),g.mergedAttrs=Rs(g.mergedAttrs,g.attrs),g.attrs!==null&&zE(g,g.attrs,!1),g.mergedAttrs!==null&&zE(g,g.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,g),g}function gI(n,e){cw(n,e),Kf(e)&&n.queries.elementEnd(e)}function hp(n){return yI(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function yI(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Lu(n,e,t){if(t===rr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vh(n,e,t){return function r(i){let o=Xn(n)?xt(n.index,e):e;dp(o,5);let s=e[pt],c=KE(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=KE(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function KE(n,e,t,r){let i=J(null);try{return ve(6,e,t),t(r)!==!1}catch(o){return CM(n,o),!1}finally{ve(7,e,t),J(i)}}function sR(n,e,t,r,i,o,s,c){let u=Is(n),d=!1,h=null;if(!r&&u&&(h=cR(e,t,o,n.index)),h!==null){let g=h.__ngLastListenerFn__||h;g.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,d=!0}else{let g=tn(n,t),m=r?r(g):g;wA(t,m,o,c);let _=i.listen(m,o,c);if(!aR(o)){let S=r?N=>r(Nt(N[n.index])):n.index;vI(S,e,t,o,c,_,!1)}}return d}function aR(n){return n.startsWith("animation")||n.startsWith("transition")}function cR(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[Ii],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function vI(n,e,t,r,i,o,s){let c=e.firstCreatePass?iE(e):null,u=rE(t),d=u.length;u.push(i,o),c&&c.push(r,n,d,(d+1)*(s?-1:1))}function QE(n,e,t,r,i,o){let s=e[t],c=e[ee],d=c.data[t].outputs[r],g=s[d].subscribe(o);vI(n.index,c,e,i,o,g,!0)}var jh=Symbol("BINDING");var Iu=class extends Fs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Yn(e);return new Ni(t,this.ngModule)}};function uR(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&xu.SignalBased)!==0};return i&&(o.transform=i),o})}function lR(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function dR(n,e,t){let r=e instanceof Qe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Vh(t,r):t}function fR(n){let e=n.get(Ur,null);if(e===null)throw new V(407,!1);let t=n.get(dI,null),r=n.get(Nr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function hR(n,e){let t=_I(n);return kw(e,t,t==="svg"?X_:t==="math"?eE:null)}function _I(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ni=class extends Fu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=lR(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=OA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){ve(22);let c=J(null);try{let u=this.componentDef,d=pR(r,u,s,o),h=dR(u,i||this.ngModule,e),g=fR(h),m=g.rendererFactory.createRenderer(null,u),_=r?hM(m,r,u.encapsulation,h):hR(u,m),S=s?.some(YE)||o?.some(L=>typeof L!="function"&&L.bindings.some(YE)),N=Xh(null,d,null,512|Vw(u),null,null,g,m,h,null,Sw(_,h,!0));N[bt]=_,ou(N);let M=null;try{let L=pI(bt,N,2,"#host",()=>d.directiveRegistry,!0,0);Lw(m,_,L),Mi(_,N),cp(d,N,L),Mw(d,L,N),gI(d,L),t!==void 0&&mR(L,this.ngContentSelectors,t),M=xt(L.index,N),N[pt]=M[pt],lp(d,N,null)}catch(L){throw M!==null&&Ah(M),Ah(N),L}finally{ve(23),su()}return new Du(this.componentType,N,!!S)}finally{J(c)}}};function pR(n,e,t,r){let i=n?["ng-version","20.3.6"]:kA(e.selectors[0]),o=null,s=null,c=0;if(t)for(let h of t)c+=h[jh].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let g=r[h];if(typeof g!="function")for(let m of g.bindings){c+=m[jh].requiredVars;let _=h+1;m.create&&(m.targetIdx=_,(o??=[]).push(m)),m.update&&(m.targetIdx=_,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let g=typeof h=="function"?h:h.type,m=$f(g);u.push(m)}return Jh(0,null,gR(o,s),1,c,u,null,null,null,[i],null)}function gR(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function YE(n){let e=n[jh].kind;return e==="input"||e==="twoWay"}var Du=class extends lI{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=eu(t[ee],bt),this.location=Au(this._tNode,t),this.instance=xt(this._tNode.index,t)[pt],this.hostView=this.changeDetectorRef=new nr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=up(r,i[ee],i,e,t);this.previousInputValues.set(e,t);let s=xt(r.index,i);dp(s,1)}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mR(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Vi=(()=>{class n{static __NG_ELEMENT_ID__=yR}return n})();function yR(){let n=mt();return _R(n,we())}var vR=Vi,EI=class extends vR{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){let e=zh(this._hostTNode,this._hostLView);if(lw(e)){let t=gu(e,this._hostLView),r=pu(e),i=t[ee].data[r+8];return new jr(i,t)}else return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ZE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=HE(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,$E(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!W0(e),d;if(u)d=t;else{let M=t||{};d=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,c=M.bindings}let h=u?e:new Ni(Yn(e)),g=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?g:this.parentInjector).get(Qe,null);L&&(o=L)}let m=Yn(h.componentType??{}),_=HE(this._lContainer,m?.id??null),S=_?.firstChild??null,N=h.create(g,i,S,o,s,c);return this.insertImpl(N.hostView,d,$E(this._hostTNode,_)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(tE(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ye],d=new EI(u,u[Mt],u[Ye]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return $M(s,i,o,r),e.attachToViewContainerRef(),Vf(_h(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ZE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Fh(this._lContainer,t);r&&(hs(_h(this._lContainer),t),Ww(r[ee],r))}detach(e){let t=this._adjustIndex(e,-1),r=Fh(this._lContainer,t);return r&&hs(_h(this._lContainer),t)!=null?new nr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ZE(n){return n[Es]}function _h(n){return n[Es]||(n[Es]=[])}function _R(n,e){let t,r=e[n.index];return Ut(r)?t=r:(t=cI(r,e,null,n),e[n.index]=t,ep(e,t)),wR(t,e,n,r),new EI(t,n,e)}function ER(n,e){let t=n[Te],r=t.createComment(""),i=tn(e,n),o=t.parentNode(i);return _u(t,o,r,t.nextSibling(i),!1),r}var wR=bR,IR=()=>!1;function DR(n,e,t){return IR(n,e,t)}function bR(n,e,t,r){if(n[Jn])return;let i;t.type&8?i=Nt(r):i=ER(e,t),n[Jn]=i}var xi=class{},Vu=class{};var bu=class extends xi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Iu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Uf(e);this._bootstrapComponents=Pw(o.bootstrap),this._r3Injector=ch(e,t,[{provide:xi,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver},...r],gn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cu=class extends Vu{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new bu(this.moduleType,e,[])}};var xs=class extends xi{injector;componentFactoryResolver=new Iu(this);instance=null;constructor(e){super();let t=new Rr([...e.providers,{provide:xi,useValue:this},{provide:Fs,useValue:this.componentFactoryResolver}],e.parent||gs(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vs(n,e,t=null){return new xs({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var CR=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Hf(!1,t.type),i=r.length>0?Vs([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(X(Qe))})}return n})();function js(n){return Os(()=>{let e=wI(n),t=Z(R({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(CR).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_n.Emulated,styles:n.styles||It,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Pu("NgStandalone"),II(t);let r=n.dependencies;return t.directiveDefs=JE(r,TR),t.pipeDefs=JE(r,q_),t.id=MR(t),t})}function TR(n){return Yn(n)||$f(n)}function ir(n){return Os(()=>({type:n.type,bootstrap:n.bootstrap||It,declarations:n.declarations||It,imports:n.imports||It,exports:n.exports||It,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function SR(n,e){if(n==null)return Qn;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=xu.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function AR(n){if(n==null)return Qn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function yt(n){return Os(()=>{let e=wI(n);return II(e),e})}function wI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Qn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||It,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:SR(n.inputs,e),outputs:AR(n.outputs),debugInfo:null}}function II(n){n.features?.forEach(e=>e(n))}function JE(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function MR(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function RR(n){return Object.getPrototypeOf(n.prototype).constructor}function wn(n){let e=RR(n.type),t=!0,r=[n];for(;e;){let i;if(en(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Eh(n.inputs),s.declaredInputs=Eh(n.declaredInputs),s.outputs=Eh(n.outputs);let c=i.hostBindings;c&&kR(n,c);let u=i.viewQuery,d=i.contentQueries;if(u&&PR(n,u),d&&OR(n,d),NR(n,i),V_(n.outputs,i.outputs),en(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(n),c===wn&&(t=!1)}}e=Object.getPrototypeOf(e)}xR(r)}function NR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function xR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rs(i.hostAttrs,t=Rs(t,i.hostAttrs))}}function Eh(n){return n===Qn?{}:n===It?[]:n}function PR(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function OR(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function kR(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function FR(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=Rs(n.mergedAttrs,n.attrs);let h=n.tView=Jh(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Ti(n,!1);let u=VR(t,e,n,r);au()&&sp(t,e,u,n),Mi(u,e);let d=cI(u,e,u,n);e[r+bt]=d,ep(e,d),DR(d,n,e)}function LR(n,e,t,r,i,o,s,c,u,d,h){let g=t+bt,m;return e.firstCreatePass?(m=fp(e,g,4,s||null,c||null),Xf()&&fI(e,n,m,Ds(e.consts,d),Jw),cw(e,m)):m=e.data[g],FR(m,n,e,t,r,i,o,u),Is(m)&&cp(e,n,m),d!=null&&Yw(n,m,h),m}function ji(n,e,t,r,i,o,s,c){let u=we(),d=Pt(),h=Ds(d.consts,o);return LR(u,d,n,e,t,r,i,h,void 0,s,c),ji}var VR=jR;function jR(n,e,t,r){return cu(!0),e[Te].createComment("")}var pp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var gp=new $("");function Hr(n){return!!n&&typeof n.then=="function"}function DI(n){return!!n&&typeof n.subscribe=="function"}var bI=new $("");var mp=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(bI,{optional:!0})??[];injector=x(jt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=at(this.injector,i);if(Hr(o))t.push(o);else if(DI(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ju=new $("");function CI(){Jd(()=>{let n="";throw new V(600,n)})}function TI(n){return n.isBoundToModule}var BR=10;var or=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Ot);afterRenderManager=x(zw);zonelessEnabled=x(Ts);rootEffectScheduler=x(ph);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Le;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ie(t=>!t))}constructor(){x(ks,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=jt.NULL){return this._injector.get(je).run(()=>{ve(10);let s=t instanceof Fu;if(!this._injector.get(mp).done){let S="";throw new V(405,S)}let u;s?u=t:u=this._injector.get(Fs).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let d=TI(u)?void 0:this._injector.get(xi),h=r||u.selector,g=u.create(i,[],h,d),m=g.location.nativeElement,_=g.injector.get(gp,null);return _?.registerApplication(m),g.onDestroy(()=>{this.detachView(g.hostView),Ms(this.components,g),_?.unregisterApplication(m)}),this._loadComponent(g),ve(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(np.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ur,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<BR;)ve(14),this.synchronizeOnce(),ve(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!bs(i))continue;let o=r&&!this.zonelessEnabled?0:1;iI(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>bs(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ms(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(ju,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ms(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ms(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var wH=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function zr(n,e,t){let r=we(),i=ru();if(Lu(r,i,e)){let o=Pt(),s=ah();Zw(s,r,n,e,r[Te],t)}return zr}function XE(n,e,t,r,i){up(e,n,t,i?"class":"style",r)}function B(n,e,t,r){let i=we(),o=i[ee],s=n+bt,c=o.firstCreatePass?pI(s,i,2,e,Jw,Xf(),t,r):o.data[s];if(DM(c,i,n,e,UR),Is(c)){let u=i[ee];cp(u,i,c),Mw(u,c,i)}return r!=null&&Yw(i,c),B}function j(){let n=Pt(),e=mt(),t=bM(e);return n.firstCreatePass&&gI(n,t),uE(t)&&lE(),aE(),t.classesWithoutHost!=null&&X0(t)&&XE(n,t,we(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&eA(t)&&XE(n,t,we(),t.stylesWithoutHost,!1),j}function Ct(n,e,t,r){return B(n,e,t,r),j(),Ct}var UR=(n,e,t,r,i)=>(cu(!0),kw(e[Te],r,IE()));var Bs="en-US";var $R=Bs;function SI(n){typeof n=="string"&&($R=n.toLowerCase().replace(/_/g,"-"))}function Ht(n,e,t){let r=we(),i=Pt(),o=mt();return AI(i,r,r[Te],o,n,e,t),Ht}function AI(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=vh(r,e,o),sR(r,n,e,s,t,i,o,u)&&(c=!1)),c){let d=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let m=h[g],_=h[g+1];u??=vh(r,e,o),QE(r,e,m,_,i,u)}if(d&&d.length)for(let g of d)u??=vh(r,e,o),QE(r,e,g,i,i,u)}}function uu(n,e){return n<<17|e<<2}function $r(n){return n>>17&32767}function HR(n){return(n&2)==2}function zR(n,e){return n&131071|e<<17}function Bh(n){return n|2}function Pi(n){return(n&131068)>>2}function wh(n,e){return n&-131069|e<<2}function qR(n){return(n&1)===1}function Uh(n){return n|1}function GR(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,c=$r(s),u=Pi(s);n[r]=t;let d=!1,h;if(Array.isArray(t)){let g=t;h=g[1],(h===null||wi(g,h)>0)&&(d=!0)}else h=t;if(i)if(u!==0){let m=$r(n[c+1]);n[r+1]=uu(m,c),m!==0&&(n[m+1]=wh(n[m+1],r)),n[c+1]=zR(n[c+1],r)}else n[r+1]=uu(c,0),c!==0&&(n[c+1]=wh(n[c+1],r)),c=r;else n[r+1]=uu(u,0),c===0?c=r:n[u+1]=wh(n[u+1],r),u=r;d&&(n[r+1]=Bh(n[r+1])),ew(n,h,r,!0),ew(n,h,r,!1),WR(e,h,n,r,o),s=uu(c,u),o?e.classBindings=s:e.styleBindings=s}function WR(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&wi(o,e)>=0&&(t[r+1]=Uh(t[r+1]))}function ew(n,e,t,r){let i=n[t+1],o=e===null,s=r?$r(i):Pi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=n[s],d=n[s+1];KR(u,e)&&(c=!0,n[s+1]=r?Uh(d):Bh(d)),s=r?$r(d):Pi(d)}c&&(n[t+1]=r?Bh(i):Uh(i))}function KR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?wi(n,e)>=0:!1}function sr(n,e){return QR(n,e,null,!0),sr}function QR(n,e,t,r){let i=we(),o=Pt(),s=pE(2);if(o.firstUpdatePass&&ZR(o,n,s,r),e!==rr&&Lu(i,s,e)){let c=o.data[Vr()];nN(o,c,i,i[Te],n,i[s+1]=rN(e,t),r,s)}}function YR(n,e){return e>=n.expandoStartIndex}function ZR(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Vr()],s=YR(n,t);iN(o,r)&&e===null&&!s&&(e=!1),e=JR(i,o,e,r),GR(i,o,e,t,s,r)}}function JR(n,e,t,r){let i=vE(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ih(null,n,e,t,r),t=Ps(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ih(i,n,e,t,r),o===null){let u=XR(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Ih(null,n,e,u[1],r),u=Ps(u,e.attrs,r),eN(n,e,r,u))}else o=tN(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function XR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Pi(r)!==0)return n[$r(r)]}function eN(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[$r(i)]=r}function tN(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ps(r,s,t)}return Ps(r,e.attrs,t)}function Ih(n,e,t,r,i){let o=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(o=e[c],r=Ps(r,o.hostAttrs,i),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function Ps(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),z_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function nN(n,e,t,r,i,o,s,c){if(!(e.type&3))return;let u=n.data,d=u[c+1],h=qR(d)?tw(u,e,t,i,Pi(d),s):void 0;if(!Tu(h)){Tu(o)||HR(d)&&(o=tw(u,null,t,i,c,s));let g=Qf(Vr(),t);fM(r,s,g,i,o)}}function tw(n,e,t,r,i,o){let s=e===null,c;for(;i>0;){let u=n[i],d=Array.isArray(u),h=d?u[1]:u,g=h===null,m=t[i+1];m===rr&&(m=g?It:void 0);let _=g?Zc(m,r):h===r?m:void 0;if(d&&!Tu(_)&&(_=Zc(u,r)),Tu(_)&&(c=_,s))return c;let S=n[i+1];i=s?$r(S):Pi(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Zc(u,r))}return c}function Tu(n){return n!==void 0}function rN(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=gn(Kh(n)))),n}function iN(n,e){return(n.flags&(e?8:16))!==0}function q(n,e=""){let t=we(),r=Pt(),i=n+bt,o=r.firstCreatePass?fp(r,i,1,e,null):r.data[i],s=oN(r,t,o,e,n);t[i]=s,au()&&sp(r,t,s,o),Ti(o,!1)}var oN=(n,e,t,r,i)=>(cu(!0),FA(e[Te],r));function sN(n,e,t,r=""){return Lu(n,ru(),t)?e+Kc(t)+r:rr}function zt(n){return ar("",n),zt}function ar(n,e,t){let r=we(),i=sN(r,n,e,t);return i!==rr&&aN(r,Vr(),i),ar}function aN(n,e,t){let r=Qf(e,n);LA(n[Te],r,t)}function Bu(n,e,t){dh(e)&&(e=e());let r=we(),i=ru();if(Lu(r,i,e)){let o=Pt(),s=ah();Zw(s,r,n,e,r[Te],t)}return Bu}function yp(n,e){let t=dh(n);return t&&n.set(e),t}function Uu(n,e){let t=we(),r=Pt(),i=mt();return AI(r,t,t[Te],i,n,e),Uu}function cN(n,e,t){let r=Pt();if(r.firstCreatePass){let i=en(n);$h(t,r.data,r.blueprint,i,!0),$h(e,r.data,r.blueprint,i,!1)}}function $h(n,e,t,r,i){if(n=Ke(n),Array.isArray(n))for(let o=0;o<n.length;o++)$h(n[o],e,t,r,i);else{let o=Pt(),s=we(),c=mt(),u=Mr(n)?n:Ke(n.provide),d=qf(n),h=c.providerIndexes&1048575,g=c.directiveStart,m=c.providerIndexes>>20;if(Mr(n)||!n.multi){let _=new Br(d,i,Ee,null),S=bh(u,e,i?h:h+m,g);S===-1?(Th(mu(c,s),o,u),Dh(o,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=bh(u,e,h+m,g),S=bh(u,e,h,h+m),N=_>=0&&t[_],M=S>=0&&t[S];if(i&&!M||!i&&!N){Th(mu(c,s),o,u);let L=dN(i?lN:uN,t.length,i,r,d,n);!i&&M&&(t[S].providerFactory=L),Dh(o,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=MI(t[i?S:_],d,!i&&r);Dh(o,n,_>-1?_:S,L)}!i&&r&&M&&t[S].componentProviders++}}}function Dh(n,e,t,r){let i=Mr(e),o=Y_(e);if(i||o){let u=(o?Ke(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=d.indexOf(t);h===-1?d.push(t,[r,u]):d[h+1].push(r,u)}else d.push(t,u)}}}function MI(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bh(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function uN(n,e,t,r,i){return Hh(this.multi,[])}function lN(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=yu(r,r[ee],this.providerFactory.index,i);s=u.slice(0,c),Hh(o,s);for(let d=c;d<u.length;d++)s.push(u[d])}else s=[],Hh(o,s);return s}function Hh(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function dN(n,e,t,r,i,o){let s=new Br(n,t,Ee,null);return s.multi=[],s.index=e,s.componentProviders=0,MI(s,i,r&&!t),s}function Us(n,e=[]){return t=>{t.providersResolver=(r,i)=>cN(r,i?i(n):n,e)}}var Su=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},vp=(()=>{class n{compileModuleSync(t){return new Cu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Uf(t),o=Pw(i.declarations).reduce((s,c)=>{let u=Yn(c);return u&&s.push(new Ni(u)),s},[]);return new Su(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fN=(()=>{class n{zone=x(je);changeDetectionScheduler=x(Nr);applicationRef=x(or);applicationErrorHandler=x(Ot);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RI=new $("",{factory:()=>!1});function _p({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new je(Z(R({},wp()),{scheduleInRootZone:t})),[{provide:je,useFactory:n},{provide:yn,multi:!0,useFactory:()=>{let r=x(fN,{optional:!0});return()=>r.initialize()}},{provide:yn,multi:!0,useFactory:()=>{let r=x(hN);return()=>{r.initialize()}}},e===!0?{provide:fh,useValue:!0}:[],{provide:hh,useValue:t??Uw},{provide:Ot,useFactory:()=>{let r=x(je),i=x(Qe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Zt),o.handleError(s))})}}}]}function Ep(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=_p({ngZoneFactory:()=>{let i=wp(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Pu("NgZone_CoalesceEvent"),new je(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Pr([{provide:RI,useValue:!0},{provide:Ts,useValue:!1},r])}function wp(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var hN=(()=>{class n{subscription=new Me;initialized=!1;zone=x(je);pendingTasks=x(vn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var NI=(()=>{class n{applicationErrorHandler=x(Ot);appRef=x(or);taskService=x(vn);ngZone=x(je);zonelessEnabled=x(Ts);tracing=x(ks,{optional:!0});disableScheduling=x(fh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Eu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(hh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?FE:$w;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Eu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pN(){return typeof $localize<"u"&&$localize.locale||Bs}var Ip=new $("",{providedIn:"root",factory:()=>x(Ip,{optional:!0,skipSelf:!0})||pN()});function tt(n){return k_(n)}function Bi(n,e){return yc(n,e?.equal)}var xI=class{[et];constructor(e){this[et]=e}destroy(){this[et].destroy()}};var LI=Symbol("InputSignalNode#UNSET"),AN=Z(R({},vc),{transformFn:void 0,applyValueToInputSignal(n,e){ci(n,e)}});function VI(n,e){let t=Object.create(AN);t.value=n,t.transformFn=e?.transform;function r(){if(oi(t),t.value===LI){let i=null;throw new V(-950,i)}return t.value}return r[et]=t,r}var MN=new $("");MN.__NG_ELEMENT_ID__=n=>{let e=mt();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function PI(n,e){return VI(n,e)}function RN(n){return VI(LI,n)}var jI=(PI.required=RN,PI);var Dp=new $(""),NN=new $("");function $s(n){return!n.moduleRef}function xN(n){let e=$s(n)?n.r3Injector:n.moduleRef.injector,t=e.get(je);return t.run(()=>{$s(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ot),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),$s(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Dp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Dp);s.add(o),n.moduleRef.onDestroy(()=>{Ms(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ON(r,t,()=>{let o=e.get(vn),s=o.add(),c=e.get(mp);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Ip,Bs);if(SI(u||Bs),!e.get(NN,!0))return $s(n)?e.get(or):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if($s(n)){let h=e.get(or);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return PN?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var PN;function ON(n,e,t){try{let r=t();return Hr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var $u=null;function kN(n=[],e){return jt.create({name:e,providers:[{provide:ps,useValue:"platform"},{provide:Dp,useValue:new Set([()=>$u=null])},...n]})}function FN(n=[]){if($u)return $u;let e=kN(n);return $u=e,CI(),LN(e),e}function LN(n){let e=n.get(Ru,null);at(n,()=>{e?.forEach(t=>t())})}var Hs=(()=>{class n{static __NG_ELEMENT_ID__=VN}return n})();function VN(n){return jN(mt(),we(),(n&16)===16)}function jN(n,e,t){if(Xn(n)&&!t){let r=xt(n.index,e);return new nr(r,r)}else if(n.type&175){let r=e[Rt];return new nr(r,e)}return null}var bp=class{constructor(){}supports(e){return hp(e)}create(e){return new Cp(e)}},BN=(n,e)=>e,Cp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||BN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<OI(r,i,o)?t:r,c=OI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=c-i,h=u-i;if(d!=h){for(let m=0;m<d;m++){let _=m<o.length?o[m]:o[m]=0,S=_+m;h<=S&&S<d&&(o[m]=_+1)}let g=s.previousIndex;o[g]=h-d}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hp(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,mI(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Tp(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Sp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hu=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Sp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function OI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function kI(){return new Ap([new bp])}var Ap=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:kI});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=x(n,{optional:!0,skipSelf:!0});return n.create(t,r||kI())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function BI(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;ve(8);try{let o=i?.injector??FN(r),s=[_p({}),{provide:Nr,useExisting:NI},bE,...t||[]],c=new xs({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return xN({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ve(9)}}function Mp(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var HI=null;function kt(){return HI}function Rp(n){HI??=n}var zs=class{},Np=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(zI),providedIn:"platform"})}return n})();var zI=(()=>{class n extends Np{_location;_history;_doc=x(ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kt().getBaseHref(this._doc)}onPopState(t){let r=kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function qI(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function UI(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ur(n){return n&&n[0]!=="?"?`?${n}`:n}var zu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(WI),providedIn:"root"})}return n})(),GI=new $(""),WI=(()=>{class n extends zu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return qI(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ur(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ur(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ur(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Np),X(GI,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ui=(()=>{class n{_subject=new Le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=HN(UI($I(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ur(r))}normalize(t){return n.stripTrailingSlash($N(this._basePath,$I(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ur(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ur(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ur;static joinWithSlash=qI;static stripTrailingSlash=UI;static \u0275fac=function(r){return new(r||n)(X(zu))};static \u0275prov=H({token:n,factory:()=>UN(),providedIn:"root"})}return n})();function UN(){return new Ui(X(zu))}function $N(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function $I(n){return n.replace(/\/index.html$/,"")}function HN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var qu=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gu=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),KI(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);KI(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ee(Vi),Ee(ku),Ee(Ap))};static \u0275dir=yt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function KI(n,e){n.context.$implicit=e.item}var Wu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ir({type:n});static \u0275inj=mn({})}return n})();function xp(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qs=class{};var QI="browser";var Gs=class{_doc;constructor(e){this._doc=e}manager},Ku=(()=>{class n extends Gs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(ze))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Yu=new $(""),Lp=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Ku));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Ku);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(Yu),X(je))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Pp="ng-app-id";function YI(n){for(let e of n)e.remove()}function ZI(n,e){let t=e.createElement("style");return t.textContent=n,t}function qN(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Pp}="${e}"],link[${Pp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Pp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function kp(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Vp=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,qN(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,ZI);r?.forEach(i=>this.addUsage(i,this.external,kp))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(YI(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])YI(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,ZI(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,kp(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(ze),X(Mu),X(Nu,8),X(Li))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Op={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jp=/%COMP%/g;var XI="%COMP%",GN=`_nghost-${XI}`,WN=`_ngcontent-${XI}`,KN=!0,QN=new $("",{providedIn:"root",factory:()=>KN});function YN(n){return WN.replace(jp,n)}function ZN(n){return GN.replace(jp,n)}function eD(n,e){return e.map(t=>t.replace(jp,n))}var Bp=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u,d=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=d,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Ws(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Qu?i.applyToHost(t):i instanceof Ks&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new Qu(u,d,r,this.appId,h,s,c,g,m);break;case _n.ShadowDom:return new Fp(u,d,t,r,s,c,this.nonce,g,m);default:o=new Ks(u,d,r,h,s,c,g,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(Lp),X(Vp),X(Mu),X(QN),X(ze),X(Li),X(je),X(Nu),X(ks,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Ws=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Op[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(JI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(JI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Op[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Op[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(t,r,i&En.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&En.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=kt().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function JI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Fp=class extends Ws{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,d){super(e,o,s,u,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=eD(i.id,h);for(let m of h){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=m,this.shadowRoot.appendChild(_)}let g=i.getExternalStyles?.();if(g)for(let m of g){let _=kp(m,o);c&&_.setAttribute("nonce",c),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends Ws{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,d){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=d?eD(d,h):h,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ri.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qu=class extends Ks{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,d){let h=i+"-"+r.id;super(e,t,r,o,s,c,u,d,h),this.contentAttr=YN(h),this.hostAttr=ZN(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Zu=class n extends zs{supportsDOMEvents=!0;static makeCurrent(){Rp(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=JN();return t==null?null:XN(t)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xp(document.cookie,e)}},Qs=null;function JN(){return Qs=Qs||document.head.querySelector("base"),Qs?Qs.getAttribute("href"):null}function XN(n){return new URL(n,document.baseURI).pathname}var ex=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),tD=["alt","control","meta","shift"],tx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nx={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},nD=(()=>{class n extends Gs{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kt().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),tD.forEach(d=>{let h=r.indexOf(d);h>-1&&(r.splice(h,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=tx[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tD.forEach(s=>{if(s!==i){let c=nx[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(ze))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function Up(n,e,t){let r=R({rootComponent:n,platformRef:t?.platformRef},rx(e));return BI(r)}function rx(n){return{appProviders:[...cx,...n?.providers??[]],platformProviders:ax}}function ix(){Zu.makeCurrent()}function ox(){return new Zt}function sx(){return Gh(document),document}var ax=[{provide:Li,useValue:QI},{provide:Ru,useValue:ix,multi:!0},{provide:ze,useFactory:sx}];var cx=[{provide:ps,useValue:"root"},{provide:Zt,useFactory:ox},{provide:Yu,useClass:Ku,multi:!0,deps:[ze]},{provide:Yu,useClass:nD,multi:!0,deps:[ze]},Bp,Vp,Lp,{provide:Ur,useExisting:Bp},{provide:qs,useClass:ex},[]];var rD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(ze))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var te="primary",ca=Symbol("RouteTitle"),Gp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Wi(n){return new Gp(n)}function lx(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function dx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!on(n[t],e[t]))return!1;return!0}function on(n,e){let t=n?Wp(n):void 0,r=e?Wp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!dD(n[i],e[i]))return!1;return!0}function Wp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function dD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function fD(n){return n.length>0?n[n.length-1]:null}function bn(n){return df(n)?n:Hr(n)?Ce(Promise.resolve(n)):G(n)}var fx={exact:pD,subset:gD},hD={exact:hx,subset:px,ignored:()=>!0};function iD(n,e,t){return fx[t.paths](n.root,e.root,t.matrixParams)&&hD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hx(n,e){return on(n,e)}function pD(n,e,t){if(!Gr(n.segments,e.segments)||!el(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!pD(n.children[r],e.children[r],t))return!1;return!0}function px(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dD(n[t],e[t]))}function gD(n,e,t){return mD(n,e,e.segments,t)}function mD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gr(i,t)||e.hasChildren()||!el(i,t,r))}else if(n.segments.length===t.length){if(!Gr(n.segments,t)||!el(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!gD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gr(n.segments,i)||!el(n.segments,i,r)||!n.children[te]?!1:mD(n.children[te],e,o,r)}}function el(n,e,t){return e.every((r,i)=>hD[t](n[i].parameters,r.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return yx.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},qr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return vD(this)}};function gx(n,e){return Gr(n,e)&&n.every((t,r)=>on(t.parameters,e[r].parameters))}function Gr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function mx(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==te&&(t=t.concat(e(i,r)))}),t}var hl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new Ki,providedIn:"root"})}return n})(),Ki=class{parse(e){let t=new Qp(e);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ys(e.root,!0)}`,r=Ex(e.queryParams),i=typeof e.fragment=="string"?`#${vx(e.fragment)}`:"";return`${t}${r}${i}`}},yx=new Ki;function tl(n){return n.segments.map(e=>vD(e)).join("/")}function Ys(n,e){if(!n.hasChildren())return tl(n);if(e){let t=n.children[te]?Ys(n.children[te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Ys(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=mx(n,(r,i)=>i===te?[Ys(n.children[te],!1)]:[`${i}:${Ys(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[te]!=null?`${tl(n)}/${t[0]}`:`${tl(n)}/(${t.join("//")})`}}function yD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(n){return yD(n).replace(/%3B/gi,";")}function vx(n){return encodeURI(n)}function Kp(n){return yD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(n){return decodeURIComponent(n)}function oD(n){return nl(n.replace(/\+/g,"%20"))}function vD(n){return`${Kp(n.path)}${_x(n.parameters)}`}function _x(n){return Object.entries(n).map(([e,t])=>`;${Kp(e)}=${Kp(t)}`).join("")}function Ex(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ju(t)}=${Ju(i)}`).join("&"):`${Ju(t)}=${Ju(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wx=/^[^\/()?;#]+/;function $p(n){let e=n.match(wx);return e?e[0]:""}var Ix=/^[^\/()?;=#]+/;function Dx(n){let e=n.match(Ix);return e?e[0]:""}var bx=/^[^=?&#]+/;function Cx(n){let e=n.match(bx);return e?e[0]:""}var Tx=/^[^&#]+/;function Sx(n){let e=n.match(Tx);return e?e[0]:""}var Qp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[te]=new ge(e,t)),r}parseSegment(){let e=$p(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new qr(nl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Dx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=$p(this.remaining);i&&(r=i,this.capture(r))}e[nl(t)]=nl(r)}parseQueryParam(e){let t=Cx(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Sx(this.remaining);s&&(r=s,this.capture(r))}let i=oD(t),o=oD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$p(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[te]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function _D(n){return n.segments.length>0?new ge([],{[te]:n}):n}function ED(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=ED(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return Ax(t)}function Ax(n){if(n.numberOfChildren===1&&n.children[te]){let e=n.children[te];return new ge(n.segments.concat(e.segments),e.children)}return n}function Qi(n){return n instanceof Dn}function Mx(n,e,t=null,r=null){let i=wD(n);return ID(i,e,t,r)}function wD(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let c=new ge(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=_D(r);return e??i}function ID(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Hp(i,i,i,t,r);let o=Rx(e);if(o.toRoot())return Hp(i,i,new ge([],{}),t,r);let s=Nx(o,i,n),c=s.processChildren?Js(s.segmentGroup,s.index,o.commands):bD(s.segmentGroup,s.index,o.commands);return Hp(i,s.segmentGroup,c,t,r)}function rl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ta(n){return typeof n=="object"&&n!=null&&n.outlets}function Hp(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===e?s=t:s=DD(n,e,t);let c=_D(ED(s));return new Dn(c,o,i)}function DD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=DD(o,e,t)}),new ge(n.segments,r)}var il=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rl(r[0]))throw new V(4003,!1);let i=r.find(ta);if(i&&i!==fD(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rx(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new il(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new il(t,e,r)}var zi=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Nx(n,e,t){if(n.isAbsolute)return new zi(e,!0,0);if(!t)return new zi(e,!1,NaN);if(t.parent===null)return new zi(t,!0,0);let r=rl(n.commands[0])?0:1,i=t.segments.length-1+r;return xx(t,i,n.numberOfDoubleDots)}function xx(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new zi(r,!1,i-o)}function Px(n){return ta(n[0])?n[0].outlets:{[te]:n}}function bD(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return Js(n,e,t);let r=Ox(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[te]=new ge(n.segments.slice(r.pathIndex),n.children),Js(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?Yp(n,e,t):r.match?Js(n,0,i):Yp(n,e,t)}function Js(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=Px(t),i={};if(Object.keys(r).some(o=>o!==te)&&n.children[te]&&n.numberOfChildren===1&&n.children[te].segments.length===0){let o=Js(n.children[te],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=bD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function Ox(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(ta(c))break;let u=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!aD(u,d,s))return o;r+=2}else{if(!aD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yp(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(ta(o)){let u=kx(o.outlets);return new ge(r,u)}if(i===0&&rl(t[0])){let u=n.segments[e];r.push(new qr(u.path,sD(t[0]))),i++;continue}let s=ta(o)?o.outlets[te]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&rl(c)?(r.push(new qr(s,sD(c))),i+=2):(r.push(new qr(s,{})),i++)}return new ge(r,{})}function kx(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Yp(new ge([],{}),0,r))}),e}function sD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function aD(n,e,t){return n==t.path&&on(e,t.parameters)}var Xs="imperative",Ze=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ze||{}),Ft=class{id;url;constructor(e,t){this.id=e,this.url=t}},Yi=class extends Ft{type=Ze.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends Ft{urlAfterRedirects;type=Ze.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(vt||{}),ol=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ol||{}),In=class extends Ft{reason;code;type=Ze.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends Ft{reason;code;type=Ze.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},na=class extends Ft{error;target;type=Ze.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sl=class extends Ft{urlAfterRedirects;state;type=Ze.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class extends Ft{urlAfterRedirects;state;type=Ze.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jp=class extends Ft{urlAfterRedirects;state;shouldActivate;type=Ze.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xp=class extends Ft{urlAfterRedirects;state;type=Ze.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eg=class extends Ft{urlAfterRedirects;state;type=Ze.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class{route;type=Ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ng=class{route;type=Ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rg=class{snapshot;type=Ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ig=class{snapshot;type=Ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},og=class{snapshot;type=Ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sg=class{snapshot;type=Ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ra=class{},Zi=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Fx(n){return!(n instanceof ra)&&!(n instanceof Zi)}function Lx(n,e){return n.providers&&!n._injector&&(n._injector=Vs(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qt(n){return n.outlet||te}function Vx(n,e){let t=n.filter(r=>qt(r)===e);return t.push(...n.filter(r=>qt(r)!==e)),t}function Xi(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ag=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Xi(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ua(this.rootInjector)}},ua=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ag(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(Qe))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),al=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=cg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=cg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ug(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ug(e,this._root).map(t=>t.value)}};function cg(n,e){if(n===e.value)return e;for(let t of e.children){let r=cg(n,t);if(r)return r}return null}function ug(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ug(n,t);if(r.length)return r.unshift(e),r}return[]}var Tt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Hi(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var cl=class extends al{snapshot;constructor(e,t){super(e),this.snapshot=t,vg(this,e)}toString(){return this.snapshot.toString()}};function CD(n){let e=jx(n),t=new We([new qr("",{})]),r=new We({}),i=new We({}),o=new We({}),s=new We(""),c=new Wr(t,r,o,s,i,te,n,e.root);return c.snapshot=e.root,new cl(new Tt(c,[]),e)}function jx(n){let e={},t={},r={},o=new qi([],e,r,"",t,te,n,null,{});return new ll("",new Tt(o,[]))}var Wr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(d=>d[ca]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ul(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),n.params),data:R(R({},e.data),n.data),resolve:R(R(R(R({},n.data),e.data),i?.data),n._resolvedData)}:r={params:R({},n.params),data:R({},n.data),resolve:R(R({},n.data),n._resolvedData??{})},i&&SD(i)&&(r.resolve[ca]=i.title),r}var qi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ca]}constructor(e,t,r,i,o,s,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ll=class extends al{url;constructor(e,t){super(t),this.url=e,vg(this,t)}toString(){return TD(this._root)}};function vg(n,e){e.value._routerState=n,e.children.forEach(t=>vg(n,t))}function TD(n){let e=n.children.length>0?` { ${n.children.map(TD).join(", ")} } `:"";return`${n.value}${e}`}function zp(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,on(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),on(e.params,t.params)||n.paramsSubject.next(t.params),dx(e.url,t.url)||n.urlSubject.next(t.url),on(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lg(n,e){let t=on(n.params,e.params)&&gx(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||lg(n.parent,e.parent))}function SD(n){return typeof n.title=="string"||n.title===null}var Bx=new $(""),AD=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new Ne;deactivateEvents=new Ne;attachEvents=new Ne;detachEvents=new Ne;routerOutletData=jI(void 0);parentContexts=x(ua);location=x(Vi);changeDetector=x(Hs);inputBinder=x(pl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new dg(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=yt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Oi]})}return n})(),dg=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Wr?this.route:e===ua?this.childContexts:e===Bx?this.outletData:this.parent.get(e,t)}},pl=new $("");var MD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=js({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ct(0,"router-outlet")},dependencies:[AD],encapsulation:2})}return n})();function _g(n){let e=n.children&&n.children.map(_g),t=e?Z(R({},n),{children:e}):R({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==te&&(t.component=MD),t}function Ux(n,e,t){let r=ia(n,e._root,t?t._root:void 0);return new cl(r,e)}function ia(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$x(n,e,t);return new Tt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>ia(n,c)),s}}let r=Hx(e.value),i=e.children.map(o=>ia(n,o));return new Tt(r,i)}}function $x(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ia(n,r,i);return ia(n,r)})}function Hx(n){return new Wr(new We(n.url),new We(n.params),new We(n.queryParams),new We(n.fragment),new We(n.data),n.outlet,n.component,n)}var oa=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RD="ngNavigationCancelingError";function dl(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Qi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ND(!1,vt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ND(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RD]=!0,t.cancellationCode=e,t}function zx(n){return xD(n)&&Qi(n.url)}function xD(n){return!!n&&n[RD]}var qx=(n,e,t,r)=>ie(i=>(new fg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),fg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Hi(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Hi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Hi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Hi(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ig(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(zp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),zp(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},fl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gi=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Gx(n,e,t){let r=n._root,i=e?e._root:null;return Zs(r,i,t,[r.value])}function Wx(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function eo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Rf(n)?n:e.get(n):r}function Zs(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hi(e);return n.children.forEach(s=>{Kx(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ea(c,t.getContext(s),i)),i}function Kx(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Qx(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zs(n,e,c?c.children:null,r,i):Zs(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Gi(c.outlet.component,s))}else s&&ea(e,c,i),i.canActivateChecks.push(new fl(r)),o.component?Zs(n,null,c?c.children:null,r,i):Zs(n,null,t,r,i);return i}function Qx(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(n.url,e.url)||!on(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lg(n,e)||!on(n.queryParams,e.queryParams);case"paramsChange":default:return!lg(n,e)}}function ea(n,e,t){let r=Hi(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ea(s,e.children.getContext(o),t):ea(s,null,t):ea(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Gi(e.outlet.component,i)):t.canDeactivateChecks.push(new Gi(null,i)):t.canDeactivateChecks.push(new Gi(null,i))}function la(n){return typeof n=="function"}function Yx(n){return typeof n=="boolean"}function Zx(n){return n&&la(n.canLoad)}function Jx(n){return n&&la(n.canActivate)}function Xx(n){return n&&la(n.canActivateChild)}function e1(n){return n&&la(n.canDeactivate)}function t1(n){return n&&la(n.canMatch)}function PD(n){return n instanceof dn||n?.name==="EmptyError"}var Xu=Symbol("INITIAL_VALUE");function Ji(){return ht(n=>Bc(n.map(e=>e.pipe(fn(1),gf(Xu)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Xu)return Xu;if(t===!1||n1(t))return t}return!0}),St(e=>e!==Xu),fn(1)))}function n1(n){return Qi(n)||n instanceof oa}function r1(n,e){return Ve(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(Z(R({},t),{guardsResult:!0})):i1(s,r,i,n).pipe(Ve(c=>c&&Yx(c)?o1(r,o,n,e):G(c)),ie(c=>Z(R({},t),{guardsResult:c})))})}function i1(n,e,t,r){return Ce(n).pipe(Ve(i=>l1(i.component,i.route,t,e,r)),hn(i=>i!==!0,!0))}function o1(n,e,t,r){return Ce(e).pipe(vi(i=>yi(a1(i.route.parent,r),s1(i.route,r),u1(n,i.path,t),c1(n,i.route,t))),hn(i=>i!==!0,!0))}function s1(n,e){return n!==null&&e&&e(new og(n)),G(!0)}function a1(n,e){return n!==null&&e&&e(new rg(n)),G(!0)}function c1(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>as(()=>{let s=Xi(e)??t,c=eo(o,s),u=Jx(c)?c.canActivate(e,n):at(s,()=>c(e,n));return bn(u).pipe(hn())}));return G(i).pipe(Ji())}function u1(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Wx(s)).filter(s=>s!==null).map(s=>as(()=>{let c=s.guards.map(u=>{let d=Xi(s.node)??t,h=eo(u,d),g=Xx(h)?h.canActivateChild(r,n):at(d,()=>h(r,n));return bn(g).pipe(hn())});return G(c).pipe(Ji())}));return G(o).pipe(Ji())}function l1(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let u=Xi(e)??i,d=eo(c,u),h=e1(d)?d.canDeactivate(n,e,t,r):at(u,()=>d(n,e,t,r));return bn(h).pipe(hn())});return G(s).pipe(Ji())}function d1(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let c=eo(s,n),u=Zx(c)?c.canLoad(e,t):at(n,()=>c(e,t));return bn(u)});return G(o).pipe(Ji(),OD(r))}function OD(n){return af(He(e=>{if(typeof e!="boolean")throw dl(n,e)}),ie(e=>e===!0))}function f1(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let c=eo(s,n),u=t1(c)?c.canMatch(e,t):at(n,()=>c(e,t));return bn(u)});return G(o).pipe(Ji(),OD(r))}var sa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},aa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function $i(n){return mi(new sa(n))}function h1(n){return mi(new V(4e3,!1))}function p1(n){return mi(ND(!1,vt.GuardRejected))}var hg=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[te])return h1(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,t,r,i,o){return g1(t,i,o).pipe(ie(s=>{if(s instanceof Dn)throw new aa(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new aa(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Dn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function g1(n,e,t){if(typeof n=="string")return G(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:d,data:h,title:g}=e;return bn(at(t,()=>r({params:d,data:h,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:g})))}var pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m1(n,e,t,r,i){let o=kD(n,e,t);return o.matched?(r=Lx(e,r),f1(r,e,t,i).pipe(ie(s=>s===!0?o:R({},pg)))):G(o)}function kD(n,e,t){if(e.path==="**")return y1(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?R({},pg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lx)(t,n,e);if(!i)return R({},pg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function y1(n){return{matched:!0,parameters:n.length>0?fD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function cD(n,e,t,r){return t.length>0&&E1(n,t,r)?{segmentGroup:new ge(e,_1(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&w1(n,t,r)?{segmentGroup:new ge(n.segments,v1(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function v1(n,e,t,r){let i={};for(let o of t)if(gl(n,e,o)&&!r[qt(o)]){let s=new ge([],{});i[qt(o)]=s}return R(R({},r),i)}function _1(n,e){let t={};t[te]=e;for(let r of n)if(r.path===""&&qt(r)!==te){let i=new ge([],{});t[qt(r)]=i}return t}function E1(n,e,t){return t.some(r=>gl(n,e,r)&&qt(r)!==te)}function w1(n,e,t){return t.some(r=>gl(n,e,r))}function gl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function I1(n,e,t){return e.length===0&&!n.children[t]}var gg=class{};function D1(n,e,t,r,i,o,s="emptyOnly"){return new mg(n,e,t,r,i,s,o).recognize()}var b1=31,mg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new hg(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=cD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new Tt(r,t),o=new ll("",i),s=Mx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new qi([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,t).pipe(ie(r=>({children:r,rootSnapshot:t})),qn(r=>{if(r instanceof aa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Tt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(vi(s=>{let c=r.children[s],u=Vx(t,s);return this.processSegmentGroup(e,u,c,s,i)}),pf((s,c)=>(s.push(...c),s)),Gn(null),hf(),Ve(s=>{if(s===null)return $i(r);let c=FD(s);return C1(c),G(c)}))}processSegment(e,t,r,i,o,s,c){return Ce(t).pipe(vi(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(qn(d=>{if(d instanceof sa)return G(null);throw d}))),hn(u=>!!u),qn(u=>{if(PD(u))return I1(r,i,o)?G(new gg):$i(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return qt(r)!==s&&(s===te||!gl(i,o,r))?$i(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):$i(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:d,consumedSegments:h,positionalParamSegments:g,remainingSegments:m}=kD(t,i,o);if(!u)return $i(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>b1&&(this.allowRedirects=!1));let _=new qi(o,d,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,uD(i),qt(i),i.component??i._loadedComponent??null,i,lD(i)),S=ul(_,c,this.paramsInheritanceStrategy);return _.params=Object.freeze(S.params),_.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,g,_,e).pipe(ht(M=>this.applyRedirects.lineralizeSegments(i,M)),Ve(M=>this.processSegment(e,r,t,M.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=m1(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(ht(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ht(({routes:d})=>{let h=r._loadedInjector??e,{parameters:g,consumedSegments:m,remainingSegments:_}=u,S=new qi(m,g,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,uD(r),qt(r),r.component??r._loadedComponent??null,r,lD(r)),N=ul(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:M,slicedSegments:L}=cD(t,m,_,d);if(L.length===0&&M.hasChildren())return this.processChildren(h,d,M,S).pipe(ie(he=>new Tt(S,he)));if(d.length===0&&L.length===0)return G(new Tt(S,[]));let me=qt(r)===o;return this.processSegment(h,d,M,L,me?te:o,!0,S).pipe(ie(he=>new Tt(S,he instanceof Tt?[he]:[])))}))):$i(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?G({routes:t._loadedRoutes,injector:t._loadedInjector}):d1(e,t,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,t).pipe(He(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):p1(t))):G({routes:[],injector:e})}};function C1(n){n.sort((e,t)=>e.value.outlet===te?-1:t.value.outlet===te?1:e.value.outlet.localeCompare(t.value.outlet))}function T1(n){let e=n.value.routeConfig;return e&&e.path===""}function FD(n){let e=[],t=new Set;for(let r of n){if(!T1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=FD(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!t.has(r))}function uD(n){return n.data||{}}function lD(n){return n.resolve||{}}function S1(n,e,t,r,i,o){return Ve(s=>D1(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:c,tree:u})=>Z(R({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function A1(n,e){return Ve(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of LD(u))s.add(d);let c=0;return Ce(s).pipe(vi(u=>o.has(u)?M1(u,r,n,e):(u.data=ul(u,u.parent,n).resolve,G(void 0))),He(()=>c++),_i(1),Ve(u=>c===s.size?G(t):dt))})}function LD(n){let e=n.children.map(t=>LD(t)).flat();return[n,...e]}function M1(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!SD(i)&&(o[ca]=i.title),as(()=>(n.data=ul(n,n.parent,t).resolve,R1(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=R(R({},n.data),s),null)))))}function R1(n,e,t,r){let i=Wp(n);if(i.length===0)return G({});let o={};return Ce(i).pipe(Ve(s=>N1(n[s],e,t,r).pipe(hn(),He(c=>{if(c instanceof oa)throw dl(new Ki,c);o[s]=c}))),_i(1),ie(()=>o),qn(s=>PD(s)?dt:mi(s)))}function N1(n,e,t,r){let i=Xi(e)??r,o=eo(n,i),s=o.resolve?o.resolve(e,t):at(i,()=>o(e,t));return bn(s)}function qp(n){return ht(e=>{let t=n(e);return t?Ce(t).pipe(ie(()=>e)):G(e)})}var VD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(t){return t.data[ca]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(x1),providedIn:"root"})}return n})(),x1=(()=>{class n extends VD{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(rD))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ml=new $("",{providedIn:"root",factory:()=>({})}),yl=new $(""),jD=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(vp);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=bn(at(t,()=>r.loadComponent())).pipe(ie(BD),ht(UD),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),cs(()=>{this.componentLoaders.delete(r)})),o=new gi(i,()=>new Le).pipe(pi());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=P1(r,this.compiler,t,this.onLoadEndListener).pipe(cs(()=>{this.childrenLoaders.delete(r)})),s=new gi(o,()=>new Le).pipe(pi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function P1(n,e,t,r){return bn(at(t,()=>n.loadChildren())).pipe(ie(BD),ht(UD),Ve(i=>i instanceof Vu||Array.isArray(i)?G(i):Ce(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(yl,[],{optional:!0,self:!0}).flat()),{routes:s.map(_g),injector:o}}))}function O1(n){return n&&typeof n=="object"&&"default"in n}function BD(n){return O1(n)?n.default:n}function UD(n){return G(n)}var Eg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(k1),providedIn:"root"})}return n})(),k1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$D=new $("");var HD=new $(""),zD=(()=>{class n{currentNavigation=nn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Le;transitionAbortWithErrorSubject=new Le;configLoader=x(jD);environmentInjector=x(Qe);destroyRef=x(tr);urlSerializer=x(hl);rootContexts=x(ua);location=x(Ui);inputBindingEnabled=x(pl,{optional:!0})!==null;titleStrategy=x(VD);options=x(ml,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Eg);createViewTransition=x($D,{optional:!0});navigationErrorHandler=x(HD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new tg(i)),r=i=>this.events.next(new ng(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;tt(()=>{this.transitions?.next(Z(R({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new We(null),this.transitions.pipe(St(r=>r!==null),ht(r=>{let i=!1;return G(r).pipe(ht(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),dt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Z(R({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new dr(o.id,this.urlSerializer.serialize(o.rawUrl),"",ol.IgnoredSameUrlNavigation)),o.resolve(!1),dt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G(o).pipe(ht(u=>(this.events.next(new Yi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?dt:Promise.resolve(u))),S1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),He(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let d=new sl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:h,restoredState:g,extras:m}=o,_=new Yi(u,this.urlSerializer.serialize(d),h,g);this.events.next(_);let S=CD(this.rootComponentType).snapshot;return this.currentTransition=r=Z(R({},o),{targetSnapshot:S,urlAfterRedirects:d,extras:Z(R({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=d,N)),G(r)}else return this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ol.IgnoredByUrlHandlingStrategy)),o.resolve(!1),dt}),He(o=>{let s=new Zp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ie(o=>(this.currentTransition=r=Z(R({},o),{guards:Gx(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),r1(this.environmentInjector,o=>this.events.next(o)),He(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw dl(this.urlSerializer,o.guardsResult);let s=new Jp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),St(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vt.GuardRejected),!1)),qp(o=>{if(o.guards.canActivateChecks.length!==0)return G(o).pipe(He(s=>{let c=new Xp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),ht(s=>{let c=!1;return G(s).pipe(A1(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",vt.NoDataFromResolver)}}))}),He(s=>{let c=new eg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),qp(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let d=Xi(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).pipe(He(h=>{c.component=h}),ie(()=>{})))}for(let d of c.children)u.push(...s(d));return u};return Bc(s(o.targetSnapshot.root)).pipe(Gn(null),fn(1))}),qp(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Ce(c).pipe(ie(()=>r)):G(r)}),ie(o=>{let s=Ux(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Z(R({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),He(()=>{this.events.next(new ra)}),qx(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),fn(1),$c(new oe(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(St(()=>!i&&!r.targetRouterState),He(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vt.Aborted)}))),He({next:o=>{i=!0,this.lastSuccessfulNavigation=tt(this.currentNavigation),this.events.next(new lr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),$c(this.transitionAbortWithErrorSubject.pipe(He(o=>{throw o}))),cs(()=>{i||this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),qn(o=>{if(this.destroyed)return r.resolve(!1),dt;if(i=!0,xD(o))this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zx(o)?this.events.next(new Zi(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new na(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=at(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof oa){let{message:u,cancellationCode:d}=dl(this.urlSerializer,c);this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Zi(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return dt}))}))}cancelNavigationTransition(t,r,i){let o=new In(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=tt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F1(n){return n!==Xs}var L1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(V1),providedIn:"root"})}return n})(),yg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},V1=(()=>{class n extends yg{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ki(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qD=(()=>{class n{urlSerializer=x(hl);options=x(ml,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Ui);urlHandlingStrategy=x(Eg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=CD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>x(j1),providedIn:"root"})}return n})(),j1=(()=>{class n extends qD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yi?this.updateStateMemento():t instanceof dr?this.commitTransition(r):t instanceof sl?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ra?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof In&&t.code!==vt.SupersededByNewNavigation&&t.code!==vt.Redirect?this.restoreHistory(r):t instanceof na?this.restoreHistory(r,!0):t instanceof lr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=R(R({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=R(R({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ki(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GD(n,e){n.events.pipe(St(t=>t instanceof lr||t instanceof In||t instanceof na||t instanceof dr),ie(t=>t instanceof lr||t instanceof dr?0:(t instanceof In?t.code===vt.Redirect||t.code===vt.SupersededByNewNavigation:!1)?2:1),St(t=>t!==2),fn(1)).subscribe(()=>{e()})}var B1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wg=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(pp);stateManager=x(qD);options=x(ml,{optional:!0})||{};pendingTasks=x(vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(zD);urlSerializer=x(hl);location=x(Ui);urlHandlingStrategy=x(Eg);injector=x(Qe);_events=new Le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(L1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(yl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(pl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=tt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof In&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof lr)this.navigated=!0;else if(r instanceof Zi){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=R({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||F1(i.source)},s);this.scheduleNavigation(c,Xs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Fx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=R({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(Ot)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return tt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_g),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let m=i?i.snapshot:this.routerState.snapshot.root;g=wD(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return ID(g,t,h,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Qi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xs,null,r)}navigate(t,r={skipLocationChange:!1}){return $1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=R({},B1):r===!1?i=R({},U1):i=r,Qi(t))return iD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return iD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,d;s?(c=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,m)=>{c=g,u=m});let h=this.pendingTasks.add();return GD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var H1=new $("");function Ig(n,...e){return Pr([{provide:yl,multi:!0,useValue:n},[],{provide:Wr,useFactory:z1,deps:[wg]},{provide:ju,multi:!0,useFactory:q1},e.map(t=>t.\u0275providers)])}function z1(n){return n.routerState.root}function q1(){let n=x(jt);return e=>{let t=n.get(or);if(e!==t.components[0])return;let r=n.get(wg),i=n.get(G1);n.get(W1)===1&&r.initialNavigation(),n.get(K1,null,{optional:!0})?.setUpPreloading(),n.get(H1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var G1=new $("",{factory:()=>new Le}),W1=new $("",{providedIn:"root",factory:()=>1});var K1=new $("");var WD=[];var KD={providers:[uh(),Ep({eventCoalescing:!0}),Ig(WD)]};var nb=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Ee(Ls),Ee(Fi))};static \u0275dir=yt({type:n})}return n})(),Y1=(()=>{class n extends nb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ki(n)))(i||n)}})();static \u0275dir=yt({type:n,features:[wn]})}return n})(),rb=new $("");var Z1={provide:rb,useExisting:Kn(()=>Tl),multi:!0};function J1(){let n=kt()?kt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var X1=new $(""),Tl=(()=>{class n extends nb{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!J1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Ee(Ls),Ee(Fi),Ee(X1,8))};static \u0275dir=yt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ht("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Us([Z1]),wn]})}return n})();var ib=new $(""),ob=new $("");function sb(n){return n!=null}function ab(n){return Hr(n)?Ce(n):n}function cb(n){let e={};return n.forEach(t=>{e=t!=null?R(R({},e),t):e}),Object.keys(e).length===0?null:e}function ub(n,e){return e.map(t=>t(n))}function eP(n){return!n.validate}function lb(n){return n.map(e=>eP(e)?e:t=>e.validate(t))}function tP(n){if(!n)return null;let e=n.filter(sb);return e.length==0?null:function(t){return cb(ub(t,e))}}function Cg(n){return n!=null?tP(lb(n)):null}function nP(n){if(!n)return null;let e=n.filter(sb);return e.length==0?null:function(t){let r=ub(t,e).map(ab);return ff(r).pipe(ie(cb))}}function Tg(n){return n!=null?nP(lb(n)):null}function QD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rP(n){return n._rawValidators}function iP(n){return n._rawAsyncValidators}function Dg(n){return n?Array.isArray(n)?n:[n]:[]}function _l(n,e){return Array.isArray(n)?n.includes(e):n===e}function YD(n,e){let t=Dg(e);return Dg(n).forEach(i=>{_l(t,i)||t.push(i)}),t}function ZD(n,e){return Dg(e).filter(t=>!_l(n,t))}var El=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Tg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ro=class extends El{name;get formDirective(){return null}get path(){return null}},ma=class extends El{_parent=null;name=null;valueAccessor=null},wl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jW=Z(R({},oP),{"[class.ng-submitted]":"isSubmitted"}),db=(()=>{class n extends wl{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ee(ma,2))};static \u0275dir=yt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&sr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[wn]})}return n})(),fb=(()=>{class n extends wl{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Ee(ro,10))};static \u0275dir=yt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&sr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[wn]})}return n})();var da="VALID",vl="INVALID",to="PENDING",fa="DISABLED",fr=class{},Il=class extends fr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},pa=class extends fr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ga=class extends fr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},no=class extends fr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},bg=class extends fr{source;constructor(e){super(),this.source=e}},Dl=class extends fr{source;constructor(e){super(),this.source=e}};function hb(n){return(Sl(n)?n.validators:n)||null}function sP(n){return Array.isArray(n)?Cg(n):n||null}function pb(n,e){return(Sl(e)?e.asyncValidators:n)||null}function aP(n){return Array.isArray(n)?Tg(n):n||null}function Sl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function cP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function uP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var bl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return tt(this.statusReactive)}set status(e){tt(()=>this.statusReactive.set(e))}_status=Bi(()=>this.statusReactive());statusReactive=nn(void 0);get valid(){return this.status===da}get invalid(){return this.status===vl}get pending(){return this.status==to}get disabled(){return this.status===fa}get enabled(){return this.status!==fa}errors;get pristine(){return tt(this.pristineReactive)}set pristine(e){tt(()=>this.pristineReactive.set(e))}_pristine=Bi(()=>this.pristineReactive());pristineReactive=nn(!0);get dirty(){return!this.pristine}get touched(){return tt(this.touchedReactive)}set touched(e){tt(()=>this.touchedReactive.set(e))}_touched=Bi(()=>this.touchedReactive());touchedReactive=nn(!1);get untouched(){return!this.touched}_events=new Le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZD(e,this._rawAsyncValidators))}hasValidator(e){return _l(this._rawValidators,e)}hasAsyncValidator(e){return _l(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ga(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ga(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pa(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new pa(!0,r))}markAsPending(e={}){this.status=to;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new no(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(R({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fa,this.errors=null,this._forEachChild(i=>{i.disable(Z(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Il(this.value,r)),this._events.next(new no(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=da,this._forEachChild(r=>{r.enable(Z(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===da||this.status===to)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Il(this.value,t)),this._events.next(new no(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(R({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fa:da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=to,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=ab(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new no(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?fa:this.errors?vl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(to)?to:this._anyControlsHaveStatus(vl)?vl:da}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new pa(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ga(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aP(this._rawAsyncValidators)}},Cl=class extends bl{constructor(e,t,r){super(hb(t),pb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){uP(this,!0,e),Object.keys(e).forEach(r=>{cP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Dl(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Sg=new $("",{providedIn:"root",factory:()=>Ag}),Ag="always";function lP(n,e){return[...e.path,n]}function gb(n,e,t=Ag){mb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),fP(n,e),pP(n,e),hP(n,e),dP(n,e)}function JD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dP(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function mb(n,e){let t=rP(n);e.validator!==null?n.setValidators(QD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=iP(n);e.asyncValidator!==null?n.setAsyncValidators(QD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();JD(e._rawValidators,i),JD(e._rawAsyncValidators,i)}function fP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&yb(n,e)})}function hP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&yb(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function yb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pP(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function gP(n,e){n==null,mb(n,e)}function mP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function yP(n){return Object.getPrototypeOf(n.constructor)===Y1}function vP(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _P(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Tl?t=o:yP(o)?r=o:i=o}),i||r||t||null}var EP={provide:ro,useExisting:Kn(()=>Mg)},ha=Promise.resolve(),Mg=(()=>{class n extends ro{callSetDisabledState;get submitted(){return tt(this.submittedReactive)}_submitted=Bi(()=>this.submittedReactive());submittedReactive=nn(!1);_directives=new Set;form;ngSubmit=new Ne;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Cl({},Cg(t),Tg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ha.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gb(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ha.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ha.then(()=>{let r=this._findContainer(t.path),i=new Cl({});gP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ha.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ha.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),vP(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new bg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Ee(ib,10),Ee(ob,10),Ee(Sg,8))};static \u0275dir=yt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ht("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Us([EP]),wn]})}return n})();function XD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function eb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var wP=class extends bl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(hb(t),pb(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(eb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Dl(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var IP={provide:ma,useExisting:Kn(()=>Rg)},tb=Promise.resolve(),Rg=(()=>{class n extends ma{_changeDetectorRef;callSetDisabledState;control=new wP;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ne;constructor(t,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){gb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){tb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Mp(r);tb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lP(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Ee(ro,9),Ee(ib,10),Ee(ob,10),Ee(rb,10),Ee(Hs,8),Ee(Sg,8))};static \u0275dir=yt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Us([IP]),wn,Oi]})}return n})();var vb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=yt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var DP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ir({type:n});static \u0275inj=mn({})}return n})();var _b=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sg,useValue:t.callSetDisabledState??Ag}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ir({type:n});static \u0275inj=mn({imports:[DP]})}return n})();var Eb=()=>{};var Db=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},CP=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,h=o>>2,g=(o&3)<<4|c>>4,m=(c&15)<<2|d>>6,_=d&63;u||(_=64,s||(m=64)),r.push(t[h],t[g],t[m],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Db(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||d==null||g==null)throw new Ng;let m=o<<2|c>>4;if(r.push(m),d!==64){let _=c<<4&240|d>>2;if(r.push(_),g!==64){let S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ng=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TP=function(n){let e=Db(n);return bb.encodeByteArray(e,!0)},va=function(n){return TP(n).replace(/\./g,"")},Cb=function(n){try{return bb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SP=()=>Tb().__FIREBASE_DEFAULTS__,AP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Cb(n[1]);return e&&JSON.parse(e)},xg=()=>{try{return Eb()||SP()||AP()||MP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RP=n=>xg()?.emulatorHosts?.[n],Sb=n=>{let e=RP(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Pg=()=>xg()?.config;var Al=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ml(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ab(n){return k(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Mb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=R({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[va(JSON.stringify(t)),va(JSON.stringify(s)),""].join(".")}var ya={};function NP(){let n={prod:[],emulator:[]};for(let e of Object.keys(ya))ya[e]?n.emulator.push(e):n.prod.push(e);return n}function xP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var wb=!1;function Rb(n,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||ya[n]===e||ya[n]||wb)return;ya[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=NP().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{wb=!0,s()},m}function h(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){let m=xP(r),_=t("text"),S=document.getElementById(_)||document.createElement("span"),N=t("learnmore"),M=document.getElementById(N)||document.createElement("a"),L=t("preprendIcon"),me=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let he=m.element;c(he),h(M,N);let it=d();u(me,L),he.append(me,S,M,it),document.body.appendChild(he)}o?(S.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Nb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PP(){let n=xg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xb(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Og(){try{return typeof indexedDB=="object"}catch{return!1}}function Pb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var OP="FirebaseError",Cn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=OP,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}},_a=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kP(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Cn(i,c,r)}};function kP(n,e){return n.replace(FP,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FP=/\{\$([^}]+)}/g;function io(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(Ib(o)&&Ib(s)){if(!io(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ib(n){return n!==null&&typeof n=="object"}var zW=14400*1e3;function Ob(n){return n&&n._delegate?n._delegate:n}var Tn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Kr="[DEFAULT]";var kg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Al;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VP(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return k(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LP(n){return n===Kr?void 0:n}function VP(n){return n.instantiationMode==="EAGER"}var Rl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new kg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var jP=[],ce=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ce||{}),BP={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},UP=ce.INFO,$P={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},HP=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=$P[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},oo=class{constructor(e){this.name=e,this._logLevel=UP,this._logHandler=HP,this._userLogHandler=null,jP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var zP=(n,e)=>e.some(t=>n instanceof t),kb,Fb;function qP(){return kb||(kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GP(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Lb=new WeakMap,Lg=new WeakMap,Vb=new WeakMap,Fg=new WeakMap,jg=new WeakMap;function WP(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(sn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Lb.set(t,n)}).catch(()=>{}),jg.set(e,n),e}function KP(n){if(Lg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Lg.set(n,e)}var Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Vb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jb(n){Vg=n(Vg)}function QP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Nl(this),e,...t);return Vb.set(r,e.sort?e.sort():[e]),sn(r)}:GP().includes(n)?function(...e){return n.apply(Nl(this),e),sn(Lb.get(this))}:function(...e){return sn(n.apply(Nl(this),e))}}function YP(n){return typeof n=="function"?QP(n):(n instanceof IDBTransaction&&KP(n),zP(n,qP())?new Proxy(n,Vg):n)}function sn(n){if(n instanceof IDBRequest)return WP(n);if(Fg.has(n))return Fg.get(n);let e=YP(n);return e!==n&&(Fg.set(n,e),jg.set(e,n)),e}var Nl=n=>jg.get(n);function Ub(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=sn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sn(s.result),u.oldVersion,u.newVersion,sn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var ZP=["get","getKey","getAll","getAllKeys","count"],JP=["put","add","delete","clear"],Bg=new Map;function Bb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=JP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZP.includes(t)))return;let o=function(s,...c){return k(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]})};return Bg.set(e,o),o}jb(n=>Z(R({},n),{get:(e,t,r)=>Bb(e,t)||n.get(e,t,r),has:(e,t)=>!!Bb(e,t)||n.has(e,t)}));var $g=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XP(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function XP(n){return n.getComponent()?.type==="VERSION"}var Hg="@firebase/app",$b="0.14.4";var Sn=new oo("@firebase/app"),eO="@firebase/app-compat",tO="@firebase/analytics-compat",nO="@firebase/analytics",rO="@firebase/app-check-compat",iO="@firebase/app-check",oO="@firebase/auth",sO="@firebase/auth-compat",aO="@firebase/database",cO="@firebase/data-connect",uO="@firebase/database-compat",lO="@firebase/functions",dO="@firebase/functions-compat",fO="@firebase/installations",hO="@firebase/installations-compat",pO="@firebase/messaging",gO="@firebase/messaging-compat",mO="@firebase/performance",yO="@firebase/performance-compat",vO="@firebase/remote-config",_O="@firebase/remote-config-compat",EO="@firebase/storage",wO="@firebase/storage-compat",IO="@firebase/firestore",DO="@firebase/ai",bO="@firebase/firestore-compat",CO="firebase",TO="12.4.0";var zg="[DEFAULT]",SO={[Hg]:"fire-core",[eO]:"fire-core-compat",[nO]:"fire-analytics",[tO]:"fire-analytics-compat",[iO]:"fire-app-check",[rO]:"fire-app-check-compat",[oO]:"fire-auth",[sO]:"fire-auth-compat",[aO]:"fire-rtdb",[cO]:"fire-data-connect",[uO]:"fire-rtdb-compat",[lO]:"fire-fn",[dO]:"fire-fn-compat",[fO]:"fire-iid",[hO]:"fire-iid-compat",[pO]:"fire-fcm",[gO]:"fire-fcm-compat",[mO]:"fire-perf",[yO]:"fire-perf-compat",[vO]:"fire-rc",[_O]:"fire-rc-compat",[EO]:"fire-gcs",[wO]:"fire-gcs-compat",[IO]:"fire-fst",[bO]:"fire-fst-compat",[DO]:"fire-vertex","fire-js":"fire-js",[CO]:"fire-js-all"};var xl=new Map,AO=new Map,qg=new Map;function Hb(n,e){try{n.container.addComponent(e)}catch(t){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ea(n){let e=n.name;if(qg.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,n);for(let t of xl.values())Hb(t,n);for(let t of AO.values())Hb(t,n);return!0}function Wb(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kb(n){return n==null?!1:n.settings!==void 0}var MO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new _a("app","Firebase",MO);var Gg=class{constructor(e,t,r){this._isDeleted=!1,this._options=R({},e),this._config=R({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}};var Qb=TO;function Qg(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=R({name:zg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw hr.create("bad-app-name",{appName:String(i)});if(t||(t=Pg()),!t)throw hr.create("no-options");let o=xl.get(i);if(o){if(io(t,o.options)&&io(r,o.config))return o;throw hr.create("duplicate-app",{appName:i})}let s=new Rl(i);for(let u of qg.values())s.addComponent(u);let c=new Gg(t,r,s);return xl.set(i,c),c}function Yb(n=zg){let e=xl.get(n);if(!e&&n===zg&&Pg())return Qg();if(!e)throw hr.create("no-app",{appName:n});return e}function pr(n,e,t){let r=SO[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(s.join(" "));return}Ea(new Tn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var RO="firebase-heartbeat-database",NO=1,wa="firebase-heartbeat-store",Ug=null;function Zb(){return Ug||(Ug=Ub(RO,NO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wa)}catch(t){console.warn(t)}}}}).catch(n=>{throw hr.create("idb-open",{originalErrorMessage:n.message})})),Ug}function xO(n){return k(this,null,function*(){try{let t=(yield Zb()).transaction(wa),r=yield t.objectStore(wa).get(Jb(n));return yield t.done,r}catch(e){if(e instanceof Cn)Sn.warn(e.message);else{let t=hr.create("idb-get",{originalErrorMessage:e?.message});Sn.warn(t.message)}}})}function zb(n,e){return k(this,null,function*(){try{let r=(yield Zb()).transaction(wa,"readwrite");yield r.objectStore(wa).put(e,Jb(n)),yield r.done}catch(t){if(t instanceof Cn)Sn.warn(t.message);else{let r=hr.create("idb-set",{originalErrorMessage:t?.message});Sn.warn(r.message)}}})}function Jb(n){return`${n.name}!${n.options.appId}`}var PO=1024,OO=30,Wg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Kg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return k(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>OO){let i=FO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sn.warn(e)}})}getHeartbeatsHeader(){return k(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=qb(),{heartbeatsToSend:t,unsentEntries:r}=kO(this._heartbeatsCache.heartbeats),i=va(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Sn.warn(e),""}})}};function qb(){return new Date().toISOString().substring(0,10)}function kO(n,e=PO){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Gb(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Gb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Kg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return k(this,null,function*(){return Og()?Pb().then(()=>!0).catch(()=>!1):!1})}read(){return k(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield xO(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return k(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return zb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return k(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return zb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Gb(n){return va(JSON.stringify({version:2,heartbeats:n})).length}function FO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function LO(n){Ea(new Tn("platform-logger",e=>new $g(e),"PRIVATE")),Ea(new Tn("heartbeat",e=>new Wg(e),"PRIVATE")),pr(Hg,$b,n),pr(Hg,$b,"esm2020"),pr("fire-js","")}LO("");var VO="firebase",jO="12.4.0";pr(VO,jO,"app");var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eC={};var An,Yg;(function(){var n;function e(I,y){function E(){}E.prototype=y.prototype,I.F=y.prototype,I.prototype=new E,I.prototype.constructor=I,I.D=function(D,w,C){for(var v=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)v[lt-2]=arguments[lt];return y.prototype[w].apply(D,v)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,E){E||(E=0);let D=Array(16);if(typeof y=="string")for(var w=0;w<16;++w)D[w]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(w=0;w<16;++w)D[w]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=I.g[0],E=I.g[1],w=I.g[2];let C=I.g[3],v;v=y+(C^E&(w^C))+D[0]+3614090360&4294967295,y=E+(v<<7&4294967295|v>>>25),v=C+(w^y&(E^w))+D[1]+3905402710&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(E^C&(y^E))+D[2]+606105819&4294967295,w=C+(v<<17&4294967295|v>>>15),v=E+(y^w&(C^y))+D[3]+3250441966&4294967295,E=w+(v<<22&4294967295|v>>>10),v=y+(C^E&(w^C))+D[4]+4118548399&4294967295,y=E+(v<<7&4294967295|v>>>25),v=C+(w^y&(E^w))+D[5]+1200080426&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(E^C&(y^E))+D[6]+2821735955&4294967295,w=C+(v<<17&4294967295|v>>>15),v=E+(y^w&(C^y))+D[7]+4249261313&4294967295,E=w+(v<<22&4294967295|v>>>10),v=y+(C^E&(w^C))+D[8]+1770035416&4294967295,y=E+(v<<7&4294967295|v>>>25),v=C+(w^y&(E^w))+D[9]+2336552879&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(E^C&(y^E))+D[10]+4294925233&4294967295,w=C+(v<<17&4294967295|v>>>15),v=E+(y^w&(C^y))+D[11]+2304563134&4294967295,E=w+(v<<22&4294967295|v>>>10),v=y+(C^E&(w^C))+D[12]+1804603682&4294967295,y=E+(v<<7&4294967295|v>>>25),v=C+(w^y&(E^w))+D[13]+4254626195&4294967295,C=y+(v<<12&4294967295|v>>>20),v=w+(E^C&(y^E))+D[14]+2792965006&4294967295,w=C+(v<<17&4294967295|v>>>15),v=E+(y^w&(C^y))+D[15]+1236535329&4294967295,E=w+(v<<22&4294967295|v>>>10),v=y+(w^C&(E^w))+D[1]+4129170786&4294967295,y=E+(v<<5&4294967295|v>>>27),v=C+(E^w&(y^E))+D[6]+3225465664&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^E&(C^y))+D[11]+643717713&4294967295,w=C+(v<<14&4294967295|v>>>18),v=E+(C^y&(w^C))+D[0]+3921069994&4294967295,E=w+(v<<20&4294967295|v>>>12),v=y+(w^C&(E^w))+D[5]+3593408605&4294967295,y=E+(v<<5&4294967295|v>>>27),v=C+(E^w&(y^E))+D[10]+38016083&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^E&(C^y))+D[15]+3634488961&4294967295,w=C+(v<<14&4294967295|v>>>18),v=E+(C^y&(w^C))+D[4]+3889429448&4294967295,E=w+(v<<20&4294967295|v>>>12),v=y+(w^C&(E^w))+D[9]+568446438&4294967295,y=E+(v<<5&4294967295|v>>>27),v=C+(E^w&(y^E))+D[14]+3275163606&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^E&(C^y))+D[3]+4107603335&4294967295,w=C+(v<<14&4294967295|v>>>18),v=E+(C^y&(w^C))+D[8]+1163531501&4294967295,E=w+(v<<20&4294967295|v>>>12),v=y+(w^C&(E^w))+D[13]+2850285829&4294967295,y=E+(v<<5&4294967295|v>>>27),v=C+(E^w&(y^E))+D[2]+4243563512&4294967295,C=y+(v<<9&4294967295|v>>>23),v=w+(y^E&(C^y))+D[7]+1735328473&4294967295,w=C+(v<<14&4294967295|v>>>18),v=E+(C^y&(w^C))+D[12]+2368359562&4294967295,E=w+(v<<20&4294967295|v>>>12),v=y+(E^w^C)+D[5]+4294588738&4294967295,y=E+(v<<4&4294967295|v>>>28),v=C+(y^E^w)+D[8]+2272392833&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^E)+D[11]+1839030562&4294967295,w=C+(v<<16&4294967295|v>>>16),v=E+(w^C^y)+D[14]+4259657740&4294967295,E=w+(v<<23&4294967295|v>>>9),v=y+(E^w^C)+D[1]+2763975236&4294967295,y=E+(v<<4&4294967295|v>>>28),v=C+(y^E^w)+D[4]+1272893353&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^E)+D[7]+4139469664&4294967295,w=C+(v<<16&4294967295|v>>>16),v=E+(w^C^y)+D[10]+3200236656&4294967295,E=w+(v<<23&4294967295|v>>>9),v=y+(E^w^C)+D[13]+681279174&4294967295,y=E+(v<<4&4294967295|v>>>28),v=C+(y^E^w)+D[0]+3936430074&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^E)+D[3]+3572445317&4294967295,w=C+(v<<16&4294967295|v>>>16),v=E+(w^C^y)+D[6]+76029189&4294967295,E=w+(v<<23&4294967295|v>>>9),v=y+(E^w^C)+D[9]+3654602809&4294967295,y=E+(v<<4&4294967295|v>>>28),v=C+(y^E^w)+D[12]+3873151461&4294967295,C=y+(v<<11&4294967295|v>>>21),v=w+(C^y^E)+D[15]+530742520&4294967295,w=C+(v<<16&4294967295|v>>>16),v=E+(w^C^y)+D[2]+3299628645&4294967295,E=w+(v<<23&4294967295|v>>>9),v=y+(w^(E|~C))+D[0]+4096336452&4294967295,y=E+(v<<6&4294967295|v>>>26),v=C+(E^(y|~w))+D[7]+1126891415&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~E))+D[14]+2878612391&4294967295,w=C+(v<<15&4294967295|v>>>17),v=E+(C^(w|~y))+D[5]+4237533241&4294967295,E=w+(v<<21&4294967295|v>>>11),v=y+(w^(E|~C))+D[12]+1700485571&4294967295,y=E+(v<<6&4294967295|v>>>26),v=C+(E^(y|~w))+D[3]+2399980690&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~E))+D[10]+4293915773&4294967295,w=C+(v<<15&4294967295|v>>>17),v=E+(C^(w|~y))+D[1]+2240044497&4294967295,E=w+(v<<21&4294967295|v>>>11),v=y+(w^(E|~C))+D[8]+1873313359&4294967295,y=E+(v<<6&4294967295|v>>>26),v=C+(E^(y|~w))+D[15]+4264355552&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~E))+D[6]+2734768916&4294967295,w=C+(v<<15&4294967295|v>>>17),v=E+(C^(w|~y))+D[13]+1309151649&4294967295,E=w+(v<<21&4294967295|v>>>11),v=y+(w^(E|~C))+D[4]+4149444226&4294967295,y=E+(v<<6&4294967295|v>>>26),v=C+(E^(y|~w))+D[11]+3174756917&4294967295,C=y+(v<<10&4294967295|v>>>22),v=w+(y^(C|~E))+D[2]+718787259&4294967295,w=C+(v<<15&4294967295|v>>>17),v=E+(C^(w|~y))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.v=function(I,y){y===void 0&&(y=I.length);let E=y-this.blockSize,D=this.C,w=this.h,C=0;for(;C<y;){if(w==0)for(;C<=E;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<y;)if(D[w++]=I.charCodeAt(C++),w==this.blockSize){i(this,D),w=0;break}}else for(;C<y;)if(D[w++]=I[C++],w==this.blockSize){i(this,D),w=0;break}}this.h=w,this.o+=y},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;y=this.o*8;for(var E=I.length-8;E<I.length;++E)I[E]=y&255,y/=256;for(this.v(I),I=Array(16),y=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)I[y++]=this.g[E]>>>D&255;return I};function o(I,y){var E=c;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=y(I)}function s(I,y){this.h=y;let E=[],D=!0;for(let w=I.length-1;w>=0;w--){let C=I[w]|0;D&&C==y||(E[w]=C,D=!1)}this.g=E}var c={};function u(I){return-128<=I&&I<128?o(I,function(y){return new s([y|0],y<0?-1:0)}):new s([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return M(d(-I));let y=[],E=1;for(let D=0;I>=E;D++)y[D]=I/E|0,E*=4294967296;return new s(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return M(h(I.substring(1),y));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=d(Math.pow(y,8)),D=g;for(let C=0;C<I.length;C+=8){var w=Math.min(8,I.length-C);let v=parseInt(I.substring(C,C+w),y);w<8?(w=d(Math.pow(y,w)),D=D.j(w).add(d(v))):(D=D.j(E),D=D.add(d(v)))}return D}var g=u(0),m=u(1),_=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-M(this).m();let I=0,y=1;for(let E=0;E<this.g.length;E++){let D=this.i(E);I+=(D>=0?D:4294967296+D)*y,y*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(N(this))return"-"+M(this).toString(I);let y=d(Math.pow(I,6));var E=this;let D="";for(;;){let w=it(E,y).g;E=L(E,w.j(y));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(I);if(E=w,S(E))return C+D;for(;C.length<6;)C="0"+C;D=C+D}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function N(I){return I.h==-1}n.l=function(I){return I=L(this,I),N(I)?-1:S(I)?0:1};function M(I){let y=I.g.length,E=[];for(let D=0;D<y;D++)E[D]=~I.g[D];return new s(E,~I.h).add(m)}n.abs=function(){return N(this)?M(this):this},n.add=function(I){let y=Math.max(this.g.length,I.g.length),E=[],D=0;for(let w=0;w<=y;w++){let C=D+(this.i(w)&65535)+(I.i(w)&65535),v=(C>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);D=v>>>16,C&=65535,v&=65535,E[w]=v<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(I,y){return I.add(M(y))}n.j=function(I){if(S(this)||S(I))return g;if(N(this))return N(I)?M(this).j(M(I)):M(M(this).j(I));if(N(I))return M(this.j(M(I)));if(this.l(_)<0&&I.l(_)<0)return d(this.m()*I.m());let y=this.g.length+I.g.length,E=[];for(var D=0;D<2*y;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let w=0;w<I.g.length;w++){let C=this.i(D)>>>16,v=this.i(D)&65535,lt=I.i(w)>>>16,Ln=I.i(w)&65535;E[2*D+2*w]+=v*Ln,me(E,2*D+2*w),E[2*D+2*w+1]+=C*Ln,me(E,2*D+2*w+1),E[2*D+2*w+1]+=v*lt,me(E,2*D+2*w+1),E[2*D+2*w+2]+=C*lt,me(E,2*D+2*w+2)}for(I=0;I<y;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=y;I<2*y;I++)E[I]=0;return new s(E,0)};function me(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function he(I,y){this.g=I,this.h=y}function it(I,y){if(S(y))throw Error("division by zero");if(S(I))return new he(g,g);if(N(I))return y=it(M(I),y),new he(M(y.g),M(y.h));if(N(y))return y=it(I,M(y)),new he(M(y.g),y.h);if(I.g.length>30){if(N(I)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,D=y;D.l(I)<=0;)E=ut(E),D=ut(D);var w=Ue(E,1),C=Ue(D,1);for(D=Ue(D,2),E=Ue(E,2);!S(D);){var v=C.add(D);v.l(I)<=0&&(w=w.add(E),C=v),D=Ue(D,1),E=Ue(E,1)}return y=L(I,w.j(y)),new he(w,y)}for(w=g;I.l(y)>=0;){for(E=Math.max(1,Math.floor(I.m()/y.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),C=d(E),v=C.j(y);N(v)||v.l(I)>0;)E-=D,C=d(E),v=C.j(y);S(C)&&(C=m),w=w.add(C),I=L(I,v)}return new he(w,I)}n.B=function(I){return it(this,I).h},n.and=function(I){let y=Math.max(this.g.length,I.g.length),E=[];for(let D=0;D<y;D++)E[D]=this.i(D)&I.i(D);return new s(E,this.h&I.h)},n.or=function(I){let y=Math.max(this.g.length,I.g.length),E=[];for(let D=0;D<y;D++)E[D]=this.i(D)|I.i(D);return new s(E,this.h|I.h)},n.xor=function(I){let y=Math.max(this.g.length,I.g.length),E=[];for(let D=0;D<y;D++)E[D]=this.i(D)^I.i(D);return new s(E,this.h^I.h)};function ut(I){let y=I.g.length+1,E=[];for(let D=0;D<y;D++)E[D]=I.i(D)<<1|I.i(D-1)>>>31;return new s(E,I.h)}function Ue(I,y){let E=y>>5;y%=32;let D=I.g.length-E,w=[];for(let C=0;C<D;C++)w[C]=y>0?I.i(C+E)>>>y|I.i(C+E+1)<<32-y:I.i(C+E);return new s(w,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Yg=eC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,An=eC.Integer=s}).apply(typeof Xb<"u"?Xb:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mn={};var Zg,BO,so,Jg,Ia,Ol,Xg,em,tm;(function(){var n,e=Object.defineProperty;function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var l=0;l<a.length;++l){var f=a[l];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(a,l){if(l)e:{var f=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var b=a[p];if(!(b in f))break e;f=f[b]}a=a[a.length-1],p=f[a],l=l(p),l!=p&&l!=null&&e(f,a,{configurable:!0,writable:!0,value:l})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(l){var f=[],p;for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&f.push([p,l[p]]);return f}});var o=o||{},s=this||self;function c(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function u(a,l,f){return a.call.apply(a.bind,arguments)}function d(a,l,f){return d=u,d.apply(null,arguments)}function h(a,l){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function g(a,l){function f(){}f.prototype=l.prototype,a.Z=l.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(p,b,T){for(var O=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)O[ne-2]=arguments[ne];return l.prototype[b].apply(p,O)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function _(a){let l=a.length;if(l>0){let f=Array(l);for(let p=0;p<l;p++)f[p]=a[p];return f}return[]}function S(a,l){for(let p=1;p<arguments.length;p++){let b=arguments[p];var f=typeof b;if(f=f!="object"?f:b?Array.isArray(b)?"array":f:"null",f=="array"||f=="object"&&typeof b.length=="number"){f=a.length||0;let T=b.length||0;a.length=f+T;for(let O=0;O<T;O++)a[f+O]=b[O]}else a.push(b)}}class N{constructor(l,f){this.i=l,this.j=f,this.h=0,this.g=null}get(){let l;return this.h>0?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function M(a){s.setTimeout(()=>{throw a},0)}function L(){var a=I;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class me{constructor(){this.h=this.g=null}add(l,f){let p=he.get();p.set(l,f),this.h?this.h.next=p:this.g=p,this.h=p}}var he=new N(()=>new it,a=>a.reset());class it{constructor(){this.next=this.g=this.h=null}set(l,f){this.h=l,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,Ue=!1,I=new me,y=()=>{let a=Promise.resolve(void 0);ut=()=>{a.then(E)}};function E(){for(var a;a=L();){try{a.h.call(a.g)}catch(f){M(f)}var l=he;l.j(a),l.h<100&&(l.h++,a.next=l.g,l.g=a)}Ue=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};s.addEventListener("test",f,l),s.removeEventListener("test",f,l)}catch{}return a})();function v(a){return/^[\s\xa0]*$/.test(a)}function lt(a,l){w.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,l)}g(lt,w),lt.prototype.init=function(a,l){let f=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget,l||(f=="mouseover"?l=a.fromElement:f=="mouseout"&&(l=a.toElement)),this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ln="closure_listenable_"+(Math.random()*1e6|0),tS=0;function nS(a,l,f,p,b){this.listener=a,this.proxy=null,this.src=l,this.type=f,this.capture=!!p,this.ha=b,this.key=++tS,this.da=this.fa=!1}function Ga(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Wa(a,l,f){for(let p in a)l.call(f,a[p],p,a)}function rS(a,l){for(let f in a)l.call(void 0,a[f],f,a)}function Jy(a){let l={};for(let f in a)l[f]=a[f];return l}let Xy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ev(a,l){let f,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(f in p)a[f]=p[f];for(let T=0;T<Xy.length;T++)f=Xy[T],Object.prototype.hasOwnProperty.call(p,f)&&(a[f]=p[f])}}function Ka(a){this.src=a,this.g={},this.h=0}Ka.prototype.add=function(a,l,f,p,b){let T=a.toString();a=this.g[T],a||(a=this.g[T]=[],this.h++);let O=bd(a,l,p,b);return O>-1?(l=a[O],f||(l.fa=!1)):(l=new nS(l,this.src,T,!!p,b),l.fa=f,a.push(l)),l};function Dd(a,l){let f=l.type;if(f in a.g){var p=a.g[f],b=Array.prototype.indexOf.call(p,l,void 0),T;(T=b>=0)&&Array.prototype.splice.call(p,b,1),T&&(Ga(l),a.g[f].length==0&&(delete a.g[f],a.h--))}}function bd(a,l,f,p){for(let b=0;b<a.length;++b){let T=a[b];if(!T.da&&T.listener==l&&T.capture==!!f&&T.ha==p)return b}return-1}var Cd="closure_lm_"+(Math.random()*1e6|0),Td={};function tv(a,l,f,p,b){if(p&&p.once)return rv(a,l,f,p,b);if(Array.isArray(l)){for(let T=0;T<l.length;T++)tv(a,l[T],f,p,b);return null}return f=Rd(f),a&&a[Ln]?a.J(l,f,c(p)?!!p.capture:!!p,b):nv(a,l,f,!1,p,b)}function nv(a,l,f,p,b,T){if(!l)throw Error("Invalid event type");let O=c(b)?!!b.capture:!!b,ne=Ad(a);if(ne||(a[Cd]=ne=new Ka(a)),f=ne.add(l,f,p,O,T),f.proxy)return f;if(p=iS(),f.proxy=p,p.src=a,p.listener=f,a.addEventListener)C||(b=O),b===void 0&&(b=!1),a.addEventListener(l.toString(),p,b);else if(a.attachEvent)a.attachEvent(ov(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function iS(){function a(f){return l.call(a.src,a.listener,f)}let l=oS;return a}function rv(a,l,f,p,b){if(Array.isArray(l)){for(let T=0;T<l.length;T++)rv(a,l[T],f,p,b);return null}return f=Rd(f),a&&a[Ln]?a.K(l,f,c(p)?!!p.capture:!!p,b):nv(a,l,f,!0,p,b)}function iv(a,l,f,p,b){if(Array.isArray(l))for(var T=0;T<l.length;T++)iv(a,l[T],f,p,b);else p=c(p)?!!p.capture:!!p,f=Rd(f),a&&a[Ln]?(a=a.i,T=String(l).toString(),T in a.g&&(l=a.g[T],f=bd(l,f,p,b),f>-1&&(Ga(l[f]),Array.prototype.splice.call(l,f,1),l.length==0&&(delete a.g[T],a.h--)))):a&&(a=Ad(a))&&(l=a.g[l.toString()],a=-1,l&&(a=bd(l,f,p,b)),(f=a>-1?l[a]:null)&&Sd(f))}function Sd(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[Ln])Dd(l.i,a);else{var f=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(f,p,a.capture):l.detachEvent?l.detachEvent(ov(f),p):l.addListener&&l.removeListener&&l.removeListener(p),(f=Ad(l))?(Dd(f,a),f.h==0&&(f.src=null,l[Cd]=null)):Ga(a)}}}function ov(a){return a in Td?Td[a]:Td[a]="on"+a}function oS(a,l){if(a.da)a=!0;else{l=new lt(l,this);let f=a.listener,p=a.ha||a.src;a.fa&&Sd(a),a=f.call(p,l)}return a}function Ad(a){return a=a[Cd],a instanceof Ka?a:null}var Md="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rd(a){return typeof a=="function"?a:(a[Md]||(a[Md]=function(l){return a.handleEvent(l)}),a[Md])}function Je(){D.call(this),this.i=new Ka(this),this.M=this,this.G=null}g(Je,D),Je.prototype[Ln]=!0,Je.prototype.removeEventListener=function(a,l,f,p){iv(this,a,l,f,p)};function ot(a,l){var f,p=a.G;if(p)for(f=[];p;p=p.G)f.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new w(l,a);else if(l instanceof w)l.target=l.target||a;else{var b=l;l=new w(p,a),ev(l,b)}b=!0;let T,O;if(f)for(O=f.length-1;O>=0;O--)T=l.g=f[O],b=Qa(T,p,!0,l)&&b;if(T=l.g=a,b=Qa(T,p,!0,l)&&b,b=Qa(T,p,!1,l)&&b,f)for(O=0;O<f.length;O++)T=l.g=f[O],b=Qa(T,p,!1,l)&&b}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var a=this.i;for(let l in a.g){let f=a.g[l];for(let p=0;p<f.length;p++)Ga(f[p]);delete a.g[l],a.h--}}this.G=null},Je.prototype.J=function(a,l,f,p){return this.i.add(String(a),l,!1,f,p)},Je.prototype.K=function(a,l,f,p){return this.i.add(String(a),l,!0,f,p)};function Qa(a,l,f,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();let b=!0;for(let T=0;T<l.length;++T){let O=l[T];if(O&&!O.da&&O.capture==f){let ne=O.listener,Fe=O.ha||O.src;O.fa&&Dd(a.i,O),b=ne.call(Fe,p)!==!1&&b}}return b&&!p.defaultPrevented}function sS(a,l){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(l)>2147483647?-1:s.setTimeout(a,l||0)}function sv(a){a.g=sS(()=>{a.g=null,a.i&&(a.i=!1,sv(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class aS extends D{constructor(l,f){super(),this.m=l,this.l=f,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:sv(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jo(a){D.call(this),this.h=a,this.g={}}g(jo,D);var av=[];function cv(a){Wa(a.g,function(l,f){this.g.hasOwnProperty(f)&&Sd(l)},a),a.g={}}jo.prototype.N=function(){jo.Z.N.call(this),cv(this)},jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nd=s.JSON.stringify,cS=s.JSON.parse,uS=class{stringify(a){return s.JSON.stringify(a,void 0)}parse(a){return s.JSON.parse(a,void 0)}};function uv(){}function lv(){}var Bo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xd(){w.call(this,"d")}g(xd,w);function Pd(){w.call(this,"c")}g(Pd,w);var vr={},dv=null;function Ya(){return dv=dv||new Je}vr.Ia="serverreachability";function fv(a){w.call(this,vr.Ia,a)}g(fv,w);function Uo(a){let l=Ya();ot(l,new fv(l))}vr.STAT_EVENT="statevent";function hv(a,l){w.call(this,vr.STAT_EVENT,a),this.stat=l}g(hv,w);function st(a){let l=Ya();ot(l,new hv(l,a))}vr.Ja="timingevent";function pv(a,l){w.call(this,vr.Ja,a),this.size=l}g(pv,w);function $o(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){a()},l)}function Ho(){this.g=!0}Ho.prototype.ua=function(){this.g=!1};function lS(a,l,f,p,b,T){a.info(function(){if(a.g)if(T){var O="",ne=T.split("&");for(let ye=0;ye<ne.length;ye++){var Fe=ne[ye].split("=");if(Fe.length>1){let $e=Fe[0];Fe=Fe[1];let Qt=$e.split("_");O=Qt.length>=2&&Qt[1]=="type"?O+($e+"="+Fe+"&"):O+($e+"=redacted&")}}}else O=null;else O=T;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+l+`
`+f+`
`+O})}function dS(a,l,f,p,b,T,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+l+`
`+f+`
`+T+" "+O})}function ei(a,l,f,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+hS(a,f)+(p?" "+p:"")})}function fS(a,l){a.info(function(){return"TIMEOUT: "+l})}Ho.prototype.info=function(){};function hS(a,l){if(!a.g)return l;if(!l)return null;try{let T=JSON.parse(l);if(T){for(a=0;a<T.length;a++)if(Array.isArray(T[a])){var f=T[a];if(!(f.length<2)){var p=f[1];if(Array.isArray(p)&&!(p.length<1)){var b=p[0];if(b!="noop"&&b!="stop"&&b!="close")for(let O=1;O<p.length;O++)p[O]=""}}}}return Nd(T)}catch{return l}}var Za={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gv={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mv;function Od(){}g(Od,uv),Od.prototype.g=function(){return new XMLHttpRequest},mv=new Od;function zo(a){return encodeURIComponent(String(a))}function pS(a){var l=1;a=a.split(":");let f=[];for(;l>0&&a.length;)f.push(a.shift()),l--;return a.length&&f.push(a.join(":")),f}function Vn(a,l,f,p){this.j=a,this.i=l,this.l=f,this.S=p||1,this.V=new jo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yv}function yv(){this.i=null,this.g="",this.h=!1}var vv={},kd={};function Fd(a,l,f){a.M=1,a.A=Xa(Kt(l)),a.u=f,a.R=!0,_v(a,null)}function _v(a,l){a.F=Date.now(),Ja(a),a.B=Kt(a.A);var f=a.B,p=a.S;Array.isArray(p)||(p=[String(p)]),xv(f.i,"t",p),a.C=0,f=a.j.L,a.h=new yv,a.g=Yv(a.j,f?l:null,!a.u),a.P>0&&(a.O=new aS(d(a.Y,a,a.g),a.P)),l=a.V,f=a.g,p=a.ba;var b="readystatechange";Array.isArray(b)||(b&&(av[0]=b.toString()),b=av);for(let T=0;T<b.length;T++){let O=tv(f,b[T],p||l.handleEvent,!1,l.h||l);if(!O)break;l.g[O.key]=O}l=a.J?Jy(a.J):{},a.u?(a.v||(a.v="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,l)):(a.v="GET",a.g.ea(a.B,a.v,null,l)),Uo(),lS(a.i,a.v,a.B,a.l,a.S,a.u)}Vn.prototype.ba=function(a){a=a.target;let l=this.O;l&&Un(a)==3?l.j():this.Y(a)},Vn.prototype.Y=function(a){try{if(a==this.g)e:{let ne=Un(this.g),Fe=this.g.ya(),ye=this.g.ca();if(!(ne<3)&&(ne!=3||this.g&&(this.h.h||this.g.la()||jv(this.g)))){this.K||ne!=4||Fe==7||(Fe==8||ye<=0?Uo(3):Uo(2)),Ld(this);var l=this.g.ca();this.X=l;var f=gS(this);if(this.o=l==200,dS(this.i,this.v,this.B,this.l,this.S,ne,l),this.o){if(this.U&&!this.L){t:{if(this.g){var p,b=this.g;if((p=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(p)){var T=p;break t}}T=null}if(a=T)ei(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vd(this,a);else{this.o=!1,this.m=3,st(12),_r(this),qo(this);break e}}if(this.R){a=!0;let $e;for(;!this.K&&this.C<f.length;)if($e=mS(this,f),$e==kd){ne==4&&(this.m=4,st(14),a=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if($e==vv){this.m=4,st(15),ei(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else ei(this.i,this.l,$e,null),Vd(this,$e);if(Ev(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||f.length!=0||this.h.h||(this.m=1,st(16),a=!1),this.o=this.o&&a,!a)ei(this.i,this.l,f,"[Invalid Chunked Response]"),_r(this),qo(this);else if(f.length>0&&!this.W){this.W=!0;var O=this.j;O.g==this&&O.aa&&!O.P&&(O.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),qd(O),O.P=!0,st(11))}}else ei(this.i,this.l,f,null),Vd(this,f);ne==4&&_r(this),this.o&&!this.K&&(ne==4?Gv(this.j,this):(this.o=!1,Ja(this)))}else RS(this.g),l==400&&f.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),_r(this),qo(this)}}}catch{}finally{}};function gS(a){if(!Ev(a))return a.g.la();let l=jv(a.g);if(l==="")return"";let f="",p=l.length,b=Un(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return _r(a),qo(a),"";a.h.i=new s.TextDecoder}for(let T=0;T<p;T++)a.h.h=!0,f+=a.h.i.decode(l[T],{stream:!(b&&T==p-1)});return l.length=0,a.h.g+=f,a.C=0,a.h.g}function Ev(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function mS(a,l){var f=a.C,p=l.indexOf(`
`,f);return p==-1?kd:(f=Number(l.substring(f,p)),isNaN(f)?vv:(p+=1,p+f>l.length?kd:(l=l.slice(p,p+f),a.C=p+f,l)))}Vn.prototype.cancel=function(){this.K=!0,_r(this)};function Ja(a){a.T=Date.now()+a.H,wv(a,a.H)}function wv(a,l){if(a.D!=null)throw Error("WatchDog timer not null");a.D=$o(d(a.aa,a),l)}function Ld(a){a.D&&(s.clearTimeout(a.D),a.D=null)}Vn.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(fS(this.i,this.B),this.M!=2&&(Uo(),st(17)),_r(this),this.m=2,qo(this)):wv(this,this.T-a)};function qo(a){a.j.I==0||a.K||Gv(a.j,a)}function _r(a){Ld(a);var l=a.O;l&&typeof l.dispose=="function"&&l.dispose(),a.O=null,cv(a.V),a.g&&(l=a.g,a.g=null,l.abort(),l.dispose())}function Vd(a,l){try{var f=a.j;if(f.I!=0&&(f.g==a||jd(f.h,a))){if(!a.L&&jd(f.h,a)&&f.I==3){try{var p=f.Ba.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)oc(f),rc(f);else break e;zd(f),st(18)}}else f.xa=b[1],0<f.xa-f.K&&b[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=$o(d(f.Va,f),6e3));bv(f.h)<=1&&f.ta&&(f.ta=void 0)}else wr(f,11)}else if((a.L||f.g==a)&&oc(f),!v(l))for(b=f.Ba.g.parse(l),l=0;l<b.length;l++){let ye=b[l],$e=ye[0];if(!($e<=f.K))if(f.K=$e,ye=ye[1],f.I==2)if(ye[0]=="c"){f.M=ye[1],f.ba=ye[2];let Qt=ye[3];Qt!=null&&(f.ka=Qt,f.j.info("VER="+f.ka));let Ir=ye[4];Ir!=null&&(f.za=Ir,f.j.info("SVER="+f.za));let $n=ye[5];$n!=null&&typeof $n=="number"&&$n>0&&(p=1.5*$n,f.O=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;let Hn=a.g;if(Hn){let ac=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var T=p.h;T.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(Bd(T,T.h),T.h=null))}if(p.G){let Gd=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gd&&(p.wa=Gd,_e(p.J,p.G,Gd))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),p=f;var O=a;if(p.na=Qv(p,p.L?p.ba:null,p.W),O.L){Cv(p.h,O);var ne=O,Fe=p.O;Fe&&(ne.H=Fe),ne.D&&(Ld(ne),Ja(ne)),p.g=O}else zv(p);f.i.length>0&&ic(f)}else ye[0]!="stop"&&ye[0]!="close"||wr(f,7);else f.I==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?wr(f,7):Hd(f):ye[0]!="noop"&&f.l&&f.l.qa(ye),f.A=0)}}Uo(4)}catch{}}var yS=class{constructor(a,l){this.g=a,this.map=l}};function Iv(a){this.l=a||10,s.PerformanceNavigationTiming?(a=s.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function bv(a){return a.h?1:a.g?a.g.size:0}function jd(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function Bd(a,l){a.g?a.g.add(l):a.h=l}function Cv(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}Iv.prototype.cancel=function(){if(this.i=Tv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Tv(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let f of a.g.values())l=l.concat(f.G);return l}return _(a.i)}var Sv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vS(a,l){if(a){a=a.split("&");for(let f=0;f<a.length;f++){let p=a[f].indexOf("="),b,T=null;p>=0?(b=a[f].substring(0,p),T=a[f].substring(p+1)):b=a[f],l(b,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function jn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let l;a instanceof jn?(this.l=a.l,Go(this,a.j),this.o=a.o,this.g=a.g,Wo(this,a.u),this.h=a.h,Ud(this,Pv(a.i)),this.m=a.m):a&&(l=String(a).match(Sv))?(this.l=!1,Go(this,l[1]||"",!0),this.o=Ko(l[2]||""),this.g=Ko(l[3]||"",!0),Wo(this,l[4]),this.h=Ko(l[5]||"",!0),Ud(this,l[6]||"",!0),this.m=Ko(l[7]||"")):(this.l=!1,this.i=new Yo(null,this.l))}jn.prototype.toString=function(){let a=[];var l=this.j;l&&a.push(Qo(l,Av,!0),":");var f=this.g;return(f||l=="file")&&(a.push("//"),(l=this.o)&&a.push(Qo(l,Av,!0),"@"),a.push(zo(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Qo(f,f.charAt(0)=="/"?wS:ES,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Qo(f,DS)),a.join("")},jn.prototype.resolve=function(a){let l=Kt(this),f=!!a.j;f?Go(l,a.j):f=!!a.o,f?l.o=a.o:f=!!a.g,f?l.g=a.g:f=a.u!=null;var p=a.h;if(f)Wo(l,a.u);else if(f=!!a.h){if(p.charAt(0)!="/")if(this.g&&!this.h)p="/"+p;else{var b=l.h.lastIndexOf("/");b!=-1&&(p=l.h.slice(0,b+1)+p)}if(b=p,b==".."||b==".")p="";else if(b.indexOf("./")!=-1||b.indexOf("/.")!=-1){p=b.lastIndexOf("/",0)==0,b=b.split("/");let T=[];for(let O=0;O<b.length;){let ne=b[O++];ne=="."?p&&O==b.length&&T.push(""):ne==".."?((T.length>1||T.length==1&&T[0]!="")&&T.pop(),p&&O==b.length&&T.push("")):(T.push(ne),p=!0)}p=T.join("/")}else p=b}return f?l.h=p:f=a.i.toString()!=="",f?Ud(l,Pv(a.i)):f=!!a.m,f&&(l.m=a.m),l};function Kt(a){return new jn(a)}function Go(a,l,f){a.j=f?Ko(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function Wo(a,l){if(l){if(l=Number(l),isNaN(l)||l<0)throw Error("Bad port number "+l);a.u=l}else a.u=null}function Ud(a,l,f){l instanceof Yo?(a.i=l,bS(a.i,a.l)):(f||(l=Qo(l,IS)),a.i=new Yo(l,a.l))}function _e(a,l,f){a.i.set(l,f)}function Xa(a){return _e(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ko(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qo(a,l,f){return typeof a=="string"?(a=encodeURI(a).replace(l,_S),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function _S(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Av=/[#\/\?@]/g,ES=/[#\?:]/g,wS=/[#\?]/g,IS=/[#\?@]/g,DS=/#/g;function Yo(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function Er(a){a.g||(a.g=new Map,a.h=0,a.i&&vS(a.i,function(l,f){a.add(decodeURIComponent(l.replace(/\+/g," ")),f)}))}n=Yo.prototype,n.add=function(a,l){Er(this),this.i=null,a=ti(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(l),this.h+=1,this};function Mv(a,l){Er(a),l=ti(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function Rv(a,l){return Er(a),l=ti(a,l),a.g.has(l)}n.forEach=function(a,l){Er(this),this.g.forEach(function(f,p){f.forEach(function(b){a.call(l,b,p,this)},this)},this)};function Nv(a,l){Er(a);let f=[];if(typeof l=="string")Rv(a,l)&&(f=f.concat(a.g.get(ti(a,l))));else for(a=Array.from(a.g.values()),l=0;l<a.length;l++)f=f.concat(a[l]);return f}n.set=function(a,l){return Er(this),this.i=null,a=ti(this,a),Rv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},n.get=function(a,l){return a?(a=Nv(this,a),a.length>0?String(a[0]):l):l};function xv(a,l,f){Mv(a,l),f.length>0&&(a.i=null,a.g.set(ti(a,l),_(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(let p=0;p<l.length;p++){var f=l[p];let b=zo(f);f=Nv(this,f);for(let T=0;T<f.length;T++){let O=b;f[T]!==""&&(O+="="+zo(f[T])),a.push(O)}}return this.i=a.join("&")};function Pv(a){let l=new Yo;return l.i=a.i,a.g&&(l.g=new Map(a.g),l.h=a.h),l}function ti(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function bS(a,l){l&&!a.j&&(Er(a),a.i=null,a.g.forEach(function(f,p){let b=p.toLowerCase();p!=b&&(Mv(this,p),xv(this,b,f))},a)),a.j=l}function CS(a,l){let f=new Ho;if(s.Image){let p=new Image;p.onload=h(Bn,f,"TestLoadImage: loaded",!0,l,p),p.onerror=h(Bn,f,"TestLoadImage: error",!1,l,p),p.onabort=h(Bn,f,"TestLoadImage: abort",!1,l,p),p.ontimeout=h(Bn,f,"TestLoadImage: timeout",!1,l,p),s.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function TS(a,l){let f=new Ho,p=new AbortController,b=setTimeout(()=>{p.abort(),Bn(f,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(T=>{clearTimeout(b),T.ok?Bn(f,"TestPingServer: ok",!0,l):Bn(f,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(b),Bn(f,"TestPingServer: error",!1,l)})}function Bn(a,l,f,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(f)}catch{}}function SS(){this.g=new uS}function ec(a){this.i=a.Sb||null,this.h=a.ab||!1}g(ec,uv),ec.prototype.g=function(){return new tc(this.i,this.h)};function tc(a,l){Je.call(this),this.H=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(tc,Je),n=tc.prototype,n.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=l,this.readyState=1,Jo(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let l={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(l.body=a),(this.H||s).fetch(new Request(this.D,l)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ov(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ov(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.B.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?Zo(this):Jo(this),this.readyState==3&&Ov(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,Zo(this))},n.Na=function(a){this.g&&(this.response=a,Zo(this))},n.ga=function(){this.g&&Zo(this)};function Zo(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Jo(a)}n.setRequestHeader=function(a,l){this.A.append(a,l)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var f=l.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=l.next();return a.join(`\r
`)};function Jo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(tc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function kv(a){let l="";return Wa(a,function(f,p){l+=p,l+=":",l+=f,l+=`\r
`}),l}function $d(a,l,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=kv(f),typeof a=="string"?f!=null&&zo(f):_e(a,l,f))}function be(a){Je.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(be,Je);var AS=/^https?$/i,MS=["POST","PUT"];n=be.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,l,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mv.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(T){Fv(this,T);return}if(a=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)f.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let T of p.keys())f.set(T,p.get(T));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(T=>T.toLowerCase()=="content-type"),b=s.FormData&&a instanceof s.FormData,!(Array.prototype.indexOf.call(MS,l,void 0)>=0)||p||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,O]of f)this.g.setRequestHeader(T,O);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(T){Fv(this,T)}};function Fv(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.o=5,Lv(a),nc(a)}function Lv(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,ot(this,"complete"),ot(this,"abort"),nc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nc(this,!0)),be.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vv(this):this.Xa())},n.Xa=function(){Vv(this)};function Vv(a){if(a.h&&typeof o<"u"){if(a.v&&Un(a)==4)setTimeout(a.Ca.bind(a),0);else if(ot(a,"readystatechange"),Un(a)==4){a.h=!1;try{let T=a.ca();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var f;if(!(f=l)){var p;if(p=T===0){let O=String(a.D).match(Sv)[1]||null;!O&&s.self&&s.self.location&&(O=s.self.location.protocol.slice(0,-1)),p=!AS.test(O?O.toLowerCase():"")}f=p}if(f)ot(a,"complete"),ot(a,"success");else{a.o=6;try{var b=Un(a)>2?a.g.statusText:""}catch{b=""}a.l=b+" ["+a.ca()+"]",Lv(a)}}finally{nc(a)}}}}function nc(a,l){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let f=a.g;a.g=null,l||ot(a,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Un(a){return a.g?a.g.readyState:0}n.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),cS(l)}};function jv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function RS(a){let l={};a=(a.g&&Un(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(v(a[p]))continue;var f=pS(a[p]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let T=l[b]||[];l[b]=T,T.push(f)}rS(l,function(p){return p.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xo(a,l,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||l}function Bv(a){this.za=0,this.i=[],this.j=new Ho,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xo("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xo("baseRetryDelayMs",5e3,a),this.Za=Xo("retryDelaySeedMs",1e4,a),this.Ta=Xo("forwardChannelMaxRetries",2,a),this.va=Xo("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Iv(a&&a.concurrentRequestLimit),this.Ba=new SS,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Bv.prototype,n.ka=8,n.I=1,n.connect=function(a,l,f,p){st(0),this.W=a,this.H=l||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.J=Qv(this,null,this.W),ic(this)};function Hd(a){if(Uv(a),a.I==3){var l=a.V++,f=Kt(a.J);if(_e(f,"SID",a.M),_e(f,"RID",l),_e(f,"TYPE","terminate"),es(a,f),l=new Vn(a,a.j,l),l.M=2,l.A=Xa(Kt(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(l.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=l.A,f=!0),f||(l.g=Yv(l.j,null),l.g.ea(l.A)),l.F=Date.now(),Ja(l)}Kv(a)}function rc(a){a.g&&(qd(a),a.g.cancel(),a.g=null)}function Uv(a){rc(a),a.v&&(s.clearTimeout(a.v),a.v=null),oc(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&s.clearTimeout(a.m),a.m=null)}function ic(a){if(!Dv(a.h)&&!a.m){a.m=!0;var l=a.Ea;ut||y(),Ue||(ut(),Ue=!0),I.add(l,a),a.D=0}}function NS(a,l){return bv(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=l.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=$o(d(a.Ea,a,l),Wv(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let b=new Vn(this,this.j,a),T=this.o;if(this.U&&(T?(T=Jy(T),ev(T,this.U)):T=this.U),this.u!==null||this.R||(b.J=T,T=null),this.S)e:{for(var l=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,l>4096){l=f;break e}if(l===4096||f===this.i.length-1){l=f+1;break e}}l=1e3}else l=1e3;l=Hv(this,b,l),f=Kt(this.J),_e(f,"RID",a),_e(f,"CVER",22),this.G&&_e(f,"X-HTTP-Session-Id",this.G),es(this,f),T&&(this.R?l="headers="+zo(kv(T))+"&"+l:this.u&&$d(f,this.u,T)),Bd(this.h,b),this.Ra&&_e(f,"TYPE","init"),this.S?(_e(f,"$req",l),_e(f,"SID","null"),b.U=!0,Fd(b,f,null)):Fd(b,f,l),this.I=2}}else this.I==3&&(a?$v(this,a):this.i.length==0||Dv(this.h)||$v(this))};function $v(a,l){var f;l?f=l.l:f=a.V++;let p=Kt(a.J);_e(p,"SID",a.M),_e(p,"RID",f),_e(p,"AID",a.K),es(a,p),a.u&&a.o&&$d(p,a.u,a.o),f=new Vn(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),l&&(a.i=l.G.concat(a.i)),l=Hv(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Bd(a.h,f),Fd(f,p,l)}function es(a,l){a.H&&Wa(a.H,function(f,p){_e(l,p,f)}),a.l&&Wa({},function(f,p){_e(l,p,f)})}function Hv(a,l,f){f=Math.min(a.i.length,f);let p=a.l?d(a.l.Ka,a.l,a):null;e:{var b=a.i;let ne=-1;for(;;){let Fe=["count="+f];ne==-1?f>0?(ne=b[0].g,Fe.push("ofs="+ne)):ne=0:Fe.push("ofs="+ne);let ye=!0;for(let $e=0;$e<f;$e++){var T=b[$e].g;let Qt=b[$e].map;if(T-=ne,T<0)ne=Math.max(0,b[$e].g-100),ye=!1;else try{T="req"+T+"_"||"";try{var O=Qt instanceof Map?Qt:Object.entries(Qt);for(let[Ir,$n]of O){let Hn=$n;c($n)&&(Hn=Nd($n)),Fe.push(T+Ir+"="+encodeURIComponent(Hn))}}catch(Ir){throw Fe.push(T+"type="+encodeURIComponent("_badmap")),Ir}}catch{p&&p(Qt)}}if(ye){O=Fe.join("&");break e}}O=void 0}return a=a.i.splice(0,f),l.G=a,O}function zv(a){if(!a.g&&!a.v){a.Y=1;var l=a.Da;ut||y(),Ue||(ut(),Ue=!0),I.add(l,a),a.A=0}}function zd(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=$o(d(a.Da,a),Wv(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,qv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=$o(d(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),rc(this),qv(this))};function qd(a){a.B!=null&&(s.clearTimeout(a.B),a.B=null)}function qv(a){a.g=new Vn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var l=Kt(a.na);_e(l,"RID","rpc"),_e(l,"SID",a.M),_e(l,"AID",a.K),_e(l,"CI",a.F?"0":"1"),!a.F&&a.ia&&_e(l,"TO",a.ia),_e(l,"TYPE","xmlhttp"),es(a,l),a.u&&a.o&&$d(l,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=Xa(Kt(l)),f.u=null,f.R=!0,_v(f,a)}n.Va=function(){this.C!=null&&(this.C=null,rc(this),zd(this),st(19))};function oc(a){a.C!=null&&(s.clearTimeout(a.C),a.C=null)}function Gv(a,l){var f=null;if(a.g==l){oc(a),qd(a),a.g=null;var p=2}else if(jd(a.h,l))f=l.G,Cv(a.h,l),p=1;else return;if(a.I!=0){if(l.o)if(p==1){f=l.u?l.u.length:0,l=Date.now()-l.F;var b=a.D;p=Ya(),ot(p,new pv(p,f)),ic(a)}else zv(a);else if(b=l.m,b==3||b==0&&l.X>0||!(p==1&&NS(a,l)||p==2&&zd(a)))switch(f&&f.length>0&&(l=a.h,l.i=l.i.concat(f)),b){case 1:wr(a,5);break;case 4:wr(a,10);break;case 3:wr(a,6);break;default:wr(a,2)}}}function Wv(a,l){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*l}function wr(a,l){if(a.j.info("Error code "+l),l==2){var f=d(a.bb,a),p=a.Ua;let b=!p;p=new jn(p||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Go(p,"https"),Xa(p),b?CS(p.toString(),f):TS(p.toString(),f)}else st(2);a.I=0,a.l&&a.l.pa(l),Kv(a),Uv(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Kv(a){if(a.I=0,a.ja=[],a.l){let l=Tv(a.h);(l.length!=0||a.i.length!=0)&&(S(a.ja,l),S(a.ja,a.i),a.h.i.length=0,_(a.i),a.i.length=0),a.l.oa()}}function Qv(a,l,f){var p=f instanceof jn?Kt(f):new jn(f);if(p.g!="")l&&(p.g=l+"."+p.g),Wo(p,p.u);else{var b=s.location;p=b.protocol,l=l?l+"."+b.hostname:b.hostname,b=+b.port;let T=new jn(null);p&&Go(T,p),l&&(T.g=l),b&&Wo(T,b),f&&(T.h=f),p=T}return f=a.G,l=a.wa,f&&l&&_e(p,f,l),_e(p,"VER",a.ka),es(a,p),p}function Yv(a,l,f){if(l&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Aa&&!a.ma?new be(new ec({ab:f})):new be(a.ma),l.Fa(a.L),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zv(){}n=Zv.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function sc(){}sc.prototype.g=function(a,l){return new _t(a,l)};function _t(a,l){Je.call(this),this.g=new Bv(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.sa&&(a?a["X-WebChannel-Client-Profile"]=l.sa:a={"X-WebChannel-Client-Profile":l.sa}),this.g.U=a,(a=l&&l.Qb)&&!v(a)&&(this.g.u=a),this.A=l&&l.supportsCrossDomainXhr||!1,this.v=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!v(l)&&(this.g.G=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new ni(this)}g(_t,Je),_t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){Hd(this.g)},_t.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=Nd(a),a=f);l.i.push(new yS(l.Ya++,a)),l.I==3&&ic(l)},_t.prototype.N=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,_t.Z.N.call(this)};function Jv(a){xd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let f in l){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}g(Jv,xd);function Xv(){Pd.call(this),this.status=1}g(Xv,Pd);function ni(a){this.g=a}g(ni,Zv),ni.prototype.ra=function(){ot(this.g,"a")},ni.prototype.qa=function(a){ot(this.g,new Jv(a))},ni.prototype.pa=function(a){ot(this.g,new Xv)},ni.prototype.oa=function(){ot(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,tm=Mn.createWebChannelTransport=function(){return new sc},em=Mn.getStatEventTarget=function(){return Ya()},Xg=Mn.Event=vr,Ol=Mn.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Ia=Mn.ErrorCode=Za,gv.COMPLETE="complete",Jg=Mn.EventType=gv,lv.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",Je.prototype.listen=Je.prototype.J,so=Mn.WebChannel=lv,BO=Mn.FetchXmlHttpFactory=ec,be.prototype.listenOnce=be.prototype.K,be.prototype.getLastError=be.prototype.Ha,be.prototype.getLastErrorCode=be.prototype.ya,be.prototype.getStatus=be.prototype.ca,be.prototype.getResponseJson=be.prototype.La,be.prototype.getResponseText=be.prototype.la,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Fa,Zg=Mn.XhrIo=be}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});var tC="@firebase/firestore",nC="4.9.2";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var Fo="12.3.0";var Jr=new oo("@firebase/firestore");function ao(){return Jr.logLevel}function F(n,...e){if(Jr.logLevel<=ce.DEBUG){let t=e.map(Vy);Jr.debug(`Firestore (${Fo}): ${n}`,...t)}}function Pn(n,...e){if(Jr.logLevel<=ce.ERROR){let t=e.map(Vy);Jr.error(`Firestore (${Fo}): ${n}`,...t)}}function Do(n,...e){if(Jr.logLevel<=ce.WARN){let t=e.map(Vy);Jr.warn(`Firestore (${Fo}): ${n}`,...t)}}function Vy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function W(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,HC(n,r,t)}function HC(n,e,t){let r=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Pn(r),new Error(r)}function De(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||HC(e,i,r)}function le(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Bl=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qe.UNAUTHENTICATED))}shutdown(){}},um=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},lm=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>k(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new Bl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new qe(e)}},dm=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},fm=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new dm(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ul=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hm=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){De(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ul(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ul(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UO(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var $l=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=UO(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function se(n,e){return n<e?-1:n>e?1:0}function pm(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return nm(i)===nm(o)?se(i,o):nm(i)?1:-1}return se(n.length,e.length)}var $O=55296,HO=57343;function nm(n){let e=n.charCodeAt(0);return e>=$O&&e<=HO}function bo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var rC="__name__",Hl=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&W(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&W(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return An.fromString(e.substring(4,e.length-2))}},Se=class n extends Hl{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},zO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends Hl{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return zO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rC}static keyField(){return new n([rC])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new U(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new U(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var z=class n{constructor(e){this.path=e}static fromPath(e){return new n(Se.fromString(e))}static fromName(e){return new n(Se.fromString(e).popFirst(5))}static empty(){return new n(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Se(e.slice()))}};function qO(n,e,t){if(!t)throw new U(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GO(n,e,t,r){if(e===!0&&r===!0)throw new U(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iC(n){if(z.isDocumentKey(n))throw new U(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WO(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function KO(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W(12329,{type:typeof n})}function gm(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=KO(n);throw new U(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ke(n,e){let t={typeString:n};return e&&(t.value=e),t}function $a(n,e){if(!WO(n))throw new U(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new U(P.INVALID_ARGUMENT,t);return!0}var oC=-62135596800,sC=1e6,ct=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sC);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oC)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sC}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($a(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-oC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:ke("string",ct._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};var Y=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ma=-1,mm=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};mm.UNKNOWN_ID=-1;function QO(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Xr(i,z.empty(),e)}function YO(n){return new Xr(n.readTime,n.key,Ma)}var Xr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Y.min(),z.empty(),Ma)}static max(){return new n(Y.max(),z.empty(),Ma)}};function ZO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=z.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ym=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function md(n){return k(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==JO)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var A=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(h=>{s[d]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function XO(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(n){return n.name==="IndexedDbTransactionError"}var jy=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),ek=-1;function yd(n){return n==null}function zl(n){return n===0&&1/n==-1/0}var zC="";function tk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aC(e)),e=nk(n.get(t),e);return aC(e)}function nk(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case zC:t+="";break;default:t+=o}}return t}function aC(n){return n+zC+""}var rk="remoteDocuments",qC="owner";var GC="mutationQueues";var WC="mutations";var KC="documentMutations",ik="remoteDocumentsV14";var QC="remoteDocumentGlobal";var YC="targets";var ZC="targetDocuments";var JC="targetGlobal",XC="collectionParents";var eT="clientMetadata";var tT="bundles";var nT="namedQueries";var ok="indexConfiguration";var sk="indexState";var ak="indexEntries";var rT="documentOverlays";var ck="globals";var uk=[GC,WC,KC,rk,YC,qC,JC,ZC,eT,QC,XC,tT,nT],M7=[...uk,rT],lk=[GC,WC,KC,ik,YC,qC,JC,ZC,eT,QC,XC,tT,nT,rT],dk=lk,fk=[...dk,ok,sk,ak];var R7=[...fk,ck];function cC(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ae=class n{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}},fo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ge=class n{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ql(this.data.getIterator())}getIteratorFrom(e){return new ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ql=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qr=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ge(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Gl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gl("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function On(n){if(De(!!n,39018),typeof n=="string"){let e=0,t=pk.exec(n);if(De(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(n.seconds),nanos:Ie(n.nanos)}}function Ie(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kn(n){return typeof n=="string"?rt.fromBase64String(n):rt.fromUint8Array(n)}var iT="server_timestamp",oT="__type__",sT="__previous_value__",aT="__local_write_time__";function By(n){return(n?.mapValue?.fields||{})[oT]?.stringValue===iT}function vd(n){let e=n.mapValue.fields[sT];return By(e)?vd(e):e}function Ra(n){let e=On(n.mapValue.fields[aT].timestampValue);return new ct(e.seconds,e.nanos)}var vm=class{constructor(e,t,r,i,o,s,c,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}},Wl="(default)",Kl=class n{constructor(e,t){this.projectId=e,this.database=t||Wl}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Wl}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var cT="__type__",uT="__max__",kl={mapValue:{fields:{__type__:{stringValue:uT}}}},lT="__vector__",Na="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:fT(n)?9007199254740991:dT(n)?10:11:W(28295,{value:n})}function un(n,e){if(n===e)return!0;let t=gr(n);if(t!==gr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ra(n).isEqual(Ra(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=On(i.timestampValue),c=On(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return kn(i.bytesValue).isEqual(kn(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ie(i.geoPointValue.latitude)===Ie(o.geoPointValue.latitude)&&Ie(i.geoPointValue.longitude)===Ie(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ie(i.integerValue)===Ie(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ie(i.doubleValue),c=Ie(o.doubleValue);return s===c?zl(s)===zl(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return bo(n.arrayValue.values||[],e.arrayValue.values||[],un);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(cC(s)!==cC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!un(s[u],c[u])))return!1;return!0})(n,e);default:return W(52216,{left:n})}}function xa(n,e){return(n.values||[]).find(t=>un(t,e))!==void 0}function Co(n,e){if(n===e)return 0;let t=gr(n),r=gr(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ie(o.integerValue||o.doubleValue),u=Ie(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return uC(n.timestampValue,e.timestampValue);case 4:return uC(Ra(n),Ra(e));case 5:return pm(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=kn(o),u=kn(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let d=0;d<c.length&&d<u.length;d++){let h=se(c[d],u[d]);if(h!==0)return h}return se(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=se(Ie(o.latitude),Ie(s.latitude));return c!==0?c:se(Ie(o.longitude),Ie(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lC(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let c=o.fields||{},u=s.fields||{},d=c[Na]?.arrayValue,h=u[Na]?.arrayValue,g=se(d?.values?.length||0,h?.values?.length||0);return g!==0?g:lC(d,h)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===kl.mapValue&&s===kl.mapValue)return 0;if(o===kl.mapValue)return 1;if(s===kl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),d=s.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let g=0;g<u.length&&g<h.length;++g){let m=pm(u[g],h[g]);if(m!==0)return m;let _=Co(c[u[g]],d[h[g]]);if(_!==0)return _}return se(u.length,h.length)})(n.mapValue,e.mapValue);default:throw W(23264,{he:t})}}function uC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=On(n),r=On(e),i=se(t.seconds,r.seconds);return i!==0?i:se(t.nanos,r.nanos)}function lC(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Co(t[i],r[i]);if(o)return o}return se(t.length,r.length)}function To(n){return _m(n)}function _m(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=On(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return kn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return z.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=_m(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${_m(t.fields[s])}`;return i+"}"})(n.mapValue):W(61005,{value:n})}function Vl(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=vd(n);return e?16+Vl(e):16;case 5:return 2*n.stringValue.length;case 6:return kn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Vl(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ha(r.fields,(o,s)=>{i+=o.length+Vl(s)}),i})(n.mapValue);default:throw W(13486,{value:n})}}function Em(n){return!!n&&"integerValue"in n}function Uy(n){return!!n&&"arrayValue"in n}function dC(n){return!!n&&"nullValue"in n}function fC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rm(n){return!!n&&"mapValue"in n}function dT(n){return(n?.mapValue?.fields||{})[cT]?.stringValue===lT}function ba(n){if(n.geoPointValue)return{geoPointValue:R({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:R({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ba(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ba(n.arrayValue.values[t]);return e}return R({},n)}function fT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uT}var x7={mapValue:{fields:{[cT]:{stringValue:lT},[Na]:{arrayValue:{}}}}};var Rn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!rm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ba(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=ba(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ha(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ba(this.value))}};var Wt=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Y.min(),Y.min(),Y.min(),Rn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Y.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Y.min(),Y.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Y.min(),Y.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var So=class{constructor(e,t){this.position=e,this.inclusive=t}};function hC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),t.key):r=Co(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!un(n.position[t],e.position[t]))return!1;return!0}var Ao=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ql=class{},Be=class n extends Ql{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Im(e,t,r):t==="array-contains"?new Cm(e,r):t==="in"?new Tm(e,r):t==="not-in"?new Sm(e,r):t==="array-contains-any"?new Am(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Dm(e,r):new bm(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Co(t,this.value)):t!==null&&gr(this.value)===gr(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ln=class n extends Ql{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return hT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function hT(n){return n.op==="and"}function pT(n){return mk(n)&&hT(n)}function mk(n){for(let e of n.filters)if(e instanceof ln)return!1;return!0}function wm(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+To(n.value);if(pT(n))return n.filters.map(e=>wm(e)).join(",");{let e=n.filters.map(t=>wm(t)).join(",");return`${n.op}(${e})`}}function gT(n,e){return n instanceof Be?(function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)})(n,e):n instanceof ln?(function(r,i){return i instanceof ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&gT(s,i.filters[c]),!0):!1})(n,e):void W(19439)}function mT(n){return n instanceof Be?(function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`})(n):n instanceof ln?(function(t){return t.op.toString()+" {"+t.getFilters().map(mT).join(" ,")+"}"})(n):"Filter"}var Im=class extends Be{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){let t=z.comparator(e.key,this.key);return this.matchesComparison(t)}},Dm=class extends Be{constructor(e,t){super(e,"in",t),this.keys=yT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},bm=class extends Be{constructor(e,t){super(e,"not-in",t),this.keys=yT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function yT(n,e){return(e.arrayValue?.values||[]).map(t=>z.fromName(t.referenceValue))}var Cm=class extends Be{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Uy(t)&&xa(t.arrayValue,this.value)}},Tm=class extends Be{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xa(this.value.arrayValue,t)}},Sm=class extends Be{constructor(e,t){super(e,"not-in",t)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!xa(this.value.arrayValue,t)}},Am=class extends Be{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Uy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xa(this.value.arrayValue,r))}};var Mm=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Te=null}};function gC(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Mm(n,e,t,r,i,o,s)}function $y(n){let e=le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>To(r)).join(",")),e.Te=t}return e.Te}function Hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pC(n.startAt,e.startAt)&&pC(n.endAt,e.endAt)}function Rm(n){return z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Mo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function yk(n,e,t,r,i,o,s,c){return new Mo(n,e,t,r,i,o,s,c)}function vT(n){return new Mo(n)}function mC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vk(n){return n.collectionGroup!==null}function Ca(n){let e=le(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ge(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Ao(o,r))}),t.has(Gt.keyField().canonicalString())||e.Ie.push(new Ao(Gt.keyField(),r))}return e.Ie}function cn(n){let e=le(n);return e.Ee||(e.Ee=_k(e,Ca(n))),e.Ee}function _k(n,e){if(n.limitType==="F")return gC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ao(i.field,o)});let t=n.endAt?new So(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new So(n.startAt.position,n.startAt.inclusive):null;return gC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Nm(n,e,t){return new Mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _d(n,e){return Hy(cn(n),cn(e))&&n.limitType===e.limitType}function _T(n){return`${$y(cn(n))}|lt:${n.limitType}`}function co(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mT(i)).join(", ")}]`),yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>To(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>To(i)).join(",")),`Target(${r})`})(cn(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Ca(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let d=hC(s,c,u);return s.inclusive?d<=0:d<0})(r.startAt,Ca(r),i)||r.endAt&&!(function(s,c,u){let d=hC(s,c,u);return s.inclusive?d>=0:d>0})(r.endAt,Ca(r),i))})(n,e)}function Ek(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ET(n){return(e,t)=>{let r=!1;for(let i of Ca(n)){let o=wk(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wk(n,e,t){let r=n.field.isKeyField()?z.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),d=c.data.field(o);return u!==null&&d!==null?Co(u,d):W(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:n.dir})}}var Fn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return hk(this.inner)}size(){return this.innerSize}};var Ik=new Ae(z.comparator);function mr(){return Ik}var wT=new Ae(z.comparator);function Da(...n){let e=wT;for(let t of n)e=e.insert(t.key,t);return e}function Dk(n){let e=wT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yr(){return Ta()}function IT(){return Ta()}function Ta(){return new Fn(n=>n.toString(),(n,e)=>n.isEqual(e))}var P7=new Ae(z.comparator),bk=new Ge(z.comparator);function de(...n){let e=bk;for(let t of n)e=e.add(t);return e}var Ck=new Ge(se);function Tk(){return Ck}function Sk(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function Ak(n){return{integerValue:""+n}}var Ro=class{constructor(){this._=void 0}};function Mk(n,e,t){return n instanceof Pa?(function(i,o){let s={fields:{[oT]:{stringValue:iT},[aT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&By(o)&&(o=vd(o)),o&&(s.fields[sT]=o),{mapValue:s}})(t,e):n instanceof No?DT(n,e):n instanceof xo?bT(n,e):(function(i,o){let s=Nk(i,o),c=yC(s)+yC(i.Ae);return Em(s)&&Em(i.Ae)?Ak(c):Sk(i.serializer,c)})(n,e)}function Rk(n,e,t){return n instanceof No?DT(n,e):n instanceof xo?bT(n,e):t}function Nk(n,e){return n instanceof Oa?(function(r){return Em(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Pa=class extends Ro{},No=class extends Ro{constructor(e){super(),this.elements=e}};function DT(n,e){let t=CT(e);for(let r of n.elements)t.some(i=>un(i,r))||t.push(r);return{arrayValue:{values:t}}}var xo=class extends Ro{constructor(e){super(),this.elements=e}};function bT(n,e){let t=CT(e);for(let r of n.elements)t=t.filter(i=>!un(i,r));return{arrayValue:{values:t}}}var Oa=class extends Ro{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function yC(n){return Ie(n.integerValue||n.doubleValue)}function CT(n){return Uy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xk(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof No&&i instanceof No||r instanceof xo&&i instanceof xo?bo(r.elements,i.elements,un):r instanceof Oa&&i instanceof Oa?un(r.Ae,i.Ae):r instanceof Pa&&i instanceof Pa})(n.transform,e.transform)}var Sa=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ka=class{};function TT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xm(n.key,Sa.none()):new Fa(n.key,n.data,Sa.none());{let t=n.data,r=Rn.empty(),i=new Ge(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Po(n.key,r,new Qr(i.toArray()),Sa.none())}}function Pk(n,e,t){n instanceof Fa?(function(i,o,s){let c=i.value.clone(),u=_C(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Po?(function(i,o,s){if(!jl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=_C(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ST(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Aa(n,e,t,r){return n instanceof Fa?(function(o,s,c,u){if(!jl(o.precondition,s))return c;let d=o.value.clone(),h=EC(o.fieldTransforms,u,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Po?(function(o,s,c,u){if(!jl(o.precondition,s))return c;let d=EC(o.fieldTransforms,u,s),h=s.data;return h.setAll(ST(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,e,t,r):(function(o,s,c){return jl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function vC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bo(r,i,(o,s)=>xk(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Fa=class extends ka{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Po=class extends ka{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ST(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function _C(n,e,t){let r=new Map;De(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Rk(s,c,t[i]))}return r}function EC(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Mk(o,s,e))}return r}var xm=class extends ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Pm=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Pk(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Aa(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Aa(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=IT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=TT(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,r)=>vC(t,r))&&bo(this.baseMutations,e.baseMutations,(t,r)=>vC(t,r))}};var Om=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var km=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Pe,ue;function AT(n){if(n===void 0)return Pn("GRPC error has no .code"),P.UNKNOWN;switch(n){case Pe.OK:return P.OK;case Pe.CANCELLED:return P.CANCELLED;case Pe.UNKNOWN:return P.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return P.INTERNAL;case Pe.UNAVAILABLE:return P.UNAVAILABLE;case Pe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Pe.NOT_FOUND:return P.NOT_FOUND;case Pe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Pe.ABORTED:return P.ABORTED;case Pe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Pe.DATA_LOSS:return P.DATA_LOSS;default:return W(39323,{code:n})}}(ue=Pe||(Pe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var Ok=null;function kk(){return new TextEncoder}var Fk=new An([4294967295,4294967295],0);function wC(n){let e=kk().encode(n),t=new Yg;return t.update(e),new Uint8Array(t.digest())}function IC(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new An([t,r],0),new An([i,o],0)]}var Fm=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Zr(`Invalid padding: ${t}`);if(r<0)throw new Zr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zr(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Zr(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=An.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(An.fromNumber(r)));return i.compare(Fk)===1&&(i=new An([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=wC(e),[r,i]=IC(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.ge===0)return;let t=wC(e),[r,i]=IC(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Zr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yl=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,La.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Y.min(),i,new Ae(se),mr(),de())}},La=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,de(),de(),de())}};var po=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},Zl=class{constructor(e,t){this.targetId=e,this.Ce=t}},Jl=class{constructor(e,t,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Xl=class{constructor(){this.ve=0,this.Fe=DC(),this.Me=rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),t=de(),r=de();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new La(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=DC()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,De(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Lm=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=Fl(),this.He=Fl(),this.Ye=new Ae(se)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(Rm(o))if(r===0){let s=new z(o.path);this.et(t,s,Wt.newNoDocument(s,Y.min()))}else De(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let c=this.ut(e),u=c?this.ct(c,e,s):1;if(u!==0){this.it(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}Ok?.lt((function(h,g,m,_,S){let N={localCacheCount:h,existenceFilterCount:g.count,databaseId:m.database,projectId:m.projectId},M=g.unchangedNames;return M&&(N.bloomFilter={applied:S===0,hashCount:M?.hashCount??0,bitmapLength:M?.bits?.bitmap?.length??0,padding:M?.bits?.padding??0,mightContain:L=>_?.mightContain(L)??!1}),N})(s,e.Ce,this.Ge.ht(),c,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=kn(r).toUint8Array()}catch(u){if(u instanceof Gl)return Do("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Fm(s,i,o)}catch(u){return Do(u instanceof Zr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let c=this.ot(s);if(c){if(o.current&&Rm(c.target)){let u=new z(c.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Wt.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=de();this.He.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Yl(e,t,this.Ye,this.je,r);return this.je=mr(),this.Je=Fl(),this.He=Fl(),this.Ye=new Ae(se),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Xl,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ge(se),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ge(se),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xl),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Fl(){return new Ae(z.comparator)}function DC(){return new Ae(z.comparator)}var Lk={asc:"ASCENDING",desc:"DESCENDING"},Vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jk={and:"AND",or:"OR"},Vm=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function jm(n,e){return n.useProto3Json||yd(e)?e:{value:e}}function Bk(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function go(n){return De(!!n,49232),Y.fromTimestamp((function(t){let r=On(t);return new ct(r.seconds,r.nanos)})(n))}function $k(n,e){return Bm(n,e).canonicalString()}function Bm(n,e){let t=(function(i){return new Se(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function MT(n){let e=Se.fromString(n);return De(OT(e),10190,{key:e.toString()}),e}function im(n,e){let t=MT(e);if(t.get(1)!==n.databaseId.projectId)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(NT(t))}function RT(n,e){return $k(n.databaseId,e)}function Hk(n){let e=MT(n);return e.length===4?Se.emptyPath():NT(e)}function bC(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NT(n){return De(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function zk(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:W(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(De(h===void 0||typeof h=="string",58123),rt.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),rt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(d){let h=d.code===void 0?P.UNKNOWN:AT(d.code);return new U(h,d.message||"")})(s);t=new Jl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=im(n,r.document.name),o=go(r.document.updateTime),s=r.document.createTime?go(r.document.createTime):Y.min(),c=new Rn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,o,s,c),d=r.targetIds||[],h=r.removedTargetIds||[];t=new po(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=im(n,r.document),o=r.readTime?go(r.readTime):Y.min(),s=Wt.newNoDocument(i,o),c=r.removedTargetIds||[];t=new po([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=im(n,r.document),o=r.removedTargetIds||[];t=new po([],o,i,null)}else{if(!("filter"in e))return W(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new km(i,o),c=r.targetId;t=new Zl(c,s)}}return t}function qk(n,e){return{documents:[RT(n,e.path)]}}function Gk(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=RT(n,i);let o=(function(d){if(d.length!==0)return PT(ln.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(d){if(d.length!==0)return d.map(h=>(function(m){return{field:uo(m.field),direction:Qk(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=jm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function Wk(n){let e=Hk(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(g){let m=xT(g);return m instanceof ln&&pT(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map(m=>(function(S){return new Ao(lo(S.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(g){let m;return m=typeof g=="object"?g.value:g,yd(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(g){let m=!!g.before,_=g.values||[];return new So(_,m)})(t.startAt));let d=null;return t.endAt&&(d=(function(g){let m=!g.before,_=g.values||[];return new So(_,m)})(t.endAt)),yk(e,i,s,o,c,"F",u,d)}function Kk(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=lo(t.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=lo(t.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=lo(t.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=lo(t.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Be.create(lo(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ln.create(t.compositeFilter.filters.map(r=>xT(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(t.compositeFilter.op))})(n):W(30097,{filter:n})}function Qk(n){return Lk[n]}function Yk(n){return Vk[n]}function Zk(n){return jk[n]}function uo(n){return{fieldPath:n.canonicalString()}}function lo(n){return Gt.fromServerFormat(n.fieldPath)}function PT(n){return n instanceof Be?(function(t){if(t.op==="=="){if(fC(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(dC(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fC(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(dC(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:Yk(t.op),value:t.value}}})(n):n instanceof ln?(function(t){let r=t.getFilters().map(i=>PT(i));return r.length===1?r[0]:{compositeFilter:{op:Zk(t.op),filters:r}}})(n):W(54877,{filter:n})}function OT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Va=class n{constructor(e,t,r,i,o=Y.min(),s=Y.min(),c=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Um=class{constructor(e){this.yt=e}};function Jk(n){let e=Wk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nm(e,e.limit,"L"):e}var ed=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ie(e.integerValue));else if("doubleValue"in e){let r=Ie(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),zl(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=On(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(kn(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?fT(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):dT(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):W(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=Na,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ie(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),z.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};ed.Kt=new ed;var $m=class{constructor(){this.Cn=new Hm}addToCollectionParentIndex(e,t){return this.Cn.add(t),A.resolve()}getCollectionParents(e,t){return A.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return A.resolve()}deleteFieldIndex(e,t){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,t){return A.resolve()}getDocumentsMatchingTarget(e,t){return A.resolve(null)}getIndexType(e,t){return A.resolve(0)}getFieldIndexes(e,t){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,t){return A.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return A.resolve(Xr.min())}updateCollectionGroup(e,t,r){return A.resolve()}updateIndexEntries(e,t){return A.resolve()}},Hm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ge(Se.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Se.comparator)).toArray()}};var O7=new Uint8Array(0);var CC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040,Lt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(kT,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);var ja=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var TC="LruGarbageCollector",Xk=1048576;function SC([n,e],[t,r]){let i=se(n,t);return i===0?se(e,r):i}var zm=class{constructor(e){this.Ir=e,this.buffer=new Ge(SC),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();SC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},qm=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){F(TC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>k(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?F(TC,"Ignoring IndexedDB error during garbage collection: ",t):yield md(t)}yield this.Vr(3e5)}))}},Gm=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return A.resolve(jy.ce);let r=new zm(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(CC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CC):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,c,u,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),ao()<=ce.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function eF(n,e){return new Gm(n,e)}var Wm=class{constructor(){this.changes=new Fn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?A.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Km=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Qm=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Aa(r.mutation,i,Qr.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){let i=Yr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Da();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Yr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=mr(),s=Ta(),c=(function(){return Ta()})();return t.forEach((u,d)=>{let h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Po)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),Aa(h.mutation,d,h.mutation.getFieldMask(),ct.now())):s.set(d.key,Qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,h)=>s.set(d,h)),t.forEach((d,h)=>c.set(d,new Km(h,s.get(d)??null))),c))}recalculateAndSaveOverlays(e,t){let r=Ta(),i=new Ae((s,c)=>s-c),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let h=r.get(u)||Qr.empty();h=c.applyToLocalView(d,h),r.set(u,h);let g=(i.get(c.batchId)||de()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,h=u.value,g=IT();h.forEach(m=>{if(!o.has(m)){let _=TT(t.get(m),r.get(m));_!==null&&g.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return A.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):A.resolve(Yr()),c=Ma,u=o;return s.next(d=>A.forEach(d,(h,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(h)?A.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,de())).next(h=>({batchId:c,changes:Dk(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=Da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Da();return this.indexManager.getCollectionParents(e,o).next(c=>A.forEach(c,u=>{let d=(function(g,m){return new Mo(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,Wt.newInvalidDocument(h)))});let c=Da();return s.forEach((u,d)=>{let h=o.get(u);h!==void 0&&Aa(h.mutation,d,Qr.empty(),ct.now()),Ed(t,d)&&(c=c.insert(u,d))}),c})}};var Ym=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return A.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:go(i.createTime)}})(t)),A.resolve()}getNamedQuery(e,t){return A.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:Jk(i.bundledQuery),readTime:go(i.readTime)}})(t)),A.resolve()}};var Zm=class{constructor(){this.overlays=new Ae(z.comparator),this.qr=new Map}getOverlay(e,t){return A.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Yr();return A.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),A.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),A.resolve()}getOverlaysForCollection(e,t,r){let i=Yr(),o=t.length+1,s=new z(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return A.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ae((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=Yr(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let c=Yr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>c.set(d,h)),!(c.size()>=i)););return A.resolve(c)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Om(t,r));let o=this.qr.get(t);o===void 0&&(o=de(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var Jm=class{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return A.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,A.resolve()}};var Ba=class{constructor(){this.Qr=new Ge(Oe.$r),this.Ur=new Ge(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new Oe(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Oe(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new z(new Se([])),r=new Oe(t,e),i=new Oe(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new z(new Se([])),r=new Oe(t,e),i=new Oe(t,e+1),o=de();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Oe(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return z.comparator(e.key,t.key)||se(e.Yr,t.Yr)}static Kr(e,t){return se(e.Yr,t.Yr)||z.comparator(e.key,t.key)}};var Xm=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Oe.$r)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Pm(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Zr=this.Zr.add(new Oe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,t){return A.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?ek:this.tr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Oe(t,0),i=new Oe(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let c=this.Xr(s.Yr);o.push(c)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ge(se);return t.forEach(i=>{let o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],c=>{r=r.add(c.Yr)})}),A.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Oe(new z(o),0),c=new Ge(se);return this.Zr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Yr)),!0)},s),A.resolve(this.ti(c))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return A.forEach(t.mutations,i=>{let o=new Oe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new Oe(t,0),i=this.Zr.firstAfterOrEqual(r);return A.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ey=class{constructor(e){this.ri=e,this.docs=(function(){return new Ae(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return A.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=mr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=mr(),s=t.path,c=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:h}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||ZO(YO(h),r)<=0||(i.has(h.key)||Ed(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,t,r,i){W(9500)}ii(e,t){return A.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ty(this)}getSize(e){return A.resolve(this.size)}},ty=class extends Wm{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),A.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var ny=class{constructor(e){this.persistence=e,this.si=new Fn(t=>$y(t),Hy),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.oi=0,this._i=new Ba,this.targetCount=0,this.ai=ja.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),A.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new ja(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,A.resolve()}updateTargetData(e,t){return this.Pr(t),A.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),A.waitFor(o).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return A.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),A.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),A.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return A.resolve(r)}containsKey(e,t){return A.resolve(this._i.containsKey(t))}};var td=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new jy(0),this.li=!1,this.li=!0,this.hi=new Jm,this.referenceDelegate=e(this),this.Pi=new ny(this),this.indexManager=new $m,this.remoteDocumentCache=(function(i){return new ey(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new Um(t),this.Ii=new Ym(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Xm(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new ry(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return A.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},ry=class extends ym{constructor(e){super(),this.currentSequenceNumber=e}},iy=class n{constructor(e){this.persistence=e,this.Ri=new Ba,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw W(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),A.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),A.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.fi,r=>{let i=z.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,Y.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return A.or([()=>A.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},nd=class n{constructor(e,t){this.persistence=e,this.pi=new Fn(r=>tk(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=eF(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return A.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return A.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?A.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(c=>{c||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),A.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),A.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),A.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),A.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vl(e.data.value)),t}br(e,t,r){return A.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return A.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var oy=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=de(),i=de();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var sy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ay=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xb()?8:XO(Nb())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sy;return this.Ss(e,t,s).next(c=>{if(o.result=c,this.Vs)return this.bs(e,t,s,c.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(ao()<=ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),A.resolve()):(ao()<=ce.DEBUG&&F("QueryEngine","Query:",co(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ao()<=ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(t))):A.resolve())}ys(e,t){if(mC(t))return A.resolve(null);let r=cn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Nm(t,null,"F"),r=cn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.ps.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.Ds(t,c);return this.Cs(t,d,s,u.readTime)?this.ys(e,Nm(t,null,"F")):this.vs(e,d,t,u)}))})))}ws(e,t,r,i){return mC(t)||i.isEqual(Y.min())?A.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?A.resolve(null):(ao()<=ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),co(t)),this.vs(e,s,t,QO(i,Ma)).next(c=>c))})}Ds(e,t){let r=new Ge(ET(e));return t.forEach((i,o)=>{Ed(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ao()<=ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",co(t)),this.ps.getDocumentsMatchingQuery(e,t,Xr.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zy="LocalStore",tF=3e8,cy=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ae(se),this.xs=new Fn(o=>$y(o),Hy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qm(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function nF(n,e,t,r){return new cy(n,e,t,r)}function FT(n,e){return k(this,null,function*(){let t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=de();for(let d of i){s.push(d.batchId);for(let h of d.mutations)u=u.add(h.key)}for(let d of o){c.push(d.batchId);for(let h of d.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:s,addedBatchIds:c}))})})})}function LT(n){let e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function rF(n,e){let t=le(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let c=[];e.targetChanges.forEach((h,g)=>{let m=i.get(g);if(!m)return;c.push(t.Pi.removeMatchingKeys(o,h.removedDocuments,g).next(()=>t.Pi.addMatchingKeys(o,h.addedDocuments,g)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(rt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(g,_),(function(N,M,L){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=tF?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,_,h)&&c.push(t.Pi.updateTargetData(o,_))});let u=mr(),d=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(iF(o,s,e.documentUpdates).next(h=>{u=h.ks,d=h.qs})),!r.isEqual(Y.min())){let h=t.Pi.getLastRemoteSnapshotVersion(o).next(g=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return A.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.Ms=i,o))}function iF(n,e,t){let r=de(),i=de();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=mr();return t.forEach((c,u)=>{let d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(zy,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{ks:s,qs:i}})}function oF(n,e){let t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,A.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new Va(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}function uy(n,e,t){return k(this,null,function*(){let r=le(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Lo(s))throw s;F(zy,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)})}function AC(n,e,t){let r=le(n),i=Y.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,d,h){let g=le(u),m=g.xs.get(h);return m!==void 0?A.resolve(g.Ms.get(m)):g.Pi.getTargetData(d,h)})(r,s,cn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:Y.min(),t?o:de())).next(c=>(sF(r,Ek(e),c),{documents:c,Qs:o})))}function sF(n,e,t){let r=n.Os.get(e)||Y.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var rd=class{constructor(){this.activeTargetIds=Tk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ly=class{constructor(){this.Mo=new rd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dy=class{Oo(e){}shutdown(){}};var MC="ConnectivityMonitor",id=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(MC,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){F(MC,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ll=null;function fy(){return Ll===null?Ll=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ll++,"0x"+Ll.toString(16)}var om="RestConnection",aF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},hy=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=fy(),c=this.zo(e,t.toUriEncodedString());F(om,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:d}=new URL(c),h=Ml(d);return this.Jo(e,c,u,r,h).then(g=>(F(om,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Do(om,`RPC '${e}' ${s} failed with error: `,g,"url: ",c,"request:",r),g})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=aF[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var py=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var nt="WebChannelConnection",gy=class extends hy{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=fy();return new Promise((c,u)=>{let d=new Zg;d.setWithCredentials(!0),d.listenOnce(Jg.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ia.NO_ERROR:let g=d.getResponseJson();F(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),c(g);break;case Ia.TIMEOUT:F(nt,`RPC '${e}' ${s} timed out`),u(new U(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ia.HTTP_ERROR:let m=d.getStatus();if(F(nt,`RPC '${e}' ${s} failed with status:`,m,"response text:",d.getResponseText()),m>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);let S=_?.error;if(S&&S.status&&S.message){let N=(function(L){let me=L.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(me)>=0?me:P.UNKNOWN})(S.status);u(new U(N,S.message))}else u(new U(P.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new U(P.UNAVAILABLE,"Connection failed."));break;default:W(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{F(nt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(nt,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}T_(e,t,r){let i=fy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tm(),c=em(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(nt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let g=s.createWebChannel(h,u);this.I_(g);let m=!1,_=!1,S=new py({Yo:M=>{_?F(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(F(nt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),F(nt,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},Zo:()=>g.close()}),N=(M,L,me)=>{M.listen(L,he=>{try{me(he)}catch(it){setTimeout(()=>{throw it},0)}})};return N(g,so.EventType.OPEN,()=>{_||(F(nt,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),N(g,so.EventType.CLOSE,()=>{_||(_=!0,F(nt,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(g))}),N(g,so.EventType.ERROR,M=>{_||(_=!0,Do(nt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),S.a_(new U(P.UNAVAILABLE,"The operation could not be completed")))}),N(g,so.EventType.MESSAGE,M=>{if(!_){let L=M.data[0];De(!!L,16349);let me=L,he=me?.error||me[0]?.error;if(he){F(nt,`RPC '${e}' stream ${i} received error:`,he);let it=he.status,ut=(function(y){let E=Pe[y];if(E!==void 0)return AT(E)})(it),Ue=he.message;ut===void 0&&(ut=P.INTERNAL,Ue="Unknown error status: "+it+" with message "+he.message),_=!0,S.a_(new U(ut,Ue)),g.close()}else F(nt,`RPC '${e}' stream ${i} received:`,L),S.u_(L)}}),N(c,Xg.STAT_EVENT,M=>{M.stat===Ol.PROXY?F(nt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Ol.NOPROXY&&F(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function sm(){return typeof document<"u"?document:null}function VT(n){return new Vm(n,!0)}var od=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var RC="PersistentStream",my=class{constructor(e,t,r,i,o,s,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new od(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return k(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return k(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return k(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Pn(t.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(t)})}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new U(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(()=>k(this,null,function*(){this.state=0,this.start()}))}z_(e){return F(RC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(F(RC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yy=class extends my{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=zk(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?go(s.readTime):Y.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=bC(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=Rm(u)?{documents:qk(o,u)}:{query:Gk(o,u).ft},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=Uk(o,s.resumeToken);let d=jm(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(Y.min())>0){c.readTime=Bk(o,s.snapshotVersion.toTimestamp());let d=jm(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);let r=Kk(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=bC(this.serializer),t.removeTarget=e,this.q_(t)}};var vy=class{},_y=class extends vy{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,Bm(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(P.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Ho(e,Bm(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(P.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},Ey=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pn(t),this.aa=!1):F("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Oo="RemoteStore",wy=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(()=>k(this,null,function*(){qa(this)&&(F(Oo,"Restarting streams for network reachability change."),yield(function(u){return k(this,null,function*(){let d=le(u);d.Ea.add(4),yield za(d),d.Ra.set("Unknown"),d.Ea.delete(4),yield wd(d)})})(this))}))}),this.Ra=new Ey(r,i)}};function wd(n){return k(this,null,function*(){if(qa(n))for(let e of n.da)yield e(!0)})}function za(n){return k(this,null,function*(){for(let e of n.da)yield e(!1)})}function jT(n,e){let t=le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ky(t)?Wy(t):Vo(t).O_()&&Gy(t,e))}function qy(n,e){let t=le(n),r=Vo(t);t.Ia.delete(e),r.O_()&&BT(t,e),t.Ia.size===0&&(r.O_()?r.L_():qa(t)&&t.Ra.set("Unknown"))}function Gy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vo(n).Y_(e)}function BT(n,e){n.Va.Ue(e),Vo(n).Z_(e)}function Wy(n){n.Va=new Lm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Vo(n).start(),n.Ra.ua()}function Ky(n){return qa(n)&&!Vo(n).x_()&&n.Ia.size>0}function qa(n){return le(n).Ea.size===0}function UT(n){n.Va=void 0}function cF(n){return k(this,null,function*(){n.Ra.set("Online")})}function uF(n){return k(this,null,function*(){n.Ia.forEach((e,t)=>{Gy(n,e)})})}function lF(n,e){return k(this,null,function*(){UT(n),Ky(n)?(n.Ra.ha(e),Wy(n)):n.Ra.set("Unknown")})}function dF(n,e,t){return k(this,null,function*(){if(n.Ra.set("Online"),e instanceof Jl&&e.state===2&&e.cause)try{yield(function(i,o){return k(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ia.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ia.delete(c),i.Va.removeTarget(c))})})(n,e)}catch(r){F(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield NC(n,r)}else if(e instanceof po?n.Va.Ze(e):e instanceof Zl?n.Va.st(e):n.Va.tt(e),!t.isEqual(Y.min()))try{let r=yield LT(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Va.Tt(s);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,d)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),BT(o,u);let g=new Va(h.target,u,d,h.sequenceNumber);Gy(o,g)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){F(Oo,"Failed to raise snapshot:",r),yield NC(n,r)}})}function NC(n,e,t){return k(this,null,function*(){if(!Lo(e))throw e;n.Ea.add(1),yield za(n),n.Ra.set("Offline"),t||(t=()=>LT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>k(null,null,function*(){F(Oo,"Retrying IndexedDB access"),yield t(),n.Ea.delete(1),yield wd(n)}))})}function xC(n,e){return k(this,null,function*(){let t=le(n);t.asyncQueue.verifyOperationInProgress(),F(Oo,"RemoteStore received new credentials");let r=qa(t);t.Ea.add(3),yield za(t),r&&t.Ra.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),yield wd(t)})}function fF(n,e){return k(this,null,function*(){let t=le(n);e?(t.Ea.delete(2),yield wd(t)):e||(t.Ea.add(2),yield za(t),t.Ra.set("Unknown"))})}function Vo(n){return n.ma||(n.ma=(function(t,r,i){let o=le(t);return o.sa(),new yy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:cF.bind(null,n),t_:uF.bind(null,n),r_:lF.bind(null,n),H_:dF.bind(null,n)}),n.da.push(e=>k(null,null,function*(){e?(n.ma.B_(),Ky(n)?Wy(n):n.Ra.set("Unknown")):(yield n.ma.stop(),UT(n))}))),n.ma}var Iy=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $T(n,e){if(Pn("AsyncQueue",`${e}: ${n}`),Lo(n))return new U(P.UNAVAILABLE,`${e}: ${n}`);throw n}var sd=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=Da(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ad=class{constructor(){this.ga=new Ae(z.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):W(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},ko=class n{constructor(e,t,r,i,o,s,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,sd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Dy=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},by=class{constructor(){this.queries=PC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=le(t),o=i.queries;i.queries=PC(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new U(P.ABORTED,"Firestore shutting down"))}};function PC(){return new Fn(n=>_T(n),_d)}function hF(n,e){return k(this,null,function*(){let t=le(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Dy,r=e.Da()?0:1);try{switch(r){case 0:o.wa=yield t.onListen(i,!0);break;case 1:o.wa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=$T(s,`Initialization of query '${co(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Qy(t)})}function pF(n,e){return k(this,null,function*(){let t=le(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function gF(n,e){let t=le(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.Sa)c.Fa(i)&&(r=!0);s.wa=i}}r&&Qy(t)}function mF(n,e,t){let r=le(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function Qy(n){n.Ca.forEach(e=>{e.next()})}var Cy,OC;(OC=Cy||(Cy={})).Ma="default",OC.Cache="cache";var Ty=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}};var cd=class{constructor(e){this.key=e}},ud=class{constructor(e){this.key=e}},Sy=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=ET(e),this.tu=new sd(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new ad,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let m=i.get(h),_=Ed(this.query,g)?g:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;m&&_?m.data.isEqual(_.data)?S!==N&&(r.track({type:3,doc:_}),M=!0):this.su(m,_)||(r.track({type:2,doc:_}),M=!0,(u&&this.eu(_,u)>0||d&&this.eu(_,d)<0)&&(c=!0)):!m&&_?(r.track({type:0,doc:_}),M=!0):m&&!_&&(r.track({type:1,doc:m}),M=!0,(u||d)&&(c=!0)),M&&(_?(s=s.add(_),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,g)=>(function(_,S){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Rt:M})}};return N(_)-N(S)})(h.type,g.type)||this.eu(h.doc,g.doc)),this.ou(r),i=i??!1;let c=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,s.length!==0||d?{snapshot:new ko(this.query,e.tu,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ad,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new ud(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new cd(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=de();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Yy="SyncEngine",Ay=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},My=class{constructor(e){this.key=e,this.hu=!1}},Ry=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fn(c=>_T(c),_d),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(z.comparator),this.Au=new Map,this.Ru=new Ba,this.Vu={},this.mu=new Map,this.fu=ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};function yF(n,e,t=!0){return k(this,null,function*(){let r=WT(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=yield HT(r,e,t,!0),i})}function vF(n,e){return k(this,null,function*(){let t=WT(n);yield HT(t,e,!0,!1)})}function HT(n,e,t,r){return k(this,null,function*(){let i=yield oF(n.localStore,cn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield _F(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&jT(n.remoteStore,i),c})}function _F(n,e,t,r,i){return k(this,null,function*(){n.pu=(g,m,_)=>(function(N,M,L,me){return k(this,null,function*(){let he=M.view.ru(L);he.Cs&&(he=yield AC(N.localStore,M.query,!1).then(({documents:I})=>M.view.ru(I,he)));let it=me&&me.targetChanges.get(M.targetId),ut=me&&me.targetMismatches.get(M.targetId)!=null,Ue=M.view.applyChanges(he,N.isPrimaryClient,it,ut);return FC(N,M.targetId,Ue.au),Ue.snapshot})})(n,g,m,_);let o=yield AC(n.localStore,e,!0),s=new Sy(e,o.Qs),c=s.ru(o.documents),u=La.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(c,n.isPrimaryClient,u);FC(n,t,d.au);let h=new Ay(e,t,s);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot})}function EF(n,e,t){return k(this,null,function*(){let r=le(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!_d(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&qy(r.remoteStore,i.targetId),Ny(r,i.targetId)}).catch(md))):(Ny(r,i.targetId),yield uy(r.localStore,i.targetId,!0))})}function wF(n,e){return k(this,null,function*(){let t=le(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qy(t.remoteStore,r.targetId))})}function zT(n,e){return k(this,null,function*(){let t=le(n);try{let r=yield rF(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?De(s.hu,14607):i.removedDocuments.size>0&&(De(s.hu,42227),s.hu=!1))}),yield GT(t,r,e)}catch(r){yield md(r)}})}function kC(n,e,t){let r=le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=le(s);u.onlineState=c;let d=!1;u.queries.forEach((h,g)=>{for(let m of g.Sa)m.va(c)&&(d=!0)}),d&&Qy(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IF(n,e,t){return k(this,null,function*(){let r=le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Ae(z.comparator);s=s.insert(o,Wt.newNoDocument(o,Y.min()));let c=de().add(o),u=new Yl(Y.min(),new Map,new Ae(se),s,c);yield zT(r,u),r.du=r.du.remove(o),r.Au.delete(e),Zy(r)}else yield uy(r.localStore,e,!1).then(()=>Ny(r,e,t)).catch(md)})}function Ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||qT(n,r)})}function qT(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(qy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Zy(n))}function FC(n,e,t){for(let r of t)r instanceof cd?(n.Ru.addReference(r.key,e),DF(n,r)):r instanceof ud?(F(Yy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||qT(n,r.key)):W(19791,{wu:r})}function DF(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(F(Yy,"New document in limbo: "+t),n.Eu.add(r),Zy(n))}function Zy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new z(Se.fromString(e)),r=n.fu.next();n.Au.set(r,new My(t)),n.du=n.du.insert(t,r),jT(n.remoteStore,new Va(cn(vT(t.path)),r,"TargetPurposeLimboResolution",jy.ce))}}function GT(n,e,t){return k(this,null,function*(){let r=le(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{s.push(r.pu(u,e,t).then(d=>{if((d||t)&&r.isPrimaryClient){let h=d?!d.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){i.push(d);let h=oy.As(u.targetId,d);o.push(h)}}))}),yield Promise.all(s),r.Pu.H_(i),yield(function(u,d){return k(this,null,function*(){let h=le(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>A.forEach(d,m=>A.forEach(m.Es,_=>h.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>A.forEach(m.ds,_=>h.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!Lo(g))throw g;F(zy,"Failed to update sequence numbers: "+g)}for(let g of d){let m=g.targetId;if(!g.fromCache){let _=h.Ms.get(m),S=_.snapshotVersion,N=_.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,N)}}})})(r.localStore,o))})}function bF(n,e){return k(this,null,function*(){let t=le(n);if(!t.currentUser.isEqual(e)){F(Yy,"User change. New user:",e.toKey());let r=yield FT(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(c=>{c.forEach(u=>{u.reject(new U(P.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield GT(t,r.Ls)}})}function CF(n,e){let t=le(n),r=t.Au.get(e);if(r&&r.hu)return de().add(r.key);{let i=de(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let c=t.Tu.get(s);i=i.unionWith(c.view.nu)}return i}}function WT(n){let e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IF.bind(null,e),e.Pu.H_=gF.bind(null,e.eventManager),e.Pu.yu=mF.bind(null,e.eventManager),e}var KT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return k(this,null,function*(){this.serializer=VT(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)})}Fu(t,r){return null}Mu(t,r){return null}vu(t){return nF(this.persistence,new ay,t.initialUser,this.serializer)}Cu(t){return new td(iy.mi,this.serializer)}Du(t){return new ly}terminate(){return k(this,null,function*(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),xy=class extends KT{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){De(this.persistence.referenceDelegate instanceof nd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new qm(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new td(r=>nd.mi(r,t),this.serializer)}};var TF=(()=>{class n{initialize(t,r){return k(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>kC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bF.bind(null,this.syncEngine),yield fF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new by})()}createDatastore(t){let r=VT(t.databaseInfo.databaseId),i=(function(s){return new gy(s)})(t.databaseInfo);return(function(s,c,u,d){return new _y(s,c,u,d)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new wy(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>kC(this.syncEngine,r,0),(function(){return id.v()?new id:new dy})())}createSyncEngine(t,r){return(function(o,s,c,u,d,h,g){let m=new Ry(o,s,c,u,d,h);return g&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return k(this,null,function*(){yield(function(r){return k(this,null,function*(){let i=le(r);F(Oo,"RemoteStore shutting down."),i.Ea.add(5),yield za(i),i.Aa.shutdown(),i.Ra.set("Unknown")})})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()})}}return n.provider={build:()=>new n},n})();var Py=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var yr="FirestoreClient",Oy=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=$l.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>k(this,null,function*(){F(yr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(yr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=$T(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function am(n,e){return k(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F(yr,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>k(null,null,function*(){r.isEqual(i)||(yield FT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function LC(n,e){return k(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield SF(n);F(yr,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>xC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>xC(e.remoteStore,i)),n._onlineComponents=e})}function SF(n){return k(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(yr,"Using user provided OfflineComponentProvider");try{yield am(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),yield am(n,new KT)}}else F(yr,"Using default OfflineComponentProvider"),yield am(n,new xy(void 0));return n._offlineComponents})}function AF(n){return k(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(yr,"Using user provided OnlineComponentProvider"),yield LC(n,n._uninitializedComponentsProvider._online)):(F(yr,"Using default OnlineComponentProvider"),yield LC(n,new TF))),n._onlineComponents})}function MF(n){return k(this,null,function*(){let e=yield AF(n),t=e.eventManager;return t.onListen=yF.bind(null,e.syncEngine),t.onUnlisten=EF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wF.bind(null,e.syncEngine),t})}function RF(n,e,t={}){let r=new Nn;return n.asyncQueue.enqueueAndForget(()=>k(null,null,function*(){return(function(o,s,c,u,d){let h=new Py({next:m=>{h.Nu(),s.enqueueAndForget(()=>pF(o,g)),m.fromCache&&u.source==="server"?d.reject(new U(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new Ty(c,h,{includeMetadataChanges:!0,qa:!0});return hF(o,g)})(yield MF(n),n.asyncQueue,e,t,r)})),r.promise}function QT(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var VC=new Map;var YT="firestore.googleapis.com",jC=!0,ld=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new U(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YT,this.ssl=jC}else this.host=e.host,this.ssl=e.ssl??jC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Xk)throw new U(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ua=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cm;switch(r.type){case"firstParty":return new fm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return k(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=VC.get(t);r&&(F("ComponentProvider","Removing Datastore"),VC.delete(t),r.terminate())})(this),Promise.resolve()}};function NF(n,e,t,r={}){n=gm(n,Ua);let i=Ml(e),o=n._getSettings(),s=Z(R({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;i&&(Ab(`https://${c}`),Rb("Firestore",!0)),o.host!==YT&&o.host!==c&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Z(R({},o),{host:c,ssl:i,emulatorOptions:r});if(!io(u,s)&&(n._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=qe.MOCK_USER;else{d=Mb(r.mockUserToken,n._app?.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new U(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qe(g)}n._authCredentials=new um(new Bl(d,h))}}var dd=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if($a(t,n._jsonSchema))return new n(e,r||null,new z(Se.fromString(t.referencePath)))}};xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:ke("string",xn._jsonSchemaVersion),referencePath:ke("string")};var mo=class n extends dd{constructor(e,t,r){super(e,t,vT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ZT(n,e,...t){if(n=Ob(n),qO("collection","path",e),n instanceof Ua){let r=Se.fromString(e,...t);return iC(r),new mo(n,null,r)}{if(!(n instanceof xn||n instanceof mo))throw new U(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Se.fromString(e,...t));return iC(r),new mo(n.firestore,null,r)}}var BC="AsyncQueue",fd=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new od(this,"async_queue_retry"),this._c=()=>{let r=sm();r&&F(BC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Nn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return k(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;F(BC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pn("INTERNAL UNHANDLED ERROR: ",UC(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=Iy.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&W(47125,{Pc:UC(this.nc)})}verifyOperationInProgress(){}Tc(){return k(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function UC(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var hd=class extends Ua{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return k(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fd(e),this._firestoreClient=void 0,yield e}})}};function JT(n,e){let t=typeof n=="object"?n:Yb(),r=typeof n=="string"?n:e||Wl,i=Wb(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Sb("firestore");o&&NF(i,...o)}return i}function xF(n){if(n._terminated)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PF(n),n._firestoreClient}function PF(n){let e=n._freezeSettings(),t=(function(i,o,s,c){return new vm(i,o,s,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,QT(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Oy(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var yo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(rt.fromBase64String(e))}catch(t){throw new U(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($a(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};yo._jsonSchemaVersion="firestore/bytes/1.0",yo._jsonSchema={type:ke("string",yo._jsonSchemaVersion),bytes:ke("string")};var pd=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if($a(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};vo._jsonSchemaVersion="firestore/geoPoint/1.0",vo._jsonSchema={type:ke("string",vo._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};var _o=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($a(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new U(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};_o._jsonSchemaVersion="firestore/vectorValue/1.0",_o._jsonSchema={type:ke("string",_o._jsonSchemaVersion),vectorValues:ke("object")};var OF=new RegExp("[~\\*/\\[\\]]");function kF(n,e,t){if(e.search(OF)>=0)throw $C(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch{throw $C(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $C(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(P.INVALID_ARGUMENT,c+n+u)}var gd=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ky(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(XT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ky=class extends gd{data(){return super.data()}};function XT(n,e){return typeof e=="string"?kF(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}function FF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fy=class{convertValue(e,t="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ha(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[Na].arrayValue?.values?.map(r=>Ie(r.doubleValue));return new _o(t)}convertGeoPoint(e){return new vo(Ie(e.latitude),Ie(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=vd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){let t=On(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Se.fromString(e);De(OT(r),9688,{name:e});let i=new Kl(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||Pn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var ho=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Eo=class n extends gd{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(XT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new U(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:ke("string",Eo._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};var wo=class extends Eo{data(e={}){return super.data(e)}},Io=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wo(this._firestore,this._userDataWriter,r.key,r,new ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new wo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ho(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new wo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ho(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,h=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:LF(c.type),doc:u,oldIndex:d,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new U(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$l.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function LF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:n})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:ke("string",Io._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};var Ly=class extends Fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}};function eS(n){n=gm(n,dd);let e=gm(n.firestore,hd),t=xF(e),r=new Ly(e);return FF(n._query),RF(t,n._query).then(i=>new Io(e,r,n,i))}(function(e,t=!0){(function(i){Fo=i})(Qb),Ea(new Tn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new hd(new lm(r.getProvider("auth-internal")),new hm(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new U(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(d.options.projectId,h)})(s,i),s);return o=R({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),pr(tC,nC,e),pr(tC,nC,"esm2020")})();function VF(n,e){if(n&1&&(B(0,"div",75)(1,"div",76)(2,"div",77)(3,"div",78),q(4),j(),B(5,"h4",79),q(6),j(),B(7,"p",80),q(8),j(),B(9,"p",81),q(10),j()()()()),n&2){let t=e.$implicit;xe(4),ar(" ",t.icon||"\u2728"," "),xe(2),zt(t.name),xe(2),zt(t.description||"No description available."),xe(2),ar("Price: R",t.price)}}function jF(n,e){if(n&1&&(B(0,"div",82)(1,"div",83)(2,"h3",84),q(3),j(),B(4,"p",56),q(5),j()()()),n&2){let t=e.$implicit;xe(3),zt(t.value),xe(2),zt(t.label)}}function BF(n,e){if(n&1&&(B(0,"div",85),q(1),j()),n&2){let t=e.$implicit;sr("user",t.sender==="user"),xe(),ar(" ",t.text," ")}}var Id=class n{title="Maru Tech Systems";services=[];aboutText="Maru Tech Systems is committed to delivering comprehensive digital solutions that empower clients to thrive in the constantly evolving digital realm. Based in Tokoza, Gauteng, South Africa, we have been serving businesses and individuals since 2014. Our expertise spans website creation, mobile app development, IT consultancy, and internet cafe services. We collaborate closely with our clients to understand their unique needs and craft solutions that align with their goals, ensuring they stay competitive in today's digital landscape.";stats=[{value:"11+",label:"Years Experience"},{value:"100+",label:"Projects Completed"},{value:"50+",label:"Happy Clients"},{value:"24/7",label:"Support Available"}];contactInfo={location:"Tokoza, Gauteng, South Africa",website:"https://marutechcafe.co.za",businessType:"Startup - Information & Communication Technology"};db;chatbotOpen=!1;chatMessages=[];userMessage="";document=document;ngOnInit(){this.initializeFirebase(),this.loadServices()}initializeFirebase(){let t=Qg({apiKey:"AIzaSyBJkh5UXEqh3XQXqXqXqXqXqXqXqXqXqXq",authDomain:"marutechsystems-d1234.firebaseapp.com",projectId:"marutechsystems-d1234",storageBucket:"marutechsystems-d1234.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:abcdef1234567890"});this.db=JT(t)}loadServices(){return k(this,null,function*(){try{let e=yield eS(ZT(this.db,"products"));this.services=[],e.forEach(t=>{this.services.push(t.data())})}catch(e){console.error("Error loading services:",e)}})}toggleChatbot(){this.chatbotOpen=!this.chatbotOpen}sendMessage(){this.userMessage.trim()&&(this.chatMessages.push({sender:"user",text:this.userMessage}),this.userMessage="",setTimeout(()=>{this.chatMessages.push({sender:"bot",text:"Thank you for your message. How can I help you?"})},500))}scrollToSection(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=js({type:n,selectors:[["app-root"]],decls:148,vars:12,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","fixed-top"],[1,"container"],["href","#home",1,"navbar-brand"],["src","img/maru_tech_logo.jpg","alt","Maru Tech Systems Logo","height","50",1,"logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["href","#home",1,"nav-link"],["href","#services",1,"nav-link"],["href","#about",1,"nav-link"],["href","#contact",1,"nav-link"],["id","home",1,"jumbotron-section"],[1,"jumbotron-container"],["id","heroCarousel","data-bs-ride","carousel","data-bs-interval","5000",1,"carousel","slide","carousel-fade"],[1,"carousel-indicators"],["type","button","data-bs-target","#heroCarousel","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#heroCarousel","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#heroCarousel","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active",2,"background-image","url('img/laptop_repairs.jpg')"],[1,"carousel-caption","d-block"],[1,"d-none","d-md-block"],[1,"carousel-item",2,"background-image","url('img/cellphone_repairs.jpg')"],[1,"carousel-item",2,"background-image","url('img/printing_services.jpeg')"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#heroCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"text-center","py-4"],[1,"btn","btn-primary","btn-lg",3,"click"],["id","services",1,"py-5","bg-light"],[1,"text-center","mb-5"],[1,"display-5","fw-bold"],[1,"lead","text-muted"],[1,"row","g-4"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],["id","about",1,"py-5"],[1,"row","align-items-center"],[1,"col-lg-6","mb-4","mb-lg-0"],[1,"display-5","fw-bold","mb-4"],[1,"lead"],[1,"col-lg-6"],[1,"row","g-3"],["class","col-6 col-md-3",4,"ngFor","ngForOf"],["id","contact",1,"py-5","bg-light"],[1,"row"],[1,"card","border-0","shadow-sm","h-100"],[1,"card-body","p-4"],[1,"card-title","fw-bold","mb-4"],[1,"mb-3"],[1,"d-flex","align-items-start","mb-3"],[1,"contact-icon","me-3"],[1,"fw-bold","mb-0"],[1,"text-muted","mb-0"],[1,"text-decoration-none",3,"href"],[1,"d-flex","align-items-start"],["for","name",1,"form-label"],["type","text","id","name","required","",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","required","",1,"form-control"],["for","message",1,"form-label"],["id","message","rows","4","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100"],[1,"chatbot-container"],[1,"chatbot-header"],[1,"btn-close",3,"click"],[1,"chatbot-messages"],["class","message",3,"user",4,"ngFor","ngForOf"],[1,"chatbot-input"],["type","text","placeholder","Type your message...",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn","btn-primary",3,"click"],[1,"chatbot-toggle",3,"click"],[1,"col-md-6","col-lg-4"],[1,"card","h-100","shadow-sm","border-0"],[1,"card-body","text-center","p-4"],[1,"icon-box","mb-3","mx-auto","d-flex","align-items-center","justify-content-center"],[1,"card-title","fw-bold","mb-3"],[1,"card-text","text-muted"],[1,"card-text","fw-bold"],[1,"col-6","col-md-3"],[1,"p-3","border","rounded","shadow-sm","text-center"],[1,"display-6","fw-bold"],[1,"message"]],template:function(t,r){t&1&&(B(0,"nav",0)(1,"div",1)(2,"a",2),Ct(3,"img",3),j(),B(4,"button",4),Ct(5,"span",5),j(),B(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),q(10,"Home"),j()(),B(11,"li",8)(12,"a",10),q(13,"Services"),j()(),B(14,"li",8)(15,"a",11),q(16,"About"),j()(),B(17,"li",8)(18,"a",12),q(19,"Contact"),j()()()()()(),B(20,"section",13)(21,"div",14)(22,"div",15)(23,"div",16),Ct(24,"button",17)(25,"button",18)(26,"button",19),j(),B(27,"div",20)(28,"div",21)(29,"div",22)(30,"h5"),q(31,"Laptop Repairs"),j(),B(32,"p",23),q(33,"Expert diagnostics and repair services for all laptop makes and models."),j()()(),B(34,"div",24)(35,"div",22)(36,"h5"),q(37,"Cellphone Repairs"),j(),B(38,"p",23),q(39,"Fast and reliable repairs for cracked screens, battery issues, and more."),j()()(),B(40,"div",25)(41,"div",22)(42,"h5"),q(43,"Printing Services"),j(),B(44,"p",23),q(45,"High-quality printing for documents, photos, and custom projects."),j()()()(),B(46,"button",26),Ct(47,"span",27),B(48,"span",28),q(49,"Previous"),j()(),B(50,"button",29),Ct(51,"span",30),B(52,"span",28),q(53,"Next"),j()()(),B(54,"div",31)(55,"button",32),Ht("click",function(){return r.scrollToSection("services")}),q(56,"Get Started"),j()()()(),B(57,"section",33)(58,"div",1)(59,"div",34)(60,"h2",35),q(61,"Our Services"),j(),B(62,"p",36),q(63,"Comprehensive digital solutions to empower your business"),j()(),B(64,"div",37),ji(65,VF,11,4,"div",38),j()()(),B(66,"section",39)(67,"div",1)(68,"div",40)(69,"div",41)(70,"h2",42),q(71),j(),B(72,"p",43),q(73),j()(),B(74,"div",44)(75,"div",45),ji(76,jF,6,2,"div",46),j()()()()(),B(77,"section",47)(78,"div",1)(79,"div",34)(80,"h2",35),q(81,"Get In Touch"),j(),B(82,"p",36),q(83,"Ready to transform your digital presence?"),j()(),B(84,"div",48)(85,"div",41)(86,"div",49)(87,"div",50)(88,"h5",51),q(89,"Contact Information"),j(),B(90,"div",52)(91,"div",53)(92,"div",54),q(93,"\u{1F4CD}"),j(),B(94,"div")(95,"h6",55),q(96,"Location"),j(),B(97,"p",56),q(98),j()()(),B(99,"div",53)(100,"div",54),q(101,"\u{1F310}"),j(),B(102,"div")(103,"h6",55),q(104,"Website"),j(),B(105,"a",57),q(106),j()()(),B(107,"div",58)(108,"div",54),q(109,"\u{1F4BC}"),j(),B(110,"div")(111,"h6",55),q(112,"Business Type"),j(),B(113,"p",56),q(114),j()()()()()()(),B(115,"div",44)(116,"div",49)(117,"div",50)(118,"h5",51),q(119,"Send us a Message"),j(),B(120,"form")(121,"div",52)(122,"label",59),q(123,"Name"),j(),Ct(124,"input",60),j(),B(125,"div",52)(126,"label",61),q(127,"Email"),j(),Ct(128,"input",62),j(),B(129,"div",52)(130,"label",63),q(131,"Message"),j(),Ct(132,"textarea",64),j(),B(133,"button",65),q(134,"Send Message"),j()()()()()()()(),B(135,"div",66)(136,"div",67)(137,"h5"),q(138,"Maru Assistant"),j(),B(139,"button",68),Ht("click",function(){return r.toggleChatbot()}),j()(),B(140,"div",69),ji(141,BF,2,3,"div",70),j(),B(142,"div",71)(143,"input",72),Uu("ngModelChange",function(o){return yp(r.userMessage,o)||(r.userMessage=o),o}),Ht("keyup.enter",function(){return r.sendMessage()}),j(),B(144,"button",73),Ht("click",function(){return r.sendMessage()}),q(145,"Send"),j()()(),B(146,"button",74),Ht("click",function(){return r.toggleChatbot()}),q(147,"\u{1F4AC}"),j()),t&2&&(xe(65),zr("ngForOf",r.services),xe(6),ar("About ",r.title),xe(2),zt(r.aboutText),xe(3),zr("ngForOf",r.stats),xe(22),zt(r.contactInfo.location),xe(7),zr("href",r.contactInfo.website,Yh),xe(),zt(r.contactInfo.website),xe(8),zt(r.contactInfo.businessType),xe(21),sr("open",r.chatbotOpen),xe(6),zr("ngForOf",r.chatMessages),xe(2),Bu("ngModel",r.userMessage))},dependencies:[Wu,Gu,_b,vb,Tl,db,fb,Rg,Mg],styles:['.chatbot-container[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:20px;width:350px;height:500px;background:#fff;border-radius:10px;box-shadow:0 4px 12px #00000026;display:flex;flex-direction:column;opacity:0;pointer-events:none;transition:opacity .3s ease;z-index:1000}.chatbot-container.open[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.chatbot-header[_ngcontent-%COMP%]{background:#c41e3a;color:#fff;padding:15px;border-radius:10px 10px 0 0;display:flex;justify-content:space-between;align-items:center}.chatbot-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.chatbot-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px}.message[_ngcontent-%COMP%]{padding:10px 15px;border-radius:8px;max-width:80%;word-wrap:break-word}.message.user[_ngcontent-%COMP%]{background:#c41e3a;color:#fff;align-self:flex-end}.message[_ngcontent-%COMP%]:not(.user){background:#f0f0f0;color:#333;align-self:flex-start}.chatbot-input[_ngcontent-%COMP%]{display:flex;gap:10px;padding:15px;border-top:1px solid #eee}.chatbot-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:1px solid #ddd;border-radius:5px;padding:8px 12px}.chatbot-toggle[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;border-radius:50%;background:#c41e3a;color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 12px #00000026;z-index:999}.chatbot-toggle[_ngcontent-%COMP%]:hover{background:#a01830}.icon-box[_ngcontent-%COMP%]{font-size:48px;width:80px;height:80px}.contact-icon[_ngcontent-%COMP%]{font-size:24px}.jumbotron-section[_ngcontent-%COMP%]{padding-top:60px}.jumbotron-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#c41e3a);color:#fff;padding:0}.carousel-inner[_ngcontent-%COMP%]{height:400px}.carousel-item[_ngcontent-%COMP%]{height:100%;background-size:cover;background-position:center;position:relative}.carousel-item[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#0006}.carousel-caption[_ngcontent-%COMP%]{position:relative;z-index:10}@media (max-width: 768px){.chatbot-container[_ngcontent-%COMP%]{width:90%;height:400px;bottom:70px;left:5%;right:5%}.carousel-inner[_ngcontent-%COMP%]{height:250px}}']})};Up(Id,KD).catch(n=>console.error(n));
